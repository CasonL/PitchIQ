2025-04-28 23:51:40,615 INFO app MainThread : --- Logging configured (INFO to console, DEBUG to file) ---
2025-04-28 23:51:40,616 INFO app MainThread : --- Logging configured (INFO to console, DEBUG to file) ---
2025-04-28 23:51:40,616 INFO app MainThread : Loaded configuration for environment: dev
2025-04-28 23:51:40,617 INFO app MainThread : Loaded configuration for environment: dev
2025-04-28 23:51:40,617 INFO app.database_manager MainThread : Initializing Database Manager
2025-04-28 23:51:40,617 INFO app.database_manager MainThread : Initializing Database Manager
2025-04-28 23:51:40,640 INFO app.database_manager MainThread : Database Manager initialized successfully
2025-04-28 23:51:40,640 INFO app.database_manager MainThread : Database Manager initialized successfully
2025-04-28 23:51:40,641 INFO app.services.api_manager MainThread : Initializing API Manager with all services
2025-04-28 23:51:40,642 INFO app.services.api_manager MainThread : Initializing API Manager with all services
2025-04-28 23:51:40,642 INFO app.services.openai_service MainThread : Initializing OpenAIService with app context...
2025-04-28 23:51:40,643 INFO app.services.openai_service MainThread : Initializing OpenAIService with app context...
2025-04-28 23:51:40,643 INFO app.services.openai_service MainThread : Resolved OpenAI model: gpt-4.1-mini (Config: gpt-4.1-mini, Env: None, Default: gpt-4.1-mini)
2025-04-28 23:51:40,643 INFO app.services.openai_service MainThread : Resolved OpenAI model: gpt-4.1-mini (Config: gpt-4.1-mini, Env: None, Default: gpt-4.1-mini)
2025-04-28 23:51:40,644 INFO app.services.openai_service MainThread : Resolved feedback model: gpt-4.1-mini (Config: None, Env: None, Default: gpt-4.1-mini)
2025-04-28 23:51:40,644 INFO app.services.openai_service MainThread : Resolved feedback model: gpt-4.1-mini (Config: None, Env: None, Default: gpt-4.1-mini)
2025-04-28 23:51:40,644 INFO app.services.openai_service MainThread : Operating system: Windows 10 (10.0.26100)
2025-04-28 23:51:40,645 INFO app.services.openai_service MainThread : Operating system: Windows 10 (10.0.26100)
2025-04-28 23:51:40,652 INFO app.services.openai_service MainThread : Hostname: CasonsPC, Primary IP (gethostbyname): 10.0.0.150
2025-04-28 23:51:40,653 INFO app.services.openai_service MainThread : Hostname: CasonsPC, Primary IP (gethostbyname): 10.0.0.150
2025-04-28 23:51:40,654 INFO app.services.openai_service MainThread : All IPs for hostname (getaddrinfo): ['2604:3d08:ea96:700:6b3e:d2ca:7404:71a8', 'fe80::20d1:846a:12b1:1b1a', '2604:3d08:ea96:700:48ea:452c:6b57:7bd2', '2604:3d08:ea96:700::b1cc', '10.0.0.150']
2025-04-28 23:51:40,654 INFO app.services.openai_service MainThread : All IPs for hostname (getaddrinfo): ['fe80::20d1:846a:12b1:1b1a', '2604:3d08:ea96:700:6b3e:d2ca:7404:71a8', '2604:3d08:ea96:700::b1cc', '10.0.0.150', '2604:3d08:ea96:700:48ea:452c:6b57:7bd2']
2025-04-28 23:51:40,654 INFO app.services.openai_service MainThread : Proxy environment: HTTP_PROXY=None, HTTPS_PROXY=None, NO_PROXY=None
2025-04-28 23:51:40,655 INFO app.services.openai_service MainThread : Proxy environment: HTTP_PROXY=None, HTTPS_PROXY=None, NO_PROXY=None
2025-04-28 23:51:40,655 INFO app.services.openai_service MainThread : Python version: 3.11.9
2025-04-28 23:51:40,655 INFO app.services.openai_service MainThread : Python version: 3.11.9
2025-04-28 23:51:40,656 INFO app.services.openai_service MainThread : openai version: 1.7.0
2025-04-28 23:51:40,656 INFO app.services.openai_service MainThread : openai version: 1.7.0
2025-04-28 23:51:40,656 INFO app.services.openai_service MainThread : httpx version: 0.28.1
2025-04-28 23:51:40,657 INFO app.services.openai_service MainThread : httpx version: 0.28.1
2025-04-28 23:51:40,657 INFO app.services.openai_service MainThread : certifi path: C:\Users\cason\Downloads\salestraining-ai\.venv\Lib\site-packages\certifi\cacert.pem
2025-04-28 23:51:40,657 INFO app.services.openai_service MainThread : certifi path: C:\Users\cason\Downloads\salestraining-ai\.venv\Lib\site-packages\certifi\cacert.pem
2025-04-28 23:51:40,657 INFO app.services.openai_service MainThread : dnspython version: 2.4.2
2025-04-28 23:51:40,657 INFO app.services.openai_service MainThread : dnspython version: 2.4.2
2025-04-28 23:51:41,091 INFO app.services.openai_service MainThread : Created default httpx.Client instance explicitly with default SSL context.
2025-04-28 23:51:41,092 INFO app.services.openai_service MainThread : OpenAI client created with custom http_client.
2025-04-28 23:51:41,093 INFO app.services.openai_service MainThread : Testing basic connectivity to api.openai.com:443...
2025-04-28 23:51:41,097 INFO app.services.openai_service MainThread : Created default httpx.Client instance explicitly with default SSL context.
2025-04-28 23:51:41,099 INFO app.services.openai_service MainThread : OpenAI client created with custom http_client.
2025-04-28 23:51:41,100 INFO app.services.openai_service MainThread : Testing basic connectivity to api.openai.com:443...
2025-04-28 23:51:41,139 INFO app.services.openai_service MainThread : Socket connection to api.openai.com:443 successful
2025-04-28 23:51:41,139 INFO app.services.openai_service MainThread : Socket connection to api.openai.com:443 successful
2025-04-28 23:51:41,139 INFO app.services.openai_service MainThread : Testing OpenAI API connection with model: gpt-4.1-mini (attempt 1/5)...
2025-04-28 23:51:41,139 INFO app.services.openai_service MainThread : Testing OpenAI API connection with model: gpt-4.1-mini (attempt 1/5)...
2025-04-28 23:51:41,492 INFO httpx MainThread : HTTP Request: GET https://api.openai.com/v1/models/gpt-4.1-mini "HTTP/1.1 200 OK"
2025-04-28 23:51:41,494 INFO app.services.openai_service MainThread : OpenAI API connection successful for model: gpt-4.1-mini
2025-04-28 23:51:41,495 INFO app.services.openai_service MainThread : OpenAIService initialized with client.
2025-04-28 23:51:41,496 INFO app.services.openai_service MainThread : Testing basic connectivity to api.openai.com:443...
2025-04-28 23:51:41,521 INFO app.services.openai_service MainThread : Socket connection to api.openai.com:443 successful
2025-04-28 23:51:41,522 INFO app.services.openai_service MainThread : Testing OpenAI API connection with model: gpt-4.1-mini (attempt 1/5)...
2025-04-28 23:51:41,759 INFO httpx MainThread : HTTP Request: GET https://api.openai.com/v1/models/gpt-4.1-mini "HTTP/1.1 200 OK"
2025-04-28 23:51:41,762 INFO app.services.openai_service MainThread : OpenAI API connection successful for model: gpt-4.1-mini
2025-04-28 23:51:41,763 INFO app.services.openai_service MainThread : OpenAIService initialized with client.
2025-04-28 23:51:41,764 INFO app.services.openai_service MainThread : Testing basic connectivity to api.openai.com:443...
2025-04-28 23:51:41,789 INFO app.services.openai_service MainThread : Socket connection to api.openai.com:443 successful
2025-04-28 23:51:41,790 INFO app.services.openai_service MainThread : Testing OpenAI API connection with model: gpt-4.1-mini (attempt 1/5)...
2025-04-28 23:51:41,945 INFO httpx MainThread : HTTP Request: GET https://api.openai.com/v1/models/gpt-4.1-mini "HTTP/1.1 200 OK"
2025-04-28 23:51:41,948 INFO app.services.openai_service MainThread : OpenAI API connection successful for model: gpt-4.1-mini
2025-04-28 23:51:41,949 INFO app.services.api_manager MainThread : OpenAI service initialized: True
2025-04-28 23:51:41,950 INFO app.services.eleven_labs_service MainThread : ElevenLabsService init_app called. App config type: <class 'flask.config.Config'>
2025-04-28 23:51:41,951 INFO app.services.eleven_labs_service MainThread : API Key from app.config.get('ELEVEN_LABS_API_KEY'): Exists
2025-04-28 23:51:41,952 INFO app.services.eleven_labs_service MainThread : API Key from os.environ.get('ELEVEN_LABS_API_KEY'): Exists
2025-04-28 23:51:41,953 INFO app.services.eleven_labs_service MainThread : API Key from os.environ.get('ELEVENLABS_API_KEY'): Exists
2025-04-28 23:51:41,954 INFO app.services.eleven_labs_service MainThread : ElevenLabsService initialized successfully with API key (length: 51)
2025-04-28 23:51:41,955 INFO app.services.api_manager MainThread : ElevenLabs service initialized: True
2025-04-28 23:51:41,956 INFO app.services.deepgram_service MainThread : Initializing DeepgramService with app context
2025-04-28 23:51:41,957 INFO app.services.deepgram_service MainThread : Deepgram API key format: length=40, has prefix='dg_'=False
2025-04-28 23:51:41,959 INFO app.services.deepgram_service MainThread : Detected possible legacy key format, will try both original and with dg_ prefix
2025-04-28 23:51:41,960 INFO app.services.deepgram_service MainThread : Created alternative API key with dg_ prefix for fallback
2025-04-28 23:51:41,961 INFO app.services.deepgram_service MainThread : DeepgramService initialized successfully
2025-04-28 23:51:41,962 INFO app.services.api_manager MainThread : Deepgram service initialized
2025-04-28 23:51:41,966 INFO app.system_health MainThread : Health check routes registered
2025-04-28 23:51:41,967 INFO app.extensions MainThread : Initializing extensions for app instance (id: 2305743990160)
2025-04-28 23:51:41,969 INFO app.extensions MainThread : Initializing SQLAlchemy...
2025-04-28 23:51:41,970 INFO app.extensions MainThread : SQLAlchemy already registered on this Flask app, skipping initialization
2025-04-28 23:51:41,971 INFO app.extensions MainThread : Initializing Flask-Login...
2025-04-28 23:51:41,972 INFO app.extensions MainThread : Initializing Flask-Mail...
2025-04-28 23:51:41,974 INFO app.extensions MainThread : Initializing Flask-Limiter...
2025-04-28 23:51:41,977 INFO app.extensions MainThread : Initializing OAuth...
2025-04-28 23:51:41,977 INFO app.extensions MainThread : Initializing Flask-Migrate...
2025-04-28 23:51:41,979 INFO app.extensions MainThread : Initializing Flask-Bcrypt...
2025-04-28 23:51:41,981 INFO app.extensions MainThread : Initializing Flask-SocketIO...
2025-04-28 23:51:41,982 INFO app.extensions MainThread : Debug mode detected, enabling detailed socketio logging
2025-04-28 23:51:42,035 INFO engineio.server MainThread : Server initialized for threading.
2025-04-28 23:51:42,036 INFO app.extensions MainThread : Flask-SocketIO initialized successfully
2025-04-28 23:51:42,037 INFO app.extensions MainThread : All extensions initialized successfully
2025-04-28 23:51:42,198 INFO httpx MainThread : HTTP Request: GET https://api.openai.com/v1/models/gpt-4.1-mini "HTTP/1.1 200 OK"
2025-04-28 23:51:42,200 INFO app.services.openai_service MainThread : OpenAI API connection successful for model: gpt-4.1-mini
2025-04-28 23:51:42,200 INFO app.services.api_manager MainThread : OpenAI service initialized: True
2025-04-28 23:51:42,201 INFO app.services.eleven_labs_service MainThread : ElevenLabsService init_app called. App config type: <class 'flask.config.Config'>
2025-04-28 23:51:42,202 INFO app.services.eleven_labs_service MainThread : API Key from app.config.get('ELEVEN_LABS_API_KEY'): Exists
2025-04-28 23:51:42,203 INFO app.services.eleven_labs_service MainThread : API Key from os.environ.get('ELEVEN_LABS_API_KEY'): Exists
2025-04-28 23:51:42,203 INFO app.services.eleven_labs_service MainThread : API Key from os.environ.get('ELEVENLABS_API_KEY'): Exists
2025-04-28 23:51:42,204 INFO app.services.eleven_labs_service MainThread : ElevenLabsService initialized successfully with API key (length: 51)
2025-04-28 23:51:42,205 INFO app.services.api_manager MainThread : ElevenLabs service initialized: True
2025-04-28 23:51:42,206 INFO app.services.deepgram_service MainThread : Initializing DeepgramService with app context
2025-04-28 23:51:42,207 INFO app.services.deepgram_service MainThread : Deepgram API key format: length=40, has prefix='dg_'=False
2025-04-28 23:51:42,207 INFO app.services.deepgram_service MainThread : Detected possible legacy key format, will try both original and with dg_ prefix
2025-04-28 23:51:42,209 INFO app.services.deepgram_service MainThread : Created alternative API key with dg_ prefix for fallback
2025-04-28 23:51:42,210 INFO app.services.deepgram_service MainThread : DeepgramService initialized successfully
2025-04-28 23:51:42,211 INFO app.services.api_manager MainThread : Deepgram service initialized
2025-04-28 23:51:42,214 INFO app.system_health MainThread : Health check routes registered
2025-04-28 23:51:42,214 INFO app.extensions MainThread : Initializing extensions for app instance (id: 2705505095888)
2025-04-28 23:51:42,215 INFO app.extensions MainThread : Initializing SQLAlchemy...
2025-04-28 23:51:42,216 INFO app.extensions MainThread : SQLAlchemy already registered on this Flask app, skipping initialization
2025-04-28 23:51:42,217 INFO app.extensions MainThread : Initializing Flask-Login...
2025-04-28 23:51:42,218 INFO app.extensions MainThread : Initializing Flask-Mail...
2025-04-28 23:51:42,219 INFO app.extensions MainThread : Initializing Flask-Limiter...
2025-04-28 23:51:42,221 INFO app.extensions MainThread : Initializing OAuth...
2025-04-28 23:51:42,223 INFO app.extensions MainThread : Initializing Flask-Migrate...
2025-04-28 23:51:42,224 INFO app.extensions MainThread : Initializing Flask-Bcrypt...
2025-04-28 23:51:42,225 INFO app.extensions MainThread : Initializing Flask-SocketIO...
2025-04-28 23:51:42,226 INFO app.extensions MainThread : Debug mode detected, enabling detailed socketio logging
2025-04-28 23:51:42,247 INFO app.services.voice_analysis_service MainThread : Voice Analysis Service initialized.
2025-04-28 23:51:42,257 INFO engineio.server MainThread : Server initialized for threading.
2025-04-28 23:51:42,259 INFO app.extensions MainThread : Flask-SocketIO initialized successfully
2025-04-28 23:51:42,259 INFO app.extensions MainThread : All extensions initialized successfully
2025-04-28 23:51:42,308 INFO app.error_handler MainThread : Registering centralized error handlers
2025-04-28 23:51:42,309 WARNING werkzeug MainThread :  * Debugger is active!
2025-04-28 23:51:42,317 INFO werkzeug MainThread :  * Debugger PIN: 735-563-336
2025-04-28 23:51:42,426 INFO app.services.voice_analysis_service MainThread : Voice Analysis Service initialized.
2025-04-28 23:51:42,456 INFO app.error_handler MainThread : Registering centralized error handlers
2025-04-28 23:51:42,458 WARNING werkzeug MainThread :  * Debugger is active!
2025-04-28 23:51:42,465 INFO werkzeug MainThread :  * Debugger PIN: 735-563-336
2025-04-28 23:52:33,359 INFO app MainThread : --- Logging configured (INFO to console, DEBUG to file) ---
2025-04-28 23:52:33,360 INFO app MainThread : Loaded configuration for environment: dev
2025-04-28 23:52:33,360 INFO app.database_manager MainThread : Initializing Database Manager
2025-04-28 23:52:33,374 INFO app.database_manager MainThread : Database Manager initialized successfully
2025-04-28 23:52:33,375 INFO app.services.api_manager MainThread : Initializing API Manager with all services
2025-04-28 23:52:33,375 INFO app.services.openai_service MainThread : Initializing OpenAIService with app context...
2025-04-28 23:52:33,375 INFO app.services.openai_service MainThread : Resolved OpenAI model: gpt-4.1-mini (Config: gpt-4.1-mini, Env: None, Default: gpt-4.1-mini)
2025-04-28 23:52:33,376 INFO app.services.openai_service MainThread : Resolved feedback model: gpt-4.1-mini (Config: None, Env: None, Default: gpt-4.1-mini)
2025-04-28 23:52:33,376 INFO app.services.openai_service MainThread : Operating system: Windows 10 (10.0.26100)
2025-04-28 23:52:33,379 INFO app.services.openai_service MainThread : Hostname: CasonsPC, Primary IP (gethostbyname): 10.0.0.150
2025-04-28 23:52:33,380 INFO app.services.openai_service MainThread : All IPs for hostname (getaddrinfo): ['10.0.0.150', '2604:3d08:ea96:700::b1cc', '2604:3d08:ea96:700:48ea:452c:6b57:7bd2', '2604:3d08:ea96:700:6b3e:d2ca:7404:71a8', 'fe80::20d1:846a:12b1:1b1a']
2025-04-28 23:52:33,381 INFO app.services.openai_service MainThread : Proxy environment: HTTP_PROXY=None, HTTPS_PROXY=None, NO_PROXY=None
2025-04-28 23:52:33,381 INFO app.services.openai_service MainThread : Python version: 3.11.9
2025-04-28 23:52:33,381 INFO app.services.openai_service MainThread : openai version: 1.7.0
2025-04-28 23:52:33,383 INFO app.services.openai_service MainThread : httpx version: 0.28.1
2025-04-28 23:52:33,383 INFO app.services.openai_service MainThread : certifi path: C:\Users\cason\Downloads\salestraining-ai\.venv\Lib\site-packages\certifi\cacert.pem
2025-04-28 23:52:33,383 INFO app.services.openai_service MainThread : dnspython version: 2.4.2
2025-04-28 23:52:33,710 INFO app.services.openai_service MainThread : Created default httpx.Client instance explicitly with default SSL context.
2025-04-28 23:52:33,711 INFO app.services.openai_service MainThread : OpenAI client created with custom http_client.
2025-04-28 23:52:33,711 INFO app.services.openai_service MainThread : Testing basic connectivity to api.openai.com:443...
2025-04-28 23:52:33,786 INFO app.services.openai_service MainThread : Socket connection to api.openai.com:443 successful
2025-04-28 23:52:33,787 INFO app.services.openai_service MainThread : Testing OpenAI API connection with model: gpt-4.1-mini (attempt 1/5)...
2025-04-28 23:52:34,314 INFO httpx MainThread : HTTP Request: GET https://api.openai.com/v1/models/gpt-4.1-mini "HTTP/1.1 200 OK"
2025-04-28 23:52:34,317 INFO app.services.openai_service MainThread : OpenAI API connection successful for model: gpt-4.1-mini
2025-04-28 23:52:34,317 INFO app.services.openai_service MainThread : OpenAIService initialized with client.
2025-04-28 23:52:34,319 INFO app.services.openai_service MainThread : Testing basic connectivity to api.openai.com:443...
2025-04-28 23:52:34,344 INFO app.services.openai_service MainThread : Socket connection to api.openai.com:443 successful
2025-04-28 23:52:34,345 INFO app.services.openai_service MainThread : Testing OpenAI API connection with model: gpt-4.1-mini (attempt 1/5)...
2025-04-28 23:52:34,672 INFO httpx MainThread : HTTP Request: GET https://api.openai.com/v1/models/gpt-4.1-mini "HTTP/1.1 200 OK"
2025-04-28 23:52:34,674 INFO app.services.openai_service MainThread : OpenAI API connection successful for model: gpt-4.1-mini
2025-04-28 23:52:34,675 INFO app.services.api_manager MainThread : OpenAI service initialized: True
2025-04-28 23:52:34,676 INFO app.services.eleven_labs_service MainThread : ElevenLabsService init_app called. App config type: <class 'flask.config.Config'>
2025-04-28 23:52:34,677 INFO app.services.eleven_labs_service MainThread : API Key from app.config.get('ELEVEN_LABS_API_KEY'): Exists
2025-04-28 23:52:34,678 INFO app.services.eleven_labs_service MainThread : API Key from os.environ.get('ELEVEN_LABS_API_KEY'): Exists
2025-04-28 23:52:34,678 INFO app.services.eleven_labs_service MainThread : API Key from os.environ.get('ELEVENLABS_API_KEY'): Exists
2025-04-28 23:52:34,680 INFO app.services.eleven_labs_service MainThread : ElevenLabsService initialized successfully with API key (length: 51)
2025-04-28 23:52:34,681 INFO app.services.api_manager MainThread : ElevenLabs service initialized: True
2025-04-28 23:52:34,682 INFO app.services.deepgram_service MainThread : Initializing DeepgramService with app context
2025-04-28 23:52:34,683 INFO app.services.deepgram_service MainThread : Deepgram API key format: length=40, has prefix='dg_'=False
2025-04-28 23:52:34,683 INFO app.services.deepgram_service MainThread : Detected possible legacy key format, will try both original and with dg_ prefix
2025-04-28 23:52:34,684 INFO app.services.deepgram_service MainThread : Created alternative API key with dg_ prefix for fallback
2025-04-28 23:52:34,685 INFO app.services.deepgram_service MainThread : DeepgramService initialized successfully
2025-04-28 23:52:34,686 INFO app.services.api_manager MainThread : Deepgram service initialized
2025-04-28 23:52:34,688 INFO app.system_health MainThread : Health check routes registered
2025-04-28 23:52:34,689 INFO app.extensions MainThread : Initializing extensions for app instance (id: 2244692811984)
2025-04-28 23:52:34,690 INFO app.extensions MainThread : Initializing SQLAlchemy...
2025-04-28 23:52:34,692 INFO app.extensions MainThread : SQLAlchemy already registered on this Flask app, skipping initialization
2025-04-28 23:52:34,693 INFO app.extensions MainThread : Initializing Flask-Login...
2025-04-28 23:52:34,694 INFO app.extensions MainThread : Initializing Flask-Mail...
2025-04-28 23:52:34,695 INFO app.extensions MainThread : Initializing Flask-Limiter...
2025-04-28 23:52:34,697 INFO app.extensions MainThread : Initializing OAuth...
2025-04-28 23:52:34,698 INFO app.extensions MainThread : Initializing Flask-Migrate...
2025-04-28 23:52:34,698 INFO app.extensions MainThread : Initializing Flask-Bcrypt...
2025-04-28 23:52:34,699 INFO app.extensions MainThread : Initializing Flask-SocketIO...
2025-04-28 23:52:34,699 INFO app.extensions MainThread : Debug mode detected, enabling detailed socketio logging
2025-04-28 23:52:34,725 INFO engineio.server MainThread : Server initialized for threading.
2025-04-28 23:52:34,726 INFO app.extensions MainThread : Flask-SocketIO initialized successfully
2025-04-28 23:52:34,726 INFO app.extensions MainThread : All extensions initialized successfully
2025-04-28 23:52:34,912 INFO app.services.voice_analysis_service MainThread : Voice Analysis Service initialized.
2025-04-28 23:52:34,972 INFO app.error_handler MainThread : Registering centralized error handlers
2025-04-28 23:52:34,976 INFO werkzeug MainThread : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-04-28 23:52:34,977 INFO werkzeug MainThread : [33mPress CTRL+C to quit[0m
2025-04-28 23:52:34,977 INFO werkzeug MainThread :  * Restarting with stat
2025-04-28 23:52:37,103 INFO app MainThread : --- Logging configured (INFO to console, DEBUG to file) ---
2025-04-28 23:52:37,104 INFO app MainThread : Loaded configuration for environment: dev
2025-04-28 23:52:37,104 INFO app.database_manager MainThread : Initializing Database Manager
2025-04-28 23:52:37,116 INFO app.database_manager MainThread : Database Manager initialized successfully
2025-04-28 23:52:37,116 INFO app.services.api_manager MainThread : Initializing API Manager with all services
2025-04-28 23:52:37,117 INFO app.services.openai_service MainThread : Initializing OpenAIService with app context...
2025-04-28 23:52:37,117 INFO app.services.openai_service MainThread : Resolved OpenAI model: gpt-4.1-mini (Config: gpt-4.1-mini, Env: None, Default: gpt-4.1-mini)
2025-04-28 23:52:37,117 INFO app.services.openai_service MainThread : Resolved feedback model: gpt-4.1-mini (Config: None, Env: None, Default: gpt-4.1-mini)
2025-04-28 23:52:37,117 INFO app.services.openai_service MainThread : Operating system: Windows 10 (10.0.26100)
2025-04-28 23:52:37,122 INFO app.services.openai_service MainThread : Hostname: CasonsPC, Primary IP (gethostbyname): 10.0.0.150
2025-04-28 23:52:37,122 INFO app.services.openai_service MainThread : All IPs for hostname (getaddrinfo): ['fe80::20d1:846a:12b1:1b1a', '10.0.0.150', '2604:3d08:ea96:700:6b3e:d2ca:7404:71a8', '2604:3d08:ea96:700:48ea:452c:6b57:7bd2', '2604:3d08:ea96:700::b1cc']
2025-04-28 23:52:37,124 INFO app.services.openai_service MainThread : Proxy environment: HTTP_PROXY=None, HTTPS_PROXY=None, NO_PROXY=None
2025-04-28 23:52:37,124 INFO app.services.openai_service MainThread : Python version: 3.11.9
2025-04-28 23:52:37,125 INFO app.services.openai_service MainThread : openai version: 1.7.0
2025-04-28 23:52:37,125 INFO app.services.openai_service MainThread : httpx version: 0.28.1
2025-04-28 23:52:37,125 INFO app.services.openai_service MainThread : certifi path: C:\Users\cason\Downloads\salestraining-ai\.venv\Lib\site-packages\certifi\cacert.pem
2025-04-28 23:52:37,126 INFO app.services.openai_service MainThread : dnspython version: 2.4.2
2025-04-28 23:52:37,428 INFO app.services.openai_service MainThread : Created default httpx.Client instance explicitly with default SSL context.
2025-04-28 23:52:37,430 INFO app.services.openai_service MainThread : OpenAI client created with custom http_client.
2025-04-28 23:52:37,430 INFO app.services.openai_service MainThread : Testing basic connectivity to api.openai.com:443...
2025-04-28 23:52:37,473 INFO app.services.openai_service MainThread : Socket connection to api.openai.com:443 successful
2025-04-28 23:52:37,474 INFO app.services.openai_service MainThread : Testing OpenAI API connection with model: gpt-4.1-mini (attempt 1/5)...
2025-04-28 23:52:37,939 INFO httpx MainThread : HTTP Request: GET https://api.openai.com/v1/models/gpt-4.1-mini "HTTP/1.1 200 OK"
2025-04-28 23:52:37,941 INFO app.services.openai_service MainThread : OpenAI API connection successful for model: gpt-4.1-mini
2025-04-28 23:52:37,943 INFO app.services.openai_service MainThread : OpenAIService initialized with client.
2025-04-28 23:52:37,944 INFO app.services.openai_service MainThread : Testing basic connectivity to api.openai.com:443...
2025-04-28 23:52:37,971 INFO app.services.openai_service MainThread : Socket connection to api.openai.com:443 successful
2025-04-28 23:52:37,972 INFO app.services.openai_service MainThread : Testing OpenAI API connection with model: gpt-4.1-mini (attempt 1/5)...
2025-04-28 23:52:38,262 INFO httpx MainThread : HTTP Request: GET https://api.openai.com/v1/models/gpt-4.1-mini "HTTP/1.1 200 OK"
2025-04-28 23:52:38,264 INFO app.services.openai_service MainThread : OpenAI API connection successful for model: gpt-4.1-mini
2025-04-28 23:52:38,266 INFO app.services.api_manager MainThread : OpenAI service initialized: True
2025-04-28 23:52:38,267 INFO app.services.eleven_labs_service MainThread : ElevenLabsService init_app called. App config type: <class 'flask.config.Config'>
2025-04-28 23:52:38,267 INFO app.services.eleven_labs_service MainThread : API Key from app.config.get('ELEVEN_LABS_API_KEY'): Exists
2025-04-28 23:52:38,269 INFO app.services.eleven_labs_service MainThread : API Key from os.environ.get('ELEVEN_LABS_API_KEY'): Exists
2025-04-28 23:52:38,269 INFO app.services.eleven_labs_service MainThread : API Key from os.environ.get('ELEVENLABS_API_KEY'): Exists
2025-04-28 23:52:38,270 INFO app.services.eleven_labs_service MainThread : ElevenLabsService initialized successfully with API key (length: 51)
2025-04-28 23:52:38,271 INFO app.services.api_manager MainThread : ElevenLabs service initialized: True
2025-04-28 23:52:38,271 INFO app.services.deepgram_service MainThread : Initializing DeepgramService with app context
2025-04-28 23:52:38,272 INFO app.services.deepgram_service MainThread : Deepgram API key format: length=40, has prefix='dg_'=False
2025-04-28 23:52:38,272 INFO app.services.deepgram_service MainThread : Detected possible legacy key format, will try both original and with dg_ prefix
2025-04-28 23:52:38,273 INFO app.services.deepgram_service MainThread : Created alternative API key with dg_ prefix for fallback
2025-04-28 23:52:38,273 INFO app.services.deepgram_service MainThread : DeepgramService initialized successfully
2025-04-28 23:52:38,274 INFO app.services.api_manager MainThread : Deepgram service initialized
2025-04-28 23:52:38,277 INFO app.system_health MainThread : Health check routes registered
2025-04-28 23:52:38,278 INFO app.extensions MainThread : Initializing extensions for app instance (id: 2179650569872)
2025-04-28 23:52:38,278 INFO app.extensions MainThread : Initializing SQLAlchemy...
2025-04-28 23:52:38,279 INFO app.extensions MainThread : SQLAlchemy already registered on this Flask app, skipping initialization
2025-04-28 23:52:38,281 INFO app.extensions MainThread : Initializing Flask-Login...
2025-04-28 23:52:38,281 INFO app.extensions MainThread : Initializing Flask-Mail...
2025-04-28 23:52:38,282 INFO app.extensions MainThread : Initializing Flask-Limiter...
2025-04-28 23:52:38,284 INFO app.extensions MainThread : Initializing OAuth...
2025-04-28 23:52:38,284 INFO app.extensions MainThread : Initializing Flask-Migrate...
2025-04-28 23:52:38,285 INFO app.extensions MainThread : Initializing Flask-Bcrypt...
2025-04-28 23:52:38,285 INFO app.extensions MainThread : Initializing Flask-SocketIO...
2025-04-28 23:52:38,286 INFO app.extensions MainThread : Debug mode detected, enabling detailed socketio logging
2025-04-28 23:52:38,324 INFO engineio.server MainThread : Server initialized for threading.
2025-04-28 23:52:38,326 INFO app.extensions MainThread : Flask-SocketIO initialized successfully
2025-04-28 23:52:38,327 INFO app.extensions MainThread : All extensions initialized successfully
2025-04-28 23:52:38,556 INFO app.services.voice_analysis_service MainThread : Voice Analysis Service initialized.
2025-04-28 23:52:38,608 INFO app.error_handler MainThread : Registering centralized error handlers
2025-04-28 23:52:38,609 WARNING werkzeug MainThread :  * Debugger is active!
2025-04-28 23:52:38,619 INFO werkzeug MainThread :  * Debugger PIN: 735-563-336
2025-04-28 23:52:47,283 INFO werkzeug Thread-4 (process_request_thread) : 127.0.0.1 - - [28/Apr/2025 23:52:47] "GET /api/auth/status HTTP/1.1" 200 -
2025-04-28 23:52:47,284 INFO werkzeug Thread-3 (process_request_thread) : 127.0.0.1 - - [28/Apr/2025 23:52:47] "GET /api/auth/status HTTP/1.1" 200 -
2025-04-28 23:52:54,912 INFO app.chat.routes Thread-5 (process_request_thread) : Received request to /api/chat: application/json POST
2025-04-28 23:52:54,915 INFO app.chat.routes Thread-5 (process_request_thread) : Received message: Hey, how's it going?...
2025-04-28 23:52:54,973 INFO app.services.conversation_service Thread-5 (process_request_thread) : --- Entering process_user_message for session 9 ---
2025-04-28 23:52:55,000 ERROR app.services.conversation_service Thread-5 (process_request_thread) : Error in process_user_message: 'training_session_id' is an invalid keyword argument for Message
Traceback (most recent call last):
  File "C:\Users\cason\Downloads\salestraining-ai\app\services\conversation_service.py", line 52, in process_user_message
    user_message = Message(
                   ^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\cason\Downloads\salestraining-ai\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 575, in _initialize_instance
    with util.safe_reraise():
  File "C:\Users\cason\Downloads\salestraining-ai\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 147, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\cason\Downloads\salestraining-ai\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 573, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
  File "C:\Users\cason\Downloads\salestraining-ai\.venv\Lib\site-packages\sqlalchemy\orm\decl_base.py", line 2073, in _declarative_constructor
    raise TypeError(
TypeError: 'training_session_id' is an invalid keyword argument for Message
2025-04-28 23:52:55,010 CRITICAL app.services.conversation_service Thread-5 (process_request_thread) : --- CRITICAL: process_user_message caught an exception ---
2025-04-28 23:52:55,010 INFO app.chat.routes Thread-5 (process_request_thread) : Received response from conversation service: I apologize, but I'm experiencing a technical issu...
2025-04-28 23:52:55,016 INFO werkzeug Thread-5 (process_request_thread) : 127.0.0.1 - - [28/Apr/2025 23:52:55] "POST /chat/api/chat HTTP/1.1" 200 -
2025-04-28 23:54:46,463 INFO werkzeug MainThread :  * Detected change in 'C:\\Users\\cason\\Downloads\\salestraining-ai\\app\\chat\\routes.py', reloading
2025-04-28 23:54:46,483 INFO werkzeug MainThread :  * Detected change in 'C:\\Users\\cason\\Downloads\\salestraining-ai\\app\\chat\\routes.py', reloading
2025-04-28 23:54:47,084 INFO werkzeug MainThread :  * Restarting with stat
2025-04-28 23:54:49,320 INFO app MainThread : --- Logging configured (INFO to console, DEBUG to file) ---
2025-04-28 23:54:49,320 INFO app MainThread : Loaded configuration for environment: dev
2025-04-28 23:54:49,320 INFO app MainThread : --- Logging configured (INFO to console, DEBUG to file) ---
2025-04-28 23:54:49,322 INFO app MainThread : Loaded configuration for environment: dev
ger
2025-04-28 23:54:49,323 INFO app.database_manager MainThread : Initializing Database Manager
2025-04-28 23:54:49,338 INFO app.database_manager MainThread : Database Manager initialized successfully
2025-04-28 23:54:49,339 INFO app.services.api_manager MainThread : Initializing API Manager with all services
2025-04-28 23:54:49,339 INFO app.database_manager MainThread : Database Manager initialized successfully
2025-04-28 23:54:49,339 INFO app.services.openai_service MainThread : Initializing OpenAIService with app context...
2025-04-28 23:54:49,339 INFO app.services.api_manager MainThread : Initializing API Manager with all services
2025-04-28 23:54:49,339 INFO app.services.openai_service MainThread : Resolved OpenAI model: gpt-4.1-mini (Config: gpt-4.1-mini, Env: None, Default: gpt-4.1-mini)
2025-04-28 23:54:49,341 INFO app.services.openai_service MainThread : Resolved feedback model: gpt-4.1-mini (Config: None, Env: None, Default: gpt-4.1-mini)
2025-04-28 23:54:49,341 INFO app.services.openai_service MainThread : Initializing OpenAIService with app context...
2025-04-28 23:54:49,342 INFO app.services.openai_service MainThread : Operating system: Windows 10 (10.0.26100)
2025-04-28 23:54:49,342 INFO app.services.openai_service MainThread : Resolved OpenAI model: gpt-4.1-mini (Config: gpt-4.1-mini, Env: None, Default: gpt-4.1-mini)
2025-04-28 23:54:49,342 INFO app.services.openai_service MainThread : Resolved feedback model: gpt-4.1-mini (Config: None, Env: None, Default: gpt-4.1-mini)
2025-04-28 23:54:49,343 INFO app.services.openai_service MainThread : Operating system: Windows 10 (10.0.26100)
2025-04-28 23:54:49,347 INFO app.services.openai_service MainThread : Hostname: CasonsPC, Primary IP (gethostbyname): 10.0.0.150
2025-04-28 23:54:49,348 INFO app.services.openai_service MainThread : Hostname: CasonsPC, Primary IP (gethostbyname): 10.0.0.150
2025-04-28 23:54:49,349 INFO app.services.openai_service MainThread : All IPs for hostname (getaddrinfo): ['2604:3d08:ea96:700:48ea:452c:6b57:7bd2', 'fe80::20d1:846a:12b1:1b1a', '10.0.0.150', '2604:3d08:ea96:700::b1cc', '2604:3d08:ea96:700:6b3e:d2ca:7404:71a8']
2025-04-28 23:54:49,350 INFO app.services.openai_service MainThread : All IPs for hostname (getaddrinfo): ['2604:3d08:ea96:700:6b3e:d2ca:7404:71a8', '10.0.0.150', '2604:3d08:ea96:700::b1cc', 'fe80::20d1:846a:12b1:1b1a', '2604:3d08:ea96:700:48ea:452c:6b57:7bd2']
2025-04-28 23:54:49,350 INFO app.services.openai_service MainThread : Proxy environment: HTTP_PROXY=None, HTTPS_PROXY=None, NO_PROXY=None
2025-04-28 23:54:49,350 INFO app.services.openai_service MainThread : Proxy environment: HTTP_PROXY=None, HTTPS_PROXY=None, NO_PROXY=None
2025-04-28 23:54:49,350 INFO app.services.openai_service MainThread : Python version: 3.11.9
2025-04-28 23:54:49,351 INFO app.services.openai_service MainThread : openai version: 1.7.0
2025-04-28 23:54:49,351 INFO app.services.openai_service MainThread : Python version: 3.11.9
2025-04-28 23:54:49,351 INFO app.services.openai_service MainThread : httpx version: 0.28.1
2025-04-28 23:54:49,351 INFO app.services.openai_service MainThread : openai version: 1.7.0
2025-04-28 23:54:49,353 INFO app.services.openai_service MainThread : certifi path: C:\Users\cason\Downloads\salestraining-ai\.venv\Lib\site-packages\certifi\cacert.pem
2025-04-28 23:54:49,353 INFO app.services.openai_service MainThread : httpx version: 0.28.1
2025-04-28 23:54:49,354 INFO app.services.openai_service MainThread : dnspython version: 2.4.2
2025-04-28 23:54:49,355 INFO app.services.openai_service MainThread : certifi path: C:\Users\cason\Downloads\salestraining-ai\.venv\Lib\site-packages\certifi\cacert.pem
2025-04-28 23:54:49,356 INFO app.services.openai_service MainThread : dnspython version: 2.4.2
2025-04-28 23:54:49,890 INFO app.services.openai_service MainThread : Created default httpx.Client instance explicitly with default SSL context.
2025-04-28 23:54:49,890 INFO app.services.openai_service MainThread : Created default httpx.Client instance explicitly with default SSL context.
2025-04-28 23:54:49,891 INFO app.services.openai_service MainThread : OpenAI client created with custom http_client.
2025-04-28 23:54:49,891 INFO app.services.openai_service MainThread : OpenAI client created with custom http_client.
2025-04-28 23:54:49,891 INFO app.services.openai_service MainThread : Testing basic connectivity to api.openai.com:443...
2025-04-28 23:54:49,891 INFO app.services.openai_service MainThread : Testing basic connectivity to api.openai.com:443...
2025-04-28 23:54:49,988 INFO app.services.openai_service MainThread : Socket connection to api.openai.com:443 successful
2025-04-28 23:54:49,988 INFO app.services.openai_service MainThread : Socket connection to api.openai.com:443 successful
2025-04-28 23:54:49,989 INFO app.services.openai_service MainThread : Testing OpenAI API connection with model: gpt-4.1-mini (attempt 1/5)...
2025-04-28 23:54:49,989 INFO app.services.openai_service MainThread : Testing OpenAI API connection with model: gpt-4.1-mini (attempt 1/5)...
2025-04-28 23:54:50,551 INFO httpx MainThread : HTTP Request: GET https://api.openai.com/v1/models/gpt-4.1-mini "HTTP/1.1 200 OK"
2025-04-28 23:54:50,557 INFO app.services.openai_service MainThread : OpenAI API connection successful for model: gpt-4.1-mini
2025-04-28 23:54:50,559 INFO app.services.openai_service MainThread : OpenAIService initialized with client.
2025-04-28 23:54:50,560 INFO app.services.openai_service MainThread : Testing basic connectivity to api.openai.com:443...
2025-04-28 23:54:50,579 INFO httpx MainThread : HTTP Request: GET https://api.openai.com/v1/models/gpt-4.1-mini "HTTP/1.1 200 OK"
2025-04-28 23:54:50,585 INFO app.services.openai_service MainThread : OpenAI API connection successful for model: gpt-4.1-mini
2025-04-28 23:54:50,587 INFO app.services.openai_service MainThread : OpenAIService initialized with client.
2025-04-28 23:54:50,589 INFO app.services.openai_service MainThread : Testing basic connectivity to api.openai.com:443...
2025-04-28 23:54:50,607 INFO app.services.openai_service MainThread : Socket connection to api.openai.com:443 successful
2025-04-28 23:54:50,609 INFO app.services.openai_service MainThread : Testing OpenAI API connection with model: gpt-4.1-mini (attempt 1/5)...
2025-04-28 23:54:50,638 INFO app.services.openai_service MainThread : Socket connection to api.openai.com:443 successful
2025-04-28 23:54:50,640 INFO app.services.openai_service MainThread : Testing OpenAI API connection with model: gpt-4.1-mini (attempt 1/5)...
2025-04-28 23:54:51,001 INFO httpx MainThread : HTTP Request: GET https://api.openai.com/v1/models/gpt-4.1-mini "HTTP/1.1 200 OK"
2025-04-28 23:54:51,002 INFO app.services.openai_service MainThread : OpenAI API connection successful for model: gpt-4.1-mini
2025-04-28 23:54:51,003 INFO app.services.api_manager MainThread : OpenAI service initialized: True
2025-04-28 23:54:51,003 INFO app.services.eleven_labs_service MainThread : ElevenLabsService init_app called. App config type: <class 'flask.config.Config'>
2025-04-28 23:54:51,003 INFO app.services.eleven_labs_service MainThread : API Key from app.config.get('ELEVEN_LABS_API_KEY'): Exists
2025-04-28 23:54:51,004 INFO app.services.eleven_labs_service MainThread : API Key from os.environ.get('ELEVEN_LABS_API_KEY'): Exists
2025-04-28 23:54:51,004 INFO app.services.eleven_labs_service MainThread : API Key from os.environ.get('ELEVENLABS_API_KEY'): Exists
2025-04-28 23:54:51,004 INFO app.services.eleven_labs_service MainThread : ElevenLabsService initialized successfully with API key (length: 51)
2025-04-28 23:54:51,005 INFO app.services.api_manager MainThread : ElevenLabs service initialized: True
2025-04-28 23:54:51,005 INFO app.services.deepgram_service MainThread : Initializing DeepgramService with app context
2025-04-28 23:54:51,005 INFO app.services.deepgram_service MainThread : Deepgram API key format: length=40, has prefix='dg_'=False
2025-04-28 23:54:51,006 INFO app.services.deepgram_service MainThread : Detected possible legacy key format, will try both original and with dg_ prefix
2025-04-28 23:54:51,006 INFO app.services.deepgram_service MainThread : Created alternative API key with dg_ prefix for fallback
2025-04-28 23:54:51,006 INFO app.services.deepgram_service MainThread : DeepgramService initialized successfully
2025-04-28 23:54:51,007 INFO app.services.api_manager MainThread : Deepgram service initialized
2025-04-28 23:54:51,008 INFO app.system_health MainThread : Health check routes registered
2025-04-28 23:54:51,009 INFO app.extensions MainThread : Initializing extensions for app instance (id: 2136862741840)
2025-04-28 23:54:51,009 INFO app.extensions MainThread : Initializing SQLAlchemy...
2025-04-28 23:54:51,009 INFO app.extensions MainThread : SQLAlchemy already registered on this Flask app, skipping initialization
2025-04-28 23:54:51,010 INFO app.extensions MainThread : Initializing Flask-Login...
2025-04-28 23:54:51,010 INFO app.extensions MainThread : Initializing Flask-Mail...
2025-04-28 23:54:51,010 INFO app.extensions MainThread : Initializing Flask-Limiter...
2025-04-28 23:54:51,012 INFO app.extensions MainThread : Initializing OAuth...
2025-04-28 23:54:51,012 INFO app.extensions MainThread : Initializing Flask-Migrate...
2025-04-28 23:54:51,013 INFO app.extensions MainThread : Initializing Flask-Bcrypt...
2025-04-28 23:54:51,013 INFO app.extensions MainThread : Initializing Flask-SocketIO...
2025-04-28 23:54:51,014 INFO app.extensions MainThread : Debug mode detected, enabling detailed socketio logging
2025-04-28 23:54:51,035 INFO engineio.server MainThread : Server initialized for threading.
2025-04-28 23:54:51,036 INFO app.extensions MainThread : Flask-SocketIO initialized successfully
2025-04-28 23:54:51,037 INFO app.extensions MainThread : All extensions initialized successfully
2025-04-28 23:54:51,055 INFO httpx MainThread : HTTP Request: GET https://api.openai.com/v1/models/gpt-4.1-mini "HTTP/1.1 200 OK"
2025-04-28 23:54:51,057 INFO app.services.openai_service MainThread : OpenAI API connection successful for model: gpt-4.1-mini
2025-04-28 23:54:51,057 INFO app.services.api_manager MainThread : OpenAI service initialized: True
2025-04-28 23:54:51,058 INFO app.services.eleven_labs_service MainThread : ElevenLabsService init_app called. App config type: <class 'flask.config.Config'>
2025-04-28 23:54:51,058 INFO app.services.eleven_labs_service MainThread : API Key from app.config.get('ELEVEN_LABS_API_KEY'): Exists
2025-04-28 23:54:51,059 INFO app.services.eleven_labs_service MainThread : API Key from os.environ.get('ELEVEN_LABS_API_KEY'): Exists
2025-04-28 23:54:51,059 INFO app.services.eleven_labs_service MainThread : API Key from os.environ.get('ELEVENLABS_API_KEY'): Exists
2025-04-28 23:54:51,060 INFO app.services.eleven_labs_service MainThread : ElevenLabsService initialized successfully with API key (length: 51)
2025-04-28 23:54:51,060 INFO app.services.api_manager MainThread : ElevenLabs service initialized: True
2025-04-28 23:54:51,061 INFO app.services.deepgram_service MainThread : Initializing DeepgramService with app context
2025-04-28 23:54:51,061 INFO app.services.deepgram_service MainThread : Deepgram API key format: length=40, has prefix='dg_'=False
2025-04-28 23:54:51,062 INFO app.services.deepgram_service MainThread : Detected possible legacy key format, will try both original and with dg_ prefix
2025-04-28 23:54:51,062 INFO app.services.deepgram_service MainThread : Created alternative API key with dg_ prefix for fallback
2025-04-28 23:54:51,063 INFO app.services.deepgram_service MainThread : DeepgramService initialized successfully
2025-04-28 23:54:51,063 INFO app.services.api_manager MainThread : Deepgram service initialized
2025-04-28 23:54:51,065 INFO app.system_health MainThread : Health check routes registered
2025-04-28 23:54:51,065 INFO app.extensions MainThread : Initializing extensions for app instance (id: 3018036755088)
2025-04-28 23:54:51,066 INFO app.extensions MainThread : Initializing SQLAlchemy...
2025-04-28 23:54:51,066 INFO app.extensions MainThread : SQLAlchemy already registered on this Flask app, skipping initialization
2025-04-28 23:54:51,066 INFO app.extensions MainThread : Initializing Flask-Login...
2025-04-28 23:54:51,067 INFO app.extensions MainThread : Initializing Flask-Mail...
2025-04-28 23:54:51,068 INFO app.extensions MainThread : Initializing Flask-Limiter...
2025-04-28 23:54:51,069 INFO app.extensions MainThread : Initializing OAuth...
2025-04-28 23:54:51,070 INFO app.extensions MainThread : Initializing Flask-Migrate...
2025-04-28 23:54:51,070 INFO app.extensions MainThread : Initializing Flask-Bcrypt...
2025-04-28 23:54:51,070 INFO app.extensions MainThread : Initializing Flask-SocketIO...
2025-04-28 23:54:51,070 INFO app.extensions MainThread : Debug mode detected, enabling detailed socketio logging
2025-04-28 23:54:51,107 INFO engineio.server MainThread : Server initialized for threading.
2025-04-28 23:54:51,108 INFO app.extensions MainThread : Flask-SocketIO initialized successfully
2025-04-28 23:54:51,109 INFO app.extensions MainThread : All extensions initialized successfully
2025-04-28 23:54:51,295 INFO app.services.voice_analysis_service MainThread : Voice Analysis Service initialized.
2025-04-28 23:54:51,351 INFO app.error_handler MainThread : Registering centralized error handlers
2025-04-28 23:54:51,351 INFO app.services.voice_analysis_service MainThread : Voice Analysis Service initialized.
2025-04-28 23:54:51,352 WARNING werkzeug MainThread :  * Debugger is active!
2025-04-28 23:54:51,361 INFO werkzeug MainThread :  * Debugger PIN: 735-563-336
2025-04-28 23:54:51,406 INFO app.error_handler MainThread : Registering centralized error handlers
2025-04-28 23:54:51,408 WARNING werkzeug MainThread :  * Debugger is active!
2025-04-28 23:54:51,417 INFO werkzeug MainThread :  * Debugger PIN: 735-563-336
2025-04-28 23:56:14,020 INFO app MainThread : --- Logging configured (INFO to console, DEBUG to file) ---
2025-04-28 23:56:14,020 INFO app MainThread : Loaded configuration for environment: dev
2025-04-28 23:56:14,022 INFO app.database_manager MainThread : Initializing Database Manager
2025-04-28 23:56:14,036 INFO app.database_manager MainThread : Database Manager initialized successfully
2025-04-28 23:56:14,036 INFO app.services.api_manager MainThread : Initializing API Manager with all services
2025-04-28 23:56:14,037 INFO app.services.openai_service MainThread : Initializing OpenAIService with app context...
2025-04-28 23:56:14,038 INFO app.services.openai_service MainThread : Resolved OpenAI model: gpt-4.1-mini (Config: gpt-4.1-mini, Env: None, Default: gpt-4.1-mini)
2025-04-28 23:56:14,038 INFO app.services.openai_service MainThread : Resolved feedback model: gpt-4.1-mini (Config: None, Env: None, Default: gpt-4.1-mini)
2025-04-28 23:56:14,039 INFO app.services.openai_service MainThread : Operating system: Windows 10 (10.0.26100)
2025-04-28 23:56:14,042 INFO app.services.openai_service MainThread : Hostname: CasonsPC, Primary IP (gethostbyname): 10.0.0.150
2025-04-28 23:56:14,043 INFO app.services.openai_service MainThread : All IPs for hostname (getaddrinfo): ['2604:3d08:ea96:700::b1cc', '10.0.0.150', 'fe80::20d1:846a:12b1:1b1a', '2604:3d08:ea96:700:48ea:452c:6b57:7bd2', '2604:3d08:ea96:700:6b3e:d2ca:7404:71a8']
2025-04-28 23:56:14,044 INFO app.services.openai_service MainThread : Proxy environment: HTTP_PROXY=None, HTTPS_PROXY=None, NO_PROXY=None
2025-04-28 23:56:14,044 INFO app.services.openai_service MainThread : Python version: 3.11.9
2025-04-28 23:56:14,045 INFO app.services.openai_service MainThread : openai version: 1.7.0
2025-04-28 23:56:14,045 INFO app.services.openai_service MainThread : httpx version: 0.28.1
2025-04-28 23:56:14,045 INFO app.services.openai_service MainThread : certifi path: C:\Users\cason\Downloads\salestraining-ai\.venv\Lib\site-packages\certifi\cacert.pem
2025-04-28 23:56:14,046 INFO app.services.openai_service MainThread : dnspython version: 2.4.2
2025-04-28 23:56:14,359 INFO app.services.openai_service MainThread : Created default httpx.Client instance explicitly with default SSL context.
2025-04-28 23:56:14,361 INFO app.services.openai_service MainThread : OpenAI client created with custom http_client.
2025-04-28 23:56:14,361 INFO app.services.openai_service MainThread : Testing basic connectivity to api.openai.com:443...
2025-04-28 23:56:14,454 INFO app.services.openai_service MainThread : Socket connection to api.openai.com:443 successful
2025-04-28 23:56:14,456 INFO app.services.openai_service MainThread : Testing OpenAI API connection with model: gpt-4.1-mini (attempt 1/5)...
2025-04-28 23:56:15,100 INFO httpx MainThread : HTTP Request: GET https://api.openai.com/v1/models/gpt-4.1-mini "HTTP/1.1 200 OK"
2025-04-28 23:56:15,101 INFO app.services.openai_service MainThread : OpenAI API connection successful for model: gpt-4.1-mini
2025-04-28 23:56:15,102 INFO app.services.openai_service MainThread : OpenAIService initialized with client.
2025-04-28 23:56:15,102 INFO app.services.openai_service MainThread : Testing basic connectivity to api.openai.com:443...
2025-04-28 23:56:15,136 INFO app.services.openai_service MainThread : Socket connection to api.openai.com:443 successful
2025-04-28 23:56:15,137 INFO app.services.openai_service MainThread : Testing OpenAI API connection with model: gpt-4.1-mini (attempt 1/5)...
2025-04-28 23:56:15,573 INFO httpx MainThread : HTTP Request: GET https://api.openai.com/v1/models/gpt-4.1-mini "HTTP/1.1 200 OK"
2025-04-28 23:56:15,575 INFO app.services.openai_service MainThread : OpenAI API connection successful for model: gpt-4.1-mini
2025-04-28 23:56:15,576 INFO app.services.api_manager MainThread : OpenAI service initialized: True
2025-04-28 23:56:15,577 INFO app.services.eleven_labs_service MainThread : ElevenLabsService init_app called. App config type: <class 'flask.config.Config'>
2025-04-28 23:56:15,577 INFO app.services.eleven_labs_service MainThread : API Key from app.config.get('ELEVEN_LABS_API_KEY'): Exists
2025-04-28 23:56:15,578 INFO app.services.eleven_labs_service MainThread : API Key from os.environ.get('ELEVEN_LABS_API_KEY'): Exists
2025-04-28 23:56:15,579 INFO app.services.eleven_labs_service MainThread : API Key from os.environ.get('ELEVENLABS_API_KEY'): Exists
2025-04-28 23:56:15,580 INFO app.services.eleven_labs_service MainThread : ElevenLabsService initialized successfully with API key (length: 51)
2025-04-28 23:56:15,580 INFO app.services.api_manager MainThread : ElevenLabs service initialized: True
2025-04-28 23:56:15,580 INFO app.services.deepgram_service MainThread : Initializing DeepgramService with app context
2025-04-28 23:56:15,581 INFO app.services.deepgram_service MainThread : Deepgram API key format: length=40, has prefix='dg_'=False
2025-04-28 23:56:15,581 INFO app.services.deepgram_service MainThread : Detected possible legacy key format, will try both original and with dg_ prefix
2025-04-28 23:56:15,581 INFO app.services.deepgram_service MainThread : Created alternative API key with dg_ prefix for fallback
2025-04-28 23:56:15,582 INFO app.services.deepgram_service MainThread : DeepgramService initialized successfully
2025-04-28 23:56:15,583 INFO app.services.api_manager MainThread : Deepgram service initialized
2025-04-28 23:56:15,584 INFO app.system_health MainThread : Health check routes registered
2025-04-28 23:56:15,584 INFO app.extensions MainThread : Initializing extensions for app instance (id: 2239049543120)
2025-04-28 23:56:15,585 INFO app.extensions MainThread : Initializing SQLAlchemy...
2025-04-28 23:56:15,585 INFO app.extensions MainThread : SQLAlchemy already registered on this Flask app, skipping initialization
2025-04-28 23:56:15,585 INFO app.extensions MainThread : Initializing Flask-Login...
2025-04-28 23:56:15,586 INFO app.extensions MainThread : Initializing Flask-Mail...
2025-04-28 23:56:15,586 INFO app.extensions MainThread : Initializing Flask-Limiter...
2025-04-28 23:56:15,587 INFO app.extensions MainThread : Initializing OAuth...
2025-04-28 23:56:15,588 INFO app.extensions MainThread : Initializing Flask-Migrate...
2025-04-28 23:56:15,588 INFO app.extensions MainThread : Initializing Flask-Bcrypt...
2025-04-28 23:56:15,588 INFO app.extensions MainThread : Initializing Flask-SocketIO...
2025-04-28 23:56:15,589 INFO app.extensions MainThread : Debug mode detected, enabling detailed socketio logging
2025-04-28 23:56:15,609 INFO engineio.server MainThread : Server initialized for threading.
2025-04-28 23:56:15,610 INFO app.extensions MainThread : Flask-SocketIO initialized successfully
2025-04-28 23:56:15,611 INFO app.extensions MainThread : All extensions initialized successfully
2025-04-28 23:56:15,755 INFO app.services.voice_analysis_service MainThread : Voice Analysis Service initialized.
2025-04-28 23:56:15,787 INFO app.error_handler MainThread : Registering centralized error handlers
2025-04-28 23:56:15,791 INFO werkzeug MainThread : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-04-28 23:56:15,792 INFO werkzeug MainThread : [33mPress CTRL+C to quit[0m
2025-04-28 23:56:15,792 INFO werkzeug MainThread :  * Restarting with stat
2025-04-28 23:56:17,870 INFO app MainThread : --- Logging configured (INFO to console, DEBUG to file) ---
2025-04-28 23:56:17,871 INFO app MainThread : Loaded configuration for environment: dev
2025-04-28 23:56:17,872 INFO app.database_manager MainThread : Initializing Database Manager
2025-04-28 23:56:17,889 INFO app.database_manager MainThread : Database Manager initialized successfully
2025-04-28 23:56:17,889 INFO app.services.api_manager MainThread : Initializing API Manager with all services
2025-04-28 23:56:17,890 INFO app.services.openai_service MainThread : Initializing OpenAIService with app context...
2025-04-28 23:56:17,890 INFO app.services.openai_service MainThread : Resolved OpenAI model: gpt-4.1-mini (Config: gpt-4.1-mini, Env: None, Default: gpt-4.1-mini)
2025-04-28 23:56:17,891 INFO app.services.openai_service MainThread : Resolved feedback model: gpt-4.1-mini (Config: None, Env: None, Default: gpt-4.1-mini)
2025-04-28 23:56:17,891 INFO app.services.openai_service MainThread : Operating system: Windows 10 (10.0.26100)
2025-04-28 23:56:17,895 INFO app.services.openai_service MainThread : Hostname: CasonsPC, Primary IP (gethostbyname): 10.0.0.150
2025-04-28 23:56:17,898 INFO app.services.openai_service MainThread : All IPs for hostname (getaddrinfo): ['10.0.0.150', '2604:3d08:ea96:700:6b3e:d2ca:7404:71a8', '2604:3d08:ea96:700:48ea:452c:6b57:7bd2', '2604:3d08:ea96:700::b1cc', 'fe80::20d1:846a:12b1:1b1a']
2025-04-28 23:56:17,898 INFO app.services.openai_service MainThread : Proxy environment: HTTP_PROXY=None, HTTPS_PROXY=None, NO_PROXY=None
2025-04-28 23:56:17,899 INFO app.services.openai_service MainThread : Python version: 3.11.9
2025-04-28 23:56:17,899 INFO app.services.openai_service MainThread : openai version: 1.7.0
2025-04-28 23:56:17,900 INFO app.services.openai_service MainThread : httpx version: 0.28.1
2025-04-28 23:56:17,901 INFO app.services.openai_service MainThread : certifi path: C:\Users\cason\Downloads\salestraining-ai\.venv\Lib\site-packages\certifi\cacert.pem
2025-04-28 23:56:17,901 INFO app.services.openai_service MainThread : dnspython version: 2.4.2
2025-04-28 23:56:18,322 INFO app.services.openai_service MainThread : Created default httpx.Client instance explicitly with default SSL context.
2025-04-28 23:56:18,324 INFO app.services.openai_service MainThread : OpenAI client created with custom http_client.
2025-04-28 23:56:18,324 INFO app.services.openai_service MainThread : Testing basic connectivity to api.openai.com:443...
2025-04-28 23:56:18,360 INFO app.services.openai_service MainThread : Socket connection to api.openai.com:443 successful
2025-04-28 23:56:18,360 INFO app.services.openai_service MainThread : Testing OpenAI API connection with model: gpt-4.1-mini (attempt 1/5)...
2025-04-28 23:56:18,922 INFO httpx MainThread : HTTP Request: GET https://api.openai.com/v1/models/gpt-4.1-mini "HTTP/1.1 200 OK"
2025-04-28 23:56:18,924 INFO app.services.openai_service MainThread : OpenAI API connection successful for model: gpt-4.1-mini
2025-04-28 23:56:18,925 INFO app.services.openai_service MainThread : OpenAIService initialized with client.
2025-04-28 23:56:18,926 INFO app.services.openai_service MainThread : Testing basic connectivity to api.openai.com:443...
2025-04-28 23:56:18,950 INFO app.services.openai_service MainThread : Socket connection to api.openai.com:443 successful
2025-04-28 23:56:18,951 INFO app.services.openai_service MainThread : Testing OpenAI API connection with model: gpt-4.1-mini (attempt 1/5)...
2025-04-28 23:56:19,360 INFO httpx MainThread : HTTP Request: GET https://api.openai.com/v1/models/gpt-4.1-mini "HTTP/1.1 200 OK"
2025-04-28 23:56:19,361 INFO app.services.openai_service MainThread : OpenAI API connection successful for model: gpt-4.1-mini
2025-04-28 23:56:19,361 INFO app.services.api_manager MainThread : OpenAI service initialized: True
2025-04-28 23:56:19,362 INFO app.services.eleven_labs_service MainThread : ElevenLabsService init_app called. App config type: <class 'flask.config.Config'>
2025-04-28 23:56:19,363 INFO app.services.eleven_labs_service MainThread : API Key from app.config.get('ELEVEN_LABS_API_KEY'): Exists
2025-04-28 23:56:19,364 INFO app.services.eleven_labs_service MainThread : API Key from os.environ.get('ELEVEN_LABS_API_KEY'): Exists
2025-04-28 23:56:19,365 INFO app.services.eleven_labs_service MainThread : API Key from os.environ.get('ELEVENLABS_API_KEY'): Exists
2025-04-28 23:56:19,366 INFO app.services.eleven_labs_service MainThread : ElevenLabsService initialized successfully with API key (length: 51)
2025-04-28 23:56:19,367 INFO app.services.api_manager MainThread : ElevenLabs service initialized: True
2025-04-28 23:56:19,368 INFO app.services.deepgram_service MainThread : Initializing DeepgramService with app context
2025-04-28 23:56:19,369 INFO app.services.deepgram_service MainThread : Deepgram API key format: length=40, has prefix='dg_'=False
2025-04-28 23:56:19,370 INFO app.services.deepgram_service MainThread : Detected possible legacy key format, will try both original and with dg_ prefix
2025-04-28 23:56:19,370 INFO app.services.deepgram_service MainThread : Created alternative API key with dg_ prefix for fallback
2025-04-28 23:56:19,372 INFO app.services.deepgram_service MainThread : DeepgramService initialized successfully
2025-04-28 23:56:19,372 INFO app.services.api_manager MainThread : Deepgram service initialized
2025-04-28 23:56:19,373 INFO app.system_health MainThread : Health check routes registered
2025-04-28 23:56:19,374 INFO app.extensions MainThread : Initializing extensions for app instance (id: 2066499333456)
2025-04-28 23:56:19,374 INFO app.extensions MainThread : Initializing SQLAlchemy...
2025-04-28 23:56:19,374 INFO app.extensions MainThread : SQLAlchemy already registered on this Flask app, skipping initialization
2025-04-28 23:56:19,375 INFO app.extensions MainThread : Initializing Flask-Login...
2025-04-28 23:56:19,375 INFO app.extensions MainThread : Initializing Flask-Mail...
2025-04-28 23:56:19,375 INFO app.extensions MainThread : Initializing Flask-Limiter...
2025-04-28 23:56:19,376 INFO app.extensions MainThread : Initializing OAuth...
2025-04-28 23:56:19,377 INFO app.extensions MainThread : Initializing Flask-Migrate...
2025-04-28 23:56:19,377 INFO app.extensions MainThread : Initializing Flask-Bcrypt...
2025-04-28 23:56:19,377 INFO app.extensions MainThread : Initializing Flask-SocketIO...
2025-04-28 23:56:19,378 INFO app.extensions MainThread : Debug mode detected, enabling detailed socketio logging
2025-04-28 23:56:19,410 INFO engineio.server MainThread : Server initialized for threading.
2025-04-28 23:56:19,411 INFO app.extensions MainThread : Flask-SocketIO initialized successfully
2025-04-28 23:56:19,412 INFO app.extensions MainThread : All extensions initialized successfully
2025-04-28 23:56:19,604 INFO app.services.voice_analysis_service MainThread : Voice Analysis Service initialized.
2025-04-28 23:56:19,641 INFO app.error_handler MainThread : Registering centralized error handlers
2025-04-28 23:56:19,643 WARNING werkzeug MainThread :  * Debugger is active!
2025-04-28 23:56:19,650 INFO werkzeug MainThread :  * Debugger PIN: 735-563-336
2025-04-28 23:56:20,409 INFO werkzeug Thread-3 (process_request_thread) : 127.0.0.1 - - [28/Apr/2025 23:56:20] "GET /api/auth/status HTTP/1.1" 200 -
2025-04-28 23:56:20,410 INFO werkzeug Thread-4 (process_request_thread) : 127.0.0.1 - - [28/Apr/2025 23:56:20] "GET /api/auth/status HTTP/1.1" 200 -
2025-04-28 23:56:24,975 CRITICAL app.chat.routes Thread-5 (process_request_thread) : --- CRITICAL: ENTERED api_chat_endpoint ---
2025-04-28 23:56:24,976 INFO app.chat.routes Thread-5 (process_request_thread) : Received request to /api/chat: application/json POST
2025-04-28 23:56:24,978 INFO app.chat.routes Thread-5 (process_request_thread) : Received message: Hey, how's it going?...
2025-04-28 23:56:25,010 INFO app.services.conversation_service Thread-5 (process_request_thread) : --- Entering process_user_message for session 9 ---
2025-04-28 23:56:25,022 ERROR app.services.conversation_service Thread-5 (process_request_thread) : Error in process_user_message: 'training_session_id' is an invalid keyword argument for Message
Traceback (most recent call last):
  File "C:\Users\cason\Downloads\salestraining-ai\app\services\conversation_service.py", line 52, in process_user_message
    user_message = Message(
                   ^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\cason\Downloads\salestraining-ai\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 575, in _initialize_instance
    with util.safe_reraise():
  File "C:\Users\cason\Downloads\salestraining-ai\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 147, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\cason\Downloads\salestraining-ai\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 573, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
  File "C:\Users\cason\Downloads\salestraining-ai\.venv\Lib\site-packages\sqlalchemy\orm\decl_base.py", line 2073, in _declarative_constructor
    raise TypeError(
TypeError: 'training_session_id' is an invalid keyword argument for Message
2025-04-28 23:56:25,027 CRITICAL app.services.conversation_service Thread-5 (process_request_thread) : --- CRITICAL: process_user_message caught an exception ---
2025-04-28 23:56:25,028 INFO app.chat.routes Thread-5 (process_request_thread) : Received response from conversation service: I apologize, but I'm experiencing a technical issu...
2025-04-28 23:56:25,031 INFO werkzeug Thread-5 (process_request_thread) : 127.0.0.1 - - [28/Apr/2025 23:56:25] "POST /chat/api/chat HTTP/1.1" 200 -
2025-04-28 23:58:26,409 INFO werkzeug MainThread :  * Detected change in 'C:\\Users\\cason\\Downloads\\salestraining-ai\\app\\chat\\routes.py', reloading
2025-04-28 23:58:26,425 INFO werkzeug MainThread :  * Detected change in 'C:\\Users\\cason\\Downloads\\salestraining-ai\\app\\chat\\routes.py', reloading
2025-04-28 23:58:27,043 INFO werkzeug MainThread :  * Restarting with stat
2025-04-28 23:58:30,835 INFO app MainThread : --- Logging configured (INFO to console, DEBUG to file) ---
2025-04-28 23:58:30,836 INFO app MainThread : Loaded configuration for environment: dev
2025-04-28 23:58:30,837 INFO app.database_manager MainThread : Initializing Database Manager
2025-04-28 23:58:30,858 INFO app MainThread : --- Logging configured (INFO to console, DEBUG to file) ---
2025-04-28 23:58:30,859 INFO app MainThread : Loaded configuration for environment: dev
2025-04-28 23:58:30,860 INFO app.database_manager MainThread : Initializing Database Manager
2025-04-28 23:58:30,862 INFO app.database_manager MainThread : Database Manager initialized successfully
2025-04-28 23:58:30,862 INFO app.services.api_manager MainThread : Initializing API Manager with all services
2025-04-28 23:58:30,863 INFO app.services.openai_service MainThread : Initializing OpenAIService with app context...
2025-04-28 23:58:30,863 INFO app.services.openai_service MainThread : Resolved OpenAI model: gpt-4.1-mini (Config: gpt-4.1-mini, Env: None, Default: gpt-4.1-mini)
2025-04-28 23:58:30,864 INFO app.services.openai_service MainThread : Resolved feedback model: gpt-4.1-mini (Config: None, Env: None, Default: gpt-4.1-mini)
2025-04-28 23:58:30,866 INFO app.services.openai_service MainThread : Operating system: Windows 10 (10.0.26100)
2025-04-28 23:58:30,873 INFO app.services.openai_service MainThread : Hostname: CasonsPC, Primary IP (gethostbyname): 10.0.0.150
2025-04-28 23:58:30,875 INFO app.services.openai_service MainThread : All IPs for hostname (getaddrinfo): ['2604:3d08:ea96:700:6b3e:d2ca:7404:71a8', '2604:3d08:ea96:700::b1cc', '10.0.0.150', 'fe80::20d1:846a:12b1:1b1a', '2604:3d08:ea96:700:48ea:452c:6b57:7bd2']
2025-04-28 23:58:30,876 INFO app.services.openai_service MainThread : Proxy environment: HTTP_PROXY=None, HTTPS_PROXY=None, NO_PROXY=None
2025-04-28 23:58:30,877 INFO app.services.openai_service MainThread : Python version: 3.11.9
2025-04-28 23:58:30,877 INFO app.services.openai_service MainThread : openai version: 1.7.0
2025-04-28 23:58:30,878 INFO app.services.openai_service MainThread : httpx version: 0.28.1
2025-04-28 23:58:30,878 INFO app.services.openai_service MainThread : certifi path: C:\Users\cason\Downloads\salestraining-ai\.venv\Lib\site-packages\certifi\cacert.pem
2025-04-28 23:58:30,879 INFO app.services.openai_service MainThread : dnspython version: 2.4.2
2025-04-28 23:58:30,883 INFO app.database_manager MainThread : Database Manager initialized successfully
2025-04-28 23:58:30,885 INFO app.services.api_manager MainThread : Initializing API Manager with all services
2025-04-28 23:58:30,886 INFO app.services.openai_service MainThread : Initializing OpenAIService with app context...
2025-04-28 23:58:30,887 INFO app.services.openai_service MainThread : Resolved OpenAI model: gpt-4.1-mini (Config: gpt-4.1-mini, Env: None, Default: gpt-4.1-mini)
2025-04-28 23:58:30,888 INFO app.services.openai_service MainThread : Resolved feedback model: gpt-4.1-mini (Config: None, Env: None, Default: gpt-4.1-mini)
2025-04-28 23:58:30,889 INFO app.services.openai_service MainThread : Operating system: Windows 10 (10.0.26100)
2025-04-28 23:58:30,894 INFO app.services.openai_service MainThread : Hostname: CasonsPC, Primary IP (gethostbyname): 10.0.0.150
2025-04-28 23:58:30,895 INFO app.services.openai_service MainThread : All IPs for hostname (getaddrinfo): ['2604:3d08:ea96:700::b1cc', 'fe80::20d1:846a:12b1:1b1a', '2604:3d08:ea96:700:48ea:452c:6b57:7bd2', '2604:3d08:ea96:700:6b3e:d2ca:7404:71a8', '10.0.0.150']
2025-04-28 23:58:30,896 INFO app.services.openai_service MainThread : Proxy environment: HTTP_PROXY=None, HTTPS_PROXY=None, NO_PROXY=None
2025-04-28 23:58:30,897 INFO app.services.openai_service MainThread : Python version: 3.11.9
2025-04-28 23:58:30,897 INFO app.services.openai_service MainThread : openai version: 1.7.0
2025-04-28 23:58:30,898 INFO app.services.openai_service MainThread : httpx version: 0.28.1
2025-04-28 23:58:30,898 INFO app.services.openai_service MainThread : certifi path: C:\Users\cason\Downloads\salestraining-ai\.venv\Lib\site-packages\certifi\cacert.pem
2025-04-28 23:58:30,900 INFO app.services.openai_service MainThread : dnspython version: 2.4.2
2025-04-28 23:58:31,533 INFO app.services.openai_service MainThread : Created default httpx.Client instance explicitly with default SSL context.
2025-04-28 23:58:31,534 INFO app.services.openai_service MainThread : OpenAI client created with custom http_client.
2025-04-28 23:58:31,535 INFO app.services.openai_service MainThread : Testing basic connectivity to api.openai.com:443...
2025-04-28 23:58:31,547 INFO app.services.openai_service MainThread : Created default httpx.Client instance explicitly with default SSL context.
2025-04-28 23:58:31,548 INFO app.services.openai_service MainThread : OpenAI client created with custom http_client.
2025-04-28 23:58:31,549 INFO app.services.openai_service MainThread : Testing basic connectivity to api.openai.com:443...
2025-04-28 23:58:31,609 INFO app.services.openai_service MainThread : Socket connection to api.openai.com:443 successful
2025-04-28 23:58:31,610 INFO app.services.openai_service MainThread : Testing OpenAI API connection with model: gpt-4.1-mini (attempt 1/5)...
2025-04-28 23:58:31,609 INFO app.services.openai_service MainThread : Socket connection to api.openai.com:443 successful
2025-04-28 23:58:31,611 INFO app.services.openai_service MainThread : Testing OpenAI API connection with model: gpt-4.1-mini (attempt 1/5)...
2025-04-28 23:58:31,982 INFO httpx MainThread : HTTP Request: GET https://api.openai.com/v1/models/gpt-4.1-mini "HTTP/1.1 200 OK"
2025-04-28 23:58:31,984 INFO app.services.openai_service MainThread : OpenAI API connection successful for model: gpt-4.1-mini
2025-04-28 23:58:31,984 INFO app.services.openai_service MainThread : OpenAIService initialized with client.
2025-04-28 23:58:31,985 INFO app.services.openai_service MainThread : Testing basic connectivity to api.openai.com:443...
2025-04-28 23:58:32,026 INFO app.services.openai_service MainThread : Socket connection to api.openai.com:443 successful
2025-04-28 23:58:32,029 INFO app.services.openai_service MainThread : Testing OpenAI API connection with model: gpt-4.1-mini (attempt 1/5)...
2025-04-28 23:58:32,324 INFO httpx MainThread : HTTP Request: GET https://api.openai.com/v1/models/gpt-4.1-mini "HTTP/1.1 200 OK"
2025-04-28 23:58:32,326 INFO app.services.openai_service MainThread : OpenAI API connection successful for model: gpt-4.1-mini
2025-04-28 23:58:32,327 INFO app.services.openai_service MainThread : OpenAIService initialized with client.
2025-04-28 23:58:32,328 INFO app.services.openai_service MainThread : Testing basic connectivity to api.openai.com:443...
2025-04-28 23:58:32,336 INFO httpx MainThread : HTTP Request: GET https://api.openai.com/v1/models/gpt-4.1-mini "HTTP/1.1 200 OK"
2025-04-28 23:58:32,340 INFO app.services.openai_service MainThread : OpenAI API connection successful for model: gpt-4.1-mini
2025-04-28 23:58:32,341 INFO app.services.api_manager MainThread : OpenAI service initialized: True
2025-04-28 23:58:32,342 INFO app.services.eleven_labs_service MainThread : ElevenLabsService init_app called. App config type: <class 'flask.config.Config'>
2025-04-28 23:58:32,343 INFO app.services.eleven_labs_service MainThread : API Key from app.config.get('ELEVEN_LABS_API_KEY'): Exists
2025-04-28 23:58:32,343 INFO app.services.eleven_labs_service MainThread : API Key from os.environ.get('ELEVEN_LABS_API_KEY'): Exists
2025-04-28 23:58:32,343 INFO app.services.eleven_labs_service MainThread : API Key from os.environ.get('ELEVENLABS_API_KEY'): Exists
2025-04-28 23:58:32,344 INFO app.services.eleven_labs_service MainThread : ElevenLabsService initialized successfully with API key (length: 51)
2025-04-28 23:58:32,345 INFO app.services.api_manager MainThread : ElevenLabs service initialized: True
2025-04-28 23:58:32,345 INFO app.services.deepgram_service MainThread : Initializing DeepgramService with app context
2025-04-28 23:58:32,346 INFO app.services.deepgram_service MainThread : Deepgram API key format: length=40, has prefix='dg_'=False
2025-04-28 23:58:32,346 INFO app.services.deepgram_service MainThread : Detected possible legacy key format, will try both original and with dg_ prefix
2025-04-28 23:58:32,347 INFO app.services.deepgram_service MainThread : Created alternative API key with dg_ prefix for fallback
2025-04-28 23:58:32,347 INFO app.services.deepgram_service MainThread : DeepgramService initialized successfully
2025-04-28 23:58:32,348 INFO app.services.api_manager MainThread : Deepgram service initialized
2025-04-28 23:58:32,349 INFO app.system_health MainThread : Health check routes registered
2025-04-28 23:58:32,350 INFO app.extensions MainThread : Initializing extensions for app instance (id: 2426489655120)
2025-04-28 23:58:32,350 INFO app.extensions MainThread : Initializing SQLAlchemy...
2025-04-28 23:58:32,351 INFO app.extensions MainThread : SQLAlchemy already registered on this Flask app, skipping initialization
2025-04-28 23:58:32,352 INFO app.extensions MainThread : Initializing Flask-Login...
2025-04-28 23:58:32,352 INFO app.extensions MainThread : Initializing Flask-Mail...
2025-04-28 23:58:32,353 INFO app.extensions MainThread : Initializing Flask-Limiter...
2025-04-28 23:58:32,354 INFO app.services.openai_service MainThread : Socket connection to api.openai.com:443 successful
2025-04-28 23:58:32,356 INFO app.extensions MainThread : Initializing OAuth...
2025-04-28 23:58:32,356 INFO app.services.openai_service MainThread : Testing OpenAI API connection with model: gpt-4.1-mini (attempt 1/5)...
2025-04-28 23:58:32,357 INFO app.extensions MainThread : Initializing Flask-Migrate...
2025-04-28 23:58:32,358 INFO app.extensions MainThread : Initializing Flask-Bcrypt...
2025-04-28 23:58:32,359 INFO app.extensions MainThread : Initializing Flask-SocketIO...
2025-04-28 23:58:32,360 INFO app.extensions MainThread : Debug mode detected, enabling detailed socketio logging
2025-04-28 23:58:32,401 INFO engineio.server MainThread : Server initialized for threading.
2025-04-28 23:58:32,403 INFO app.extensions MainThread : Flask-SocketIO initialized successfully
2025-04-28 23:58:32,405 INFO app.extensions MainThread : All extensions initialized successfully
2025-04-28 23:58:32,769 INFO httpx MainThread : HTTP Request: GET https://api.openai.com/v1/models/gpt-4.1-mini "HTTP/1.1 200 OK"
2025-04-28 23:58:32,771 INFO app.services.openai_service MainThread : OpenAI API connection successful for model: gpt-4.1-mini
2025-04-28 23:58:32,772 INFO app.services.api_manager MainThread : OpenAI service initialized: True
2025-04-28 23:58:32,773 INFO app.services.eleven_labs_service MainThread : ElevenLabsService init_app called. App config type: <class 'flask.config.Config'>
2025-04-28 23:58:32,774 INFO app.services.eleven_labs_service MainThread : API Key from app.config.get('ELEVEN_LABS_API_KEY'): Exists
2025-04-28 23:58:32,777 INFO app.services.eleven_labs_service MainThread : API Key from os.environ.get('ELEVEN_LABS_API_KEY'): Exists
2025-04-28 23:58:32,777 INFO app.services.eleven_labs_service MainThread : API Key from os.environ.get('ELEVENLABS_API_KEY'): Exists
2025-04-28 23:58:32,778 INFO app.services.eleven_labs_service MainThread : ElevenLabsService initialized successfully with API key (length: 51)
2025-04-28 23:58:32,780 INFO app.services.api_manager MainThread : ElevenLabs service initialized: True
2025-04-28 23:58:32,781 INFO app.services.deepgram_service MainThread : Initializing DeepgramService with app context
2025-04-28 23:58:32,782 INFO app.services.deepgram_service MainThread : Deepgram API key format: length=40, has prefix='dg_'=False
2025-04-28 23:58:32,783 INFO app.services.deepgram_service MainThread : Detected possible legacy key format, will try both original and with dg_ prefix
2025-04-28 23:58:32,786 INFO app.services.deepgram_service MainThread : Created alternative API key with dg_ prefix for fallback
2025-04-28 23:58:32,788 INFO app.services.deepgram_service MainThread : DeepgramService initialized successfully
2025-04-28 23:58:32,790 INFO app.services.api_manager MainThread : Deepgram service initialized
2025-04-28 23:58:32,794 INFO app.system_health MainThread : Health check routes registered
2025-04-28 23:58:32,795 INFO app.extensions MainThread : Initializing extensions for app instance (id: 2537600005904)
2025-04-28 23:58:32,797 INFO app.extensions MainThread : Initializing SQLAlchemy...
2025-04-28 23:58:32,799 INFO app.extensions MainThread : SQLAlchemy already registered on this Flask app, skipping initialization
2025-04-28 23:58:32,801 INFO app.extensions MainThread : Initializing Flask-Login...
2025-04-28 23:58:32,803 INFO app.extensions MainThread : Initializing Flask-Mail...
2025-04-28 23:58:32,806 INFO app.extensions MainThread : Initializing Flask-Limiter...
2025-04-28 23:58:32,809 INFO app.extensions MainThread : Initializing OAuth...
2025-04-28 23:58:32,812 INFO app.extensions MainThread : Initializing Flask-Migrate...
2025-04-28 23:58:32,813 INFO app.extensions MainThread : Initializing Flask-Bcrypt...
2025-04-28 23:58:32,814 INFO app.extensions MainThread : Initializing Flask-SocketIO...
2025-04-28 23:58:32,816 INFO app.services.voice_analysis_service MainThread : Voice Analysis Service initialized.
2025-04-28 23:58:32,816 INFO app.extensions MainThread : Debug mode detected, enabling detailed socketio logging
2025-04-28 23:58:32,880 INFO engineio.server MainThread : Server initialized for threading.
2025-04-28 23:58:32,882 INFO app.extensions MainThread : Flask-SocketIO initialized successfully
2025-04-28 23:58:32,884 INFO app.extensions MainThread : All extensions initialized successfully
2025-04-28 23:58:32,960 INFO app.error_handler MainThread : Registering centralized error handlers
2025-04-28 23:58:32,964 WARNING werkzeug MainThread :  * Debugger is active!
2025-04-28 23:58:32,982 INFO werkzeug MainThread :  * Debugger PIN: 735-563-336
2025-04-28 23:58:33,342 INFO app.services.voice_analysis_service MainThread : Voice Analysis Service initialized.
2025-04-28 23:58:33,421 INFO app.error_handler MainThread : Registering centralized error handlers
2025-04-28 23:58:33,426 WARNING werkzeug MainThread :  * Debugger is active!
2025-04-28 23:58:33,447 INFO werkzeug MainThread :  * Debugger PIN: 735-563-336
2025-04-29 00:03:00,807 INFO app MainThread : --- Logging configured (INFO to console, DEBUG to file) ---
2025-04-29 00:03:00,808 INFO app MainThread : Loaded configuration for environment: dev
2025-04-29 00:03:00,809 INFO app.database_manager MainThread : Initializing Database Manager
2025-04-29 00:03:00,825 INFO app.database_manager MainThread : Database Manager initialized successfully
2025-04-29 00:03:00,827 INFO app.services.api_manager MainThread : Initializing API Manager with all services
2025-04-29 00:03:00,828 INFO app.services.openai_service MainThread : Initializing OpenAIService with app context...
2025-04-29 00:03:00,829 INFO app.services.openai_service MainThread : Resolved OpenAI model: gpt-4.1-mini (Config: gpt-4.1-mini, Env: None, Default: gpt-4.1-mini)
2025-04-29 00:03:00,830 INFO app.services.openai_service MainThread : Resolved feedback model: gpt-4.1-mini (Config: None, Env: None, Default: gpt-4.1-mini)
2025-04-29 00:03:00,831 INFO app.services.openai_service MainThread : Operating system: Windows 10 (10.0.26100)
2025-04-29 00:03:00,836 INFO app.services.openai_service MainThread : Hostname: CasonsPC, Primary IP (gethostbyname): 10.0.0.150
2025-04-29 00:03:00,838 INFO app.services.openai_service MainThread : All IPs for hostname (getaddrinfo): ['2604:3d08:ea96:700:48ea:452c:6b57:7bd2', '2604:3d08:ea96:700:6b3e:d2ca:7404:71a8', 'fe80::20d1:846a:12b1:1b1a', '2604:3d08:ea96:700::b1cc', '10.0.0.150']
2025-04-29 00:03:00,838 INFO app.services.openai_service MainThread : Proxy environment: HTTP_PROXY=None, HTTPS_PROXY=None, NO_PROXY=None
2025-04-29 00:03:00,839 INFO app.services.openai_service MainThread : Python version: 3.11.9
2025-04-29 00:03:00,839 INFO app.services.openai_service MainThread : openai version: 1.7.0
2025-04-29 00:03:00,840 INFO app.services.openai_service MainThread : httpx version: 0.28.1
2025-04-29 00:03:00,840 INFO app.services.openai_service MainThread : certifi path: C:\Users\cason\Downloads\salestraining-ai\.venv\Lib\site-packages\certifi\cacert.pem
2025-04-29 00:03:00,840 INFO app.services.openai_service MainThread : dnspython version: 2.4.2
2025-04-29 00:03:01,240 INFO app.services.openai_service MainThread : Created default httpx.Client instance explicitly with default SSL context.
2025-04-29 00:03:01,242 INFO app.services.openai_service MainThread : OpenAI client created with custom http_client.
2025-04-29 00:03:01,242 INFO app.services.openai_service MainThread : Testing basic connectivity to api.openai.com:443...
2025-04-29 00:03:01,302 INFO app.services.openai_service MainThread : Socket connection to api.openai.com:443 successful
2025-04-29 00:03:01,303 INFO app.services.openai_service MainThread : Testing OpenAI API connection with model: gpt-4.1-mini (attempt 1/5)...
2025-04-29 00:03:01,992 INFO httpx MainThread : HTTP Request: GET https://api.openai.com/v1/models/gpt-4.1-mini "HTTP/1.1 200 OK"
2025-04-29 00:03:01,994 INFO app.services.openai_service MainThread : OpenAI API connection successful for model: gpt-4.1-mini
2025-04-29 00:03:01,994 INFO app.services.openai_service MainThread : OpenAIService initialized with client.
2025-04-29 00:03:01,996 INFO app.services.openai_service MainThread : Testing basic connectivity to api.openai.com:443...
2025-04-29 00:03:02,022 INFO app.services.openai_service MainThread : Socket connection to api.openai.com:443 successful
2025-04-29 00:03:02,023 INFO app.services.openai_service MainThread : Testing OpenAI API connection with model: gpt-4.1-mini (attempt 1/5)...
2025-04-29 00:03:02,263 INFO httpx MainThread : HTTP Request: GET https://api.openai.com/v1/models/gpt-4.1-mini "HTTP/1.1 200 OK"
2025-04-29 00:03:02,264 INFO app.services.openai_service MainThread : OpenAI API connection successful for model: gpt-4.1-mini
2025-04-29 00:03:02,266 INFO app.services.api_manager MainThread : OpenAI service initialized: True
2025-04-29 00:03:02,266 INFO app.services.eleven_labs_service MainThread : ElevenLabsService init_app called. App config type: <class 'flask.config.Config'>
2025-04-29 00:03:02,267 INFO app.services.eleven_labs_service MainThread : API Key from app.config.get('ELEVEN_LABS_API_KEY'): Exists
2025-04-29 00:03:02,267 INFO app.services.eleven_labs_service MainThread : API Key from os.environ.get('ELEVEN_LABS_API_KEY'): Exists
2025-04-29 00:03:02,267 INFO app.services.eleven_labs_service MainThread : API Key from os.environ.get('ELEVENLABS_API_KEY'): Exists
2025-04-29 00:03:02,268 INFO app.services.eleven_labs_service MainThread : ElevenLabsService initialized successfully with API key (length: 51)
2025-04-29 00:03:02,268 INFO app.services.api_manager MainThread : ElevenLabs service initialized: True
2025-04-29 00:03:02,268 INFO app.services.deepgram_service MainThread : Initializing DeepgramService with app context
2025-04-29 00:03:02,269 INFO app.services.deepgram_service MainThread : Deepgram API key format: length=40, has prefix='dg_'=False
2025-04-29 00:03:02,269 INFO app.services.deepgram_service MainThread : Detected possible legacy key format, will try both original and with dg_ prefix
2025-04-29 00:03:02,269 INFO app.services.deepgram_service MainThread : Created alternative API key with dg_ prefix for fallback
2025-04-29 00:03:02,270 INFO app.services.deepgram_service MainThread : DeepgramService initialized successfully
2025-04-29 00:03:02,270 INFO app.services.api_manager MainThread : Deepgram service initialized
2025-04-29 00:03:02,271 INFO app.system_health MainThread : Health check routes registered
2025-04-29 00:03:02,272 INFO app.extensions MainThread : Initializing extensions for app instance (id: 2521869282640)
2025-04-29 00:03:02,272 INFO app.extensions MainThread : Initializing SQLAlchemy...
2025-04-29 00:03:02,272 INFO app.extensions MainThread : SQLAlchemy already registered on this Flask app, skipping initialization
2025-04-29 00:03:02,272 INFO app.extensions MainThread : Initializing Flask-Login...
2025-04-29 00:03:02,273 INFO app.extensions MainThread : Initializing Flask-Mail...
2025-04-29 00:03:02,273 INFO app.extensions MainThread : Initializing Flask-Limiter...
2025-04-29 00:03:02,273 INFO app.extensions MainThread : Initializing OAuth...
2025-04-29 00:03:02,273 INFO app.extensions MainThread : Initializing Flask-Migrate...
2025-04-29 00:03:02,274 INFO app.extensions MainThread : Initializing Flask-Bcrypt...
2025-04-29 00:03:02,274 INFO app.extensions MainThread : Initializing Flask-SocketIO...
2025-04-29 00:03:02,274 INFO app.extensions MainThread : Debug mode detected, enabling detailed socketio logging
2025-04-29 00:03:02,296 INFO engineio.server MainThread : Server initialized for threading.
2025-04-29 00:03:02,296 INFO app.extensions MainThread : Flask-SocketIO initialized successfully
2025-04-29 00:03:02,297 INFO app.extensions MainThread : All extensions initialized successfully
2025-04-29 00:03:02,429 INFO app.services.voice_analysis_service MainThread : Voice Analysis Service initialized.
2025-04-29 00:03:02,468 INFO app.error_handler MainThread : Registering centralized error handlers
2025-04-29 00:03:02,476 INFO werkzeug MainThread : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-04-29 00:03:02,476 INFO werkzeug MainThread : [33mPress CTRL+C to quit[0m
2025-04-29 00:03:02,477 INFO werkzeug MainThread :  * Restarting with stat
2025-04-29 00:03:04,063 INFO app MainThread : --- Logging configured (INFO to console, DEBUG to file) ---
2025-04-29 00:03:04,064 INFO app MainThread : Loaded configuration for environment: dev
2025-04-29 00:03:04,064 INFO app.database_manager MainThread : Initializing Database Manager
2025-04-29 00:03:04,079 INFO app.database_manager MainThread : Database Manager initialized successfully
2025-04-29 00:03:04,080 INFO app.services.api_manager MainThread : Initializing API Manager with all services
2025-04-29 00:03:04,081 INFO app.services.openai_service MainThread : Initializing OpenAIService with app context...
2025-04-29 00:03:04,081 INFO app.services.openai_service MainThread : Resolved OpenAI model: gpt-4.1-mini (Config: gpt-4.1-mini, Env: None, Default: gpt-4.1-mini)
2025-04-29 00:03:04,082 INFO app.services.openai_service MainThread : Resolved feedback model: gpt-4.1-mini (Config: None, Env: None, Default: gpt-4.1-mini)
2025-04-29 00:03:04,083 INFO app.services.openai_service MainThread : Operating system: Windows 10 (10.0.26100)
2025-04-29 00:03:04,088 INFO app.services.openai_service MainThread : Hostname: CasonsPC, Primary IP (gethostbyname): 10.0.0.150
2025-04-29 00:03:04,090 INFO app.services.openai_service MainThread : All IPs for hostname (getaddrinfo): ['2604:3d08:ea96:700:48ea:452c:6b57:7bd2', '2604:3d08:ea96:700:6b3e:d2ca:7404:71a8', '10.0.0.150', 'fe80::20d1:846a:12b1:1b1a', '2604:3d08:ea96:700::b1cc']
2025-04-29 00:03:04,091 INFO app.services.openai_service MainThread : Proxy environment: HTTP_PROXY=None, HTTPS_PROXY=None, NO_PROXY=None
2025-04-29 00:03:04,091 INFO app.services.openai_service MainThread : Python version: 3.11.9
2025-04-29 00:03:04,091 INFO app.services.openai_service MainThread : openai version: 1.7.0
2025-04-29 00:03:04,092 INFO app.services.openai_service MainThread : httpx version: 0.28.1
2025-04-29 00:03:04,092 INFO app.services.openai_service MainThread : certifi path: C:\Users\cason\Downloads\salestraining-ai\.venv\Lib\site-packages\certifi\cacert.pem
2025-04-29 00:03:04,092 INFO app.services.openai_service MainThread : dnspython version: 2.4.2
2025-04-29 00:03:04,373 INFO app.services.openai_service MainThread : Created default httpx.Client instance explicitly with default SSL context.
2025-04-29 00:03:04,374 INFO app.services.openai_service MainThread : OpenAI client created with custom http_client.
2025-04-29 00:03:04,375 INFO app.services.openai_service MainThread : Testing basic connectivity to api.openai.com:443...
2025-04-29 00:03:04,426 INFO app.services.openai_service MainThread : Socket connection to api.openai.com:443 successful
2025-04-29 00:03:04,426 INFO app.services.openai_service MainThread : Testing OpenAI API connection with model: gpt-4.1-mini (attempt 1/5)...
2025-04-29 00:03:04,759 INFO httpx MainThread : HTTP Request: GET https://api.openai.com/v1/models/gpt-4.1-mini "HTTP/1.1 200 OK"
2025-04-29 00:03:04,761 INFO app.services.openai_service MainThread : OpenAI API connection successful for model: gpt-4.1-mini
2025-04-29 00:03:04,762 INFO app.services.openai_service MainThread : OpenAIService initialized with client.
2025-04-29 00:03:04,763 INFO app.services.openai_service MainThread : Testing basic connectivity to api.openai.com:443...
2025-04-29 00:03:04,788 INFO app.services.openai_service MainThread : Socket connection to api.openai.com:443 successful
2025-04-29 00:03:04,789 INFO app.services.openai_service MainThread : Testing OpenAI API connection with model: gpt-4.1-mini (attempt 1/5)...
2025-04-29 00:03:05,240 INFO httpx MainThread : HTTP Request: GET https://api.openai.com/v1/models/gpt-4.1-mini "HTTP/1.1 200 OK"
2025-04-29 00:03:05,241 INFO app.services.openai_service MainThread : OpenAI API connection successful for model: gpt-4.1-mini
2025-04-29 00:03:05,242 INFO app.services.api_manager MainThread : OpenAI service initialized: True
2025-04-29 00:03:05,242 INFO app.services.eleven_labs_service MainThread : ElevenLabsService init_app called. App config type: <class 'flask.config.Config'>
2025-04-29 00:03:05,243 INFO app.services.eleven_labs_service MainThread : API Key from app.config.get('ELEVEN_LABS_API_KEY'): Exists
2025-04-29 00:03:05,243 INFO app.services.eleven_labs_service MainThread : API Key from os.environ.get('ELEVEN_LABS_API_KEY'): Exists
2025-04-29 00:03:05,244 INFO app.services.eleven_labs_service MainThread : API Key from os.environ.get('ELEVENLABS_API_KEY'): Exists
2025-04-29 00:03:05,245 INFO app.services.eleven_labs_service MainThread : ElevenLabsService initialized successfully with API key (length: 51)
2025-04-29 00:03:05,245 INFO app.services.api_manager MainThread : ElevenLabs service initialized: True
2025-04-29 00:03:05,245 INFO app.services.deepgram_service MainThread : Initializing DeepgramService with app context
2025-04-29 00:03:05,246 INFO app.services.deepgram_service MainThread : Deepgram API key format: length=40, has prefix='dg_'=False
2025-04-29 00:03:05,246 INFO app.services.deepgram_service MainThread : Detected possible legacy key format, will try both original and with dg_ prefix
2025-04-29 00:03:05,247 INFO app.services.deepgram_service MainThread : Created alternative API key with dg_ prefix for fallback
2025-04-29 00:03:05,247 INFO app.services.deepgram_service MainThread : DeepgramService initialized successfully
2025-04-29 00:03:05,247 INFO app.services.api_manager MainThread : Deepgram service initialized
2025-04-29 00:03:05,248 INFO app.system_health MainThread : Health check routes registered
2025-04-29 00:03:05,249 INFO app.extensions MainThread : Initializing extensions for app instance (id: 2980681940496)
2025-04-29 00:03:05,249 INFO app.extensions MainThread : Initializing SQLAlchemy...
2025-04-29 00:03:05,249 INFO app.extensions MainThread : SQLAlchemy already registered on this Flask app, skipping initialization
2025-04-29 00:03:05,249 INFO app.extensions MainThread : Initializing Flask-Login...
2025-04-29 00:03:05,250 INFO app.extensions MainThread : Initializing Flask-Mail...
2025-04-29 00:03:05,250 INFO app.extensions MainThread : Initializing Flask-Limiter...
2025-04-29 00:03:05,250 INFO app.extensions MainThread : Initializing OAuth...
2025-04-29 00:03:05,251 INFO app.extensions MainThread : Initializing Flask-Migrate...
2025-04-29 00:03:05,251 INFO app.extensions MainThread : Initializing Flask-Bcrypt...
2025-04-29 00:03:05,251 INFO app.extensions MainThread : Initializing Flask-SocketIO...
2025-04-29 00:03:05,252 INFO app.extensions MainThread : Debug mode detected, enabling detailed socketio logging
2025-04-29 00:03:05,271 INFO engineio.server MainThread : Server initialized for threading.
2025-04-29 00:03:05,272 INFO app.extensions MainThread : Flask-SocketIO initialized successfully
2025-04-29 00:03:05,272 INFO app.extensions MainThread : All extensions initialized successfully
2025-04-29 00:03:05,425 INFO app.services.voice_analysis_service MainThread : Voice Analysis Service initialized.
2025-04-29 00:03:05,457 INFO app.error_handler MainThread : Registering centralized error handlers
2025-04-29 00:03:05,460 WARNING werkzeug MainThread :  * Debugger is active!
2025-04-29 00:03:05,465 INFO werkzeug MainThread :  * Debugger PIN: 735-563-336
2025-04-29 00:03:26,120 INFO werkzeug Thread-3 (process_request_thread) : 127.0.0.1 - - [29/Apr/2025 00:03:26] "GET /api/auth/status HTTP/1.1" 200 -
2025-04-29 00:03:26,122 INFO werkzeug Thread-4 (process_request_thread) : 127.0.0.1 - - [29/Apr/2025 00:03:26] "GET /api/auth/status HTTP/1.1" 200 -
2025-04-29 00:03:38,364 CRITICAL app.chat.routes Thread-5 (process_request_thread) : --- CRITICAL: ENTERED api_chat_endpoint ---
2025-04-29 00:03:38,365 INFO app.chat.routes Thread-5 (process_request_thread) : Received request to /api/chat: application/json POST
2025-04-29 00:03:38,368 INFO app.chat.routes Thread-5 (process_request_thread) : Received message: Hey, how's it going?...
2025-04-29 00:03:38,388 INFO app.services.conversation_service Thread-5 (process_request_thread) : --- Entering process_user_message for session 9 ---
2025-04-29 00:03:38,400 ERROR app.services.conversation_service Thread-5 (process_request_thread) : Error in process_user_message: 'training_session_id' is an invalid keyword argument for Message
Traceback (most recent call last):
  File "C:\Users\cason\Downloads\salestraining-ai\app\services\conversation_service.py", line 52, in process_user_message
    user_message = Message(
                   ^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\cason\Downloads\salestraining-ai\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 575, in _initialize_instance
    with util.safe_reraise():
  File "C:\Users\cason\Downloads\salestraining-ai\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 147, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\cason\Downloads\salestraining-ai\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 573, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
  File "C:\Users\cason\Downloads\salestraining-ai\.venv\Lib\site-packages\sqlalchemy\orm\decl_base.py", line 2073, in _declarative_constructor
    raise TypeError(
TypeError: 'training_session_id' is an invalid keyword argument for Message
2025-04-29 00:03:38,403 CRITICAL app.services.conversation_service Thread-5 (process_request_thread) : --- CRITICAL: process_user_message caught an exception ---
2025-04-29 00:03:38,404 INFO app.chat.routes Thread-5 (process_request_thread) : Received response from conversation service: I apologize, but I'm experiencing a technical issu...
2025-04-29 00:03:38,405 INFO werkzeug Thread-5 (process_request_thread) : 127.0.0.1 - - [29/Apr/2025 00:03:38] "POST /chat/api/chat HTTP/1.1" 200 -
2025-04-29 00:10:56,459 INFO werkzeug MainThread :  * Detected change in 'C:\\Users\\cason\\Downloads\\salestraining-ai\\app\\chat\\routes.py', reloading
2025-04-29 00:10:56,462 INFO werkzeug MainThread :  * Detected change in 'C:\\Users\\cason\\Downloads\\salestraining-ai\\app\\chat\\routes.py', reloading
2025-04-29 00:10:57,073 INFO werkzeug MainThread :  * Restarting with stat
2025-04-29 00:10:59,159 INFO app MainThread : --- Logging configured (INFO to console, DEBUG to file) ---
2025-04-29 00:10:59,160 INFO app MainThread : Loaded configuration for environment: dev
2025-04-29 00:10:59,161 INFO app.database_manager MainThread : Initializing Database Manager
2025-04-29 00:10:59,162 INFO app MainThread : --- Logging configured (INFO to console, DEBUG to file) ---
2025-04-29 00:10:59,163 INFO app MainThread : Loaded configuration for environment: dev
2025-04-29 00:10:59,164 INFO app.database_manager MainThread : Initializing Database Manager
2025-04-29 00:10:59,178 INFO app.database_manager MainThread : Database Manager initialized successfully
2025-04-29 00:10:59,180 INFO app.services.api_manager MainThread : Initializing API Manager with all services
2025-04-29 00:10:59,182 INFO app.services.openai_service MainThread : Initializing OpenAIService with app context...
2025-04-29 00:10:59,183 INFO app.services.openai_service MainThread : Resolved OpenAI model: gpt-4.1-mini (Config: gpt-4.1-mini, Env: None, Default: gpt-4.1-mini)
2025-04-29 00:10:59,183 INFO app.database_manager MainThread : Database Manager initialized successfully
2025-04-29 00:10:59,185 INFO app.services.openai_service MainThread : Resolved feedback model: gpt-4.1-mini (Config: None, Env: None, Default: gpt-4.1-mini)
2025-04-29 00:10:59,185 INFO app.services.api_manager MainThread : Initializing API Manager with all services
2025-04-29 00:10:59,186 INFO app.services.openai_service MainThread : Operating system: Windows 10 (10.0.26100)
2025-04-29 00:10:59,187 INFO app.services.openai_service MainThread : Initializing OpenAIService with app context...
2025-04-29 00:10:59,188 INFO app.services.openai_service MainThread : Resolved OpenAI model: gpt-4.1-mini (Config: gpt-4.1-mini, Env: None, Default: gpt-4.1-mini)
2025-04-29 00:10:59,189 INFO app.services.openai_service MainThread : Resolved feedback model: gpt-4.1-mini (Config: None, Env: None, Default: gpt-4.1-mini)
2025-04-29 00:10:59,191 INFO app.services.openai_service MainThread : Operating system: Windows 10 (10.0.26100)
2025-04-29 00:10:59,196 INFO app.services.openai_service MainThread : Hostname: CasonsPC, Primary IP (gethostbyname): 10.0.0.150
2025-04-29 00:10:59,201 INFO app.services.openai_service MainThread : Hostname: CasonsPC, Primary IP (gethostbyname): 10.0.0.150
2025-04-29 00:10:59,201 INFO app.services.openai_service MainThread : All IPs for hostname (getaddrinfo): ['fe80::20d1:846a:12b1:1b1a', '2604:3d08:ea96:700::b1cc', '10.0.0.150', '2604:3d08:ea96:700:6b3e:d2ca:7404:71a8', '2604:3d08:ea96:700:48ea:452c:6b57:7bd2']
2025-04-29 00:10:59,204 INFO app.services.openai_service MainThread : Proxy environment: HTTP_PROXY=None, HTTPS_PROXY=None, NO_PROXY=None
2025-04-29 00:10:59,204 INFO app.services.openai_service MainThread : All IPs for hostname (getaddrinfo): ['2604:3d08:ea96:700:48ea:452c:6b57:7bd2', '2604:3d08:ea96:700:6b3e:d2ca:7404:71a8', 'fe80::20d1:846a:12b1:1b1a', '10.0.0.150', '2604:3d08:ea96:700::b1cc']
2025-04-29 00:10:59,205 INFO app.services.openai_service MainThread : Python version: 3.11.9
2025-04-29 00:10:59,206 INFO app.services.openai_service MainThread : Proxy environment: HTTP_PROXY=None, HTTPS_PROXY=None, NO_PROXY=None
2025-04-29 00:10:59,206 INFO app.services.openai_service MainThread : openai version: 1.7.0
2025-04-29 00:10:59,209 INFO app.services.openai_service MainThread : Python version: 3.11.9
2025-04-29 00:10:59,209 INFO app.services.openai_service MainThread : httpx version: 0.28.1
2025-04-29 00:10:59,211 INFO app.services.openai_service MainThread : openai version: 1.7.0
2025-04-29 00:10:59,211 INFO app.services.openai_service MainThread : certifi path: C:\Users\cason\Downloads\salestraining-ai\.venv\Lib\site-packages\certifi\cacert.pem
2025-04-29 00:10:59,213 INFO app.services.openai_service MainThread : httpx version: 0.28.1
2025-04-29 00:10:59,213 INFO app.services.openai_service MainThread : dnspython version: 2.4.2
2025-04-29 00:10:59,214 INFO app.services.openai_service MainThread : certifi path: C:\Users\cason\Downloads\salestraining-ai\.venv\Lib\site-packages\certifi\cacert.pem
2025-04-29 00:10:59,216 INFO app.services.openai_service MainThread : dnspython version: 2.4.2
2025-04-29 00:10:59,698 INFO app.services.openai_service MainThread : Created default httpx.Client instance explicitly with default SSL context.
2025-04-29 00:10:59,699 INFO app.services.openai_service MainThread : OpenAI client created with custom http_client.
2025-04-29 00:10:59,700 INFO app.services.openai_service MainThread : Testing basic connectivity to api.openai.com:443...
2025-04-29 00:10:59,709 INFO app.services.openai_service MainThread : Created default httpx.Client instance explicitly with default SSL context.
2025-04-29 00:10:59,711 INFO app.services.openai_service MainThread : OpenAI client created with custom http_client.
2025-04-29 00:10:59,711 INFO app.services.openai_service MainThread : Testing basic connectivity to api.openai.com:443...
2025-04-29 00:10:59,779 INFO app.services.openai_service MainThread : Socket connection to api.openai.com:443 successful
2025-04-29 00:10:59,780 INFO app.services.openai_service MainThread : Testing OpenAI API connection with model: gpt-4.1-mini (attempt 1/5)...
2025-04-29 00:10:59,779 INFO app.services.openai_service MainThread : Socket connection to api.openai.com:443 successful
2025-04-29 00:10:59,782 INFO app.services.openai_service MainThread : Testing OpenAI API connection with model: gpt-4.1-mini (attempt 1/5)...
2025-04-29 00:11:00,572 INFO httpx MainThread : HTTP Request: GET https://api.openai.com/v1/models/gpt-4.1-mini "HTTP/1.1 200 OK"
2025-04-29 00:11:00,576 INFO app.services.openai_service MainThread : OpenAI API connection successful for model: gpt-4.1-mini
2025-04-29 00:11:00,576 INFO app.services.openai_service MainThread : OpenAIService initialized with client.
2025-04-29 00:11:00,579 INFO app.services.openai_service MainThread : Testing basic connectivity to api.openai.com:443...
2025-04-29 00:11:00,625 INFO app.services.openai_service MainThread : Socket connection to api.openai.com:443 successful
2025-04-29 00:11:00,625 INFO app.services.openai_service MainThread : Testing OpenAI API connection with model: gpt-4.1-mini (attempt 1/5)...
2025-04-29 00:11:00,933 INFO httpx MainThread : HTTP Request: GET https://api.openai.com/v1/models/gpt-4.1-mini "HTTP/1.1 200 OK"
2025-04-29 00:11:00,937 INFO app.services.openai_service MainThread : OpenAI API connection successful for model: gpt-4.1-mini
2025-04-29 00:11:00,938 INFO app.services.openai_service MainThread : OpenAIService initialized with client.
2025-04-29 00:11:00,939 INFO app.services.openai_service MainThread : Testing basic connectivity to api.openai.com:443...
2025-04-29 00:11:00,964 INFO app.services.openai_service MainThread : Socket connection to api.openai.com:443 successful
2025-04-29 00:11:00,965 INFO app.services.openai_service MainThread : Testing OpenAI API connection with model: gpt-4.1-mini (attempt 1/5)...
2025-04-29 00:11:01,152 INFO httpx MainThread : HTTP Request: GET https://api.openai.com/v1/models/gpt-4.1-mini "HTTP/1.1 200 OK"
2025-04-29 00:11:01,153 INFO app.services.openai_service MainThread : OpenAI API connection successful for model: gpt-4.1-mini
2025-04-29 00:11:01,154 INFO app.services.api_manager MainThread : OpenAI service initialized: True
2025-04-29 00:11:01,154 INFO app.services.eleven_labs_service MainThread : ElevenLabsService init_app called. App config type: <class 'flask.config.Config'>
2025-04-29 00:11:01,154 INFO app.services.eleven_labs_service MainThread : API Key from app.config.get('ELEVEN_LABS_API_KEY'): Exists
2025-04-29 00:11:01,155 INFO app.services.eleven_labs_service MainThread : API Key from os.environ.get('ELEVEN_LABS_API_KEY'): Exists
2025-04-29 00:11:01,155 INFO app.services.eleven_labs_service MainThread : API Key from os.environ.get('ELEVENLABS_API_KEY'): Exists
2025-04-29 00:11:01,156 INFO app.services.eleven_labs_service MainThread : ElevenLabsService initialized successfully with API key (length: 51)
2025-04-29 00:11:01,156 INFO app.services.api_manager MainThread : ElevenLabs service initialized: True
2025-04-29 00:11:01,158 INFO app.services.deepgram_service MainThread : Initializing DeepgramService with app context
2025-04-29 00:11:01,158 INFO app.services.deepgram_service MainThread : Deepgram API key format: length=40, has prefix='dg_'=False
2025-04-29 00:11:01,158 INFO app.services.deepgram_service MainThread : Detected possible legacy key format, will try both original and with dg_ prefix
2025-04-29 00:11:01,159 INFO app.services.deepgram_service MainThread : Created alternative API key with dg_ prefix for fallback
2025-04-29 00:11:01,159 INFO app.services.deepgram_service MainThread : DeepgramService initialized successfully
2025-04-29 00:11:01,160 INFO app.services.api_manager MainThread : Deepgram service initialized
2025-04-29 00:11:01,161 INFO app.system_health MainThread : Health check routes registered
2025-04-29 00:11:01,161 INFO app.extensions MainThread : Initializing extensions for app instance (id: 3011785258704)
2025-04-29 00:11:01,162 INFO app.extensions MainThread : Initializing SQLAlchemy...
2025-04-29 00:11:01,162 INFO app.extensions MainThread : SQLAlchemy already registered on this Flask app, skipping initialization
2025-04-29 00:11:01,163 INFO app.extensions MainThread : Initializing Flask-Login...
2025-04-29 00:11:01,163 INFO app.extensions MainThread : Initializing Flask-Mail...
2025-04-29 00:11:01,164 INFO app.extensions MainThread : Initializing Flask-Limiter...
2025-04-29 00:11:01,165 INFO app.extensions MainThread : Initializing OAuth...
2025-04-29 00:11:01,165 INFO app.extensions MainThread : Initializing Flask-Migrate...
2025-04-29 00:11:01,165 INFO app.extensions MainThread : Initializing Flask-Bcrypt...
2025-04-29 00:11:01,166 INFO app.extensions MainThread : Initializing Flask-SocketIO...
2025-04-29 00:11:01,166 INFO app.extensions MainThread : Debug mode detected, enabling detailed socketio logging
2025-04-29 00:11:01,201 INFO engineio.server MainThread : Server initialized for threading.
2025-04-29 00:11:01,203 INFO app.extensions MainThread : Flask-SocketIO initialized successfully
2025-04-29 00:11:01,204 INFO app.extensions MainThread : All extensions initialized successfully
2025-04-29 00:11:01,308 INFO httpx MainThread : HTTP Request: GET https://api.openai.com/v1/models/gpt-4.1-mini "HTTP/1.1 200 OK"
2025-04-29 00:11:01,309 INFO app.services.openai_service MainThread : OpenAI API connection successful for model: gpt-4.1-mini
2025-04-29 00:11:01,310 INFO app.services.api_manager MainThread : OpenAI service initialized: True
2025-04-29 00:11:01,311 INFO app.services.eleven_labs_service MainThread : ElevenLabsService init_app called. App config type: <class 'flask.config.Config'>
2025-04-29 00:11:01,311 INFO app.services.eleven_labs_service MainThread : API Key from app.config.get('ELEVEN_LABS_API_KEY'): Exists
2025-04-29 00:11:01,312 INFO app.services.eleven_labs_service MainThread : API Key from os.environ.get('ELEVEN_LABS_API_KEY'): Exists
2025-04-29 00:11:01,313 INFO app.services.eleven_labs_service MainThread : API Key from os.environ.get('ELEVENLABS_API_KEY'): Exists
2025-04-29 00:11:01,314 INFO app.services.eleven_labs_service MainThread : ElevenLabsService initialized successfully with API key (length: 51)
2025-04-29 00:11:01,315 INFO app.services.api_manager MainThread : ElevenLabs service initialized: True
2025-04-29 00:11:01,316 INFO app.services.deepgram_service MainThread : Initializing DeepgramService with app context
2025-04-29 00:11:01,318 INFO app.services.deepgram_service MainThread : Deepgram API key format: length=40, has prefix='dg_'=False
2025-04-29 00:11:01,318 INFO app.services.deepgram_service MainThread : Detected possible legacy key format, will try both original and with dg_ prefix
2025-04-29 00:11:01,320 INFO app.services.deepgram_service MainThread : Created alternative API key with dg_ prefix for fallback
2025-04-29 00:11:01,322 INFO app.services.deepgram_service MainThread : DeepgramService initialized successfully
2025-04-29 00:11:01,323 INFO app.services.api_manager MainThread : Deepgram service initialized
2025-04-29 00:11:01,327 INFO app.system_health MainThread : Health check routes registered
2025-04-29 00:11:01,328 INFO app.extensions MainThread : Initializing extensions for app instance (id: 1914875745488)
2025-04-29 00:11:01,329 INFO app.extensions MainThread : Initializing SQLAlchemy...
2025-04-29 00:11:01,329 INFO app.extensions MainThread : SQLAlchemy already registered on this Flask app, skipping initialization
2025-04-29 00:11:01,330 INFO app.extensions MainThread : Initializing Flask-Login...
2025-04-29 00:11:01,332 INFO app.extensions MainThread : Initializing Flask-Mail...
2025-04-29 00:11:01,333 INFO app.extensions MainThread : Initializing Flask-Limiter...
2025-04-29 00:11:01,336 INFO app.extensions MainThread : Initializing OAuth...
2025-04-29 00:11:01,338 INFO app.extensions MainThread : Initializing Flask-Migrate...
2025-04-29 00:11:01,340 INFO app.extensions MainThread : Initializing Flask-Bcrypt...
2025-04-29 00:11:01,341 INFO app.extensions MainThread : Initializing Flask-SocketIO...
2025-04-29 00:11:01,343 INFO app.extensions MainThread : Debug mode detected, enabling detailed socketio logging
2025-04-29 00:11:01,392 INFO engineio.server MainThread : Server initialized for threading.
2025-04-29 00:11:01,396 INFO app.extensions MainThread : Flask-SocketIO initialized successfully
2025-04-29 00:11:01,398 INFO app.extensions MainThread : All extensions initialized successfully
2025-04-29 00:11:01,548 INFO app.services.voice_analysis_service MainThread : Voice Analysis Service initialized.
2025-04-29 00:11:01,632 INFO app.error_handler MainThread : Registering centralized error handlers
2025-04-29 00:11:01,634 WARNING werkzeug MainThread :  * Debugger is active!
2025-04-29 00:11:01,643 INFO werkzeug MainThread :  * Debugger PIN: 735-563-336
2025-04-29 00:11:01,705 INFO app.services.voice_analysis_service MainThread : Voice Analysis Service initialized.
2025-04-29 00:11:01,747 INFO app.error_handler MainThread : Registering centralized error handlers
2025-04-29 00:11:01,749 WARNING werkzeug MainThread :  * Debugger is active!
2025-04-29 00:11:01,755 INFO werkzeug MainThread :  * Debugger PIN: 735-563-336
2025-04-29 00:13:35,404 INFO app MainThread : --- Logging configured (INFO to console, DEBUG to file) ---
2025-04-29 00:13:35,408 INFO app MainThread : Loaded configuration for environment: dev
2025-04-29 00:13:35,410 INFO app.database_manager MainThread : Initializing Database Manager
2025-04-29 00:13:35,466 INFO app.database_manager MainThread : Database Manager initialized successfully
2025-04-29 00:13:35,469 INFO app.services.api_manager MainThread : Initializing API Manager with all services
2025-04-29 00:13:35,471 INFO app.services.openai_service MainThread : Initializing OpenAIService with app context...
2025-04-29 00:13:35,472 INFO app.services.openai_service MainThread : Resolved OpenAI model: gpt-4.1-mini (Config: gpt-4.1-mini, Env: None, Default: gpt-4.1-mini)
2025-04-29 00:13:35,473 INFO app.services.openai_service MainThread : Resolved feedback model: gpt-4.1-mini (Config: None, Env: None, Default: gpt-4.1-mini)
2025-04-29 00:13:35,473 INFO app.services.openai_service MainThread : Operating system: Windows 10 (10.0.26100)
2025-04-29 00:13:35,478 INFO app.services.openai_service MainThread : Hostname: CasonsPC, Primary IP (gethostbyname): 10.0.0.150
2025-04-29 00:13:35,478 INFO app.services.openai_service MainThread : All IPs for hostname (getaddrinfo): ['2604:3d08:ea96:700:6b3e:d2ca:7404:71a8', '2604:3d08:ea96:700::b1cc', 'fe80::20d1:846a:12b1:1b1a', '2604:3d08:ea96:700:48ea:452c:6b57:7bd2', '10.0.0.150']
2025-04-29 00:13:35,479 INFO app.services.openai_service MainThread : Proxy environment: HTTP_PROXY=None, HTTPS_PROXY=None, NO_PROXY=None
2025-04-29 00:13:35,479 INFO app.services.openai_service MainThread : Python version: 3.11.9
2025-04-29 00:13:35,480 INFO app.services.openai_service MainThread : openai version: 1.7.0
2025-04-29 00:13:35,480 INFO app.services.openai_service MainThread : httpx version: 0.28.1
2025-04-29 00:13:35,480 INFO app.services.openai_service MainThread : certifi path: C:\Users\cason\Downloads\salestraining-ai\.venv\Lib\site-packages\certifi\cacert.pem
2025-04-29 00:13:35,481 INFO app.services.openai_service MainThread : dnspython version: 2.4.2
2025-04-29 00:13:35,918 INFO app.services.openai_service MainThread : Created default httpx.Client instance explicitly with default SSL context.
2025-04-29 00:13:35,919 INFO app.services.openai_service MainThread : OpenAI client created with custom http_client.
2025-04-29 00:13:35,919 INFO app.services.openai_service MainThread : Testing basic connectivity to api.openai.com:443...
2025-04-29 00:13:36,003 INFO app.services.openai_service MainThread : Socket connection to api.openai.com:443 successful
2025-04-29 00:13:36,003 INFO app.services.openai_service MainThread : Testing OpenAI API connection with model: gpt-4.1-mini (attempt 1/5)...
2025-04-29 00:13:36,699 INFO httpx MainThread : HTTP Request: GET https://api.openai.com/v1/models/gpt-4.1-mini "HTTP/1.1 200 OK"
2025-04-29 00:13:36,701 INFO app.services.openai_service MainThread : OpenAI API connection successful for model: gpt-4.1-mini
2025-04-29 00:13:36,701 INFO app.services.openai_service MainThread : OpenAIService initialized with client.
2025-04-29 00:13:36,702 INFO app.services.openai_service MainThread : Testing basic connectivity to api.openai.com:443...
2025-04-29 00:13:36,727 INFO app.services.openai_service MainThread : Socket connection to api.openai.com:443 successful
2025-04-29 00:13:36,728 INFO app.services.openai_service MainThread : Testing OpenAI API connection with model: gpt-4.1-mini (attempt 1/5)...
2025-04-29 00:13:37,098 INFO httpx MainThread : HTTP Request: GET https://api.openai.com/v1/models/gpt-4.1-mini "HTTP/1.1 200 OK"
2025-04-29 00:13:37,099 INFO app.services.openai_service MainThread : OpenAI API connection successful for model: gpt-4.1-mini
2025-04-29 00:13:37,100 INFO app.services.api_manager MainThread : OpenAI service initialized: True
2025-04-29 00:13:37,101 INFO app.services.eleven_labs_service MainThread : ElevenLabsService init_app called. App config type: <class 'flask.config.Config'>
2025-04-29 00:13:37,102 INFO app.services.eleven_labs_service MainThread : API Key from app.config.get('ELEVEN_LABS_API_KEY'): Exists
2025-04-29 00:13:37,103 INFO app.services.eleven_labs_service MainThread : API Key from os.environ.get('ELEVEN_LABS_API_KEY'): Exists
2025-04-29 00:13:37,104 INFO app.services.eleven_labs_service MainThread : API Key from os.environ.get('ELEVENLABS_API_KEY'): Exists
2025-04-29 00:13:37,105 INFO app.services.eleven_labs_service MainThread : ElevenLabsService initialized successfully with API key (length: 51)
2025-04-29 00:13:37,106 INFO app.services.api_manager MainThread : ElevenLabs service initialized: True
2025-04-29 00:13:37,108 INFO app.services.deepgram_service MainThread : Initializing DeepgramService with app context
2025-04-29 00:13:37,110 INFO app.services.deepgram_service MainThread : Deepgram API key format: length=40, has prefix='dg_'=False
2025-04-29 00:13:37,111 INFO app.services.deepgram_service MainThread : Detected possible legacy key format, will try both original and with dg_ prefix
2025-04-29 00:13:37,111 INFO app.services.deepgram_service MainThread : Created alternative API key with dg_ prefix for fallback
2025-04-29 00:13:37,112 INFO app.services.deepgram_service MainThread : DeepgramService initialized successfully
2025-04-29 00:13:37,113 INFO app.services.api_manager MainThread : Deepgram service initialized
2025-04-29 00:13:37,116 INFO app.system_health MainThread : Health check routes registered
2025-04-29 00:13:37,117 INFO app.extensions MainThread : Initializing extensions for app instance (id: 2091818718352)
2025-04-29 00:13:37,119 INFO app.extensions MainThread : Initializing SQLAlchemy...
2025-04-29 00:13:37,120 INFO app.extensions MainThread : SQLAlchemy already registered on this Flask app, skipping initialization
2025-04-29 00:13:37,121 INFO app.extensions MainThread : Initializing Flask-Login...
2025-04-29 00:13:37,122 INFO app.extensions MainThread : Initializing Flask-Mail...
2025-04-29 00:13:37,124 INFO app.extensions MainThread : Initializing Flask-Limiter...
2025-04-29 00:13:37,127 INFO app.extensions MainThread : Initializing OAuth...
2025-04-29 00:13:37,128 INFO app.extensions MainThread : Initializing Flask-Migrate...
2025-04-29 00:13:37,129 INFO app.extensions MainThread : Initializing Flask-Bcrypt...
2025-04-29 00:13:37,131 INFO app.extensions MainThread : Initializing Flask-SocketIO...
2025-04-29 00:13:37,132 INFO app.extensions MainThread : Debug mode detected, enabling detailed socketio logging
2025-04-29 00:13:37,184 INFO engineio.server MainThread : Server initialized for threading.
2025-04-29 00:13:37,186 INFO app.extensions MainThread : Flask-SocketIO initialized successfully
2025-04-29 00:13:37,187 INFO app.extensions MainThread : All extensions initialized successfully
2025-04-29 00:13:37,510 INFO app.services.voice_analysis_service MainThread : Voice Analysis Service initialized.
2025-04-29 00:13:37,586 INFO app.error_handler MainThread : Registering centralized error handlers
2025-04-29 00:13:37,595 INFO werkzeug MainThread : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-04-29 00:13:37,596 INFO werkzeug MainThread : [33mPress CTRL+C to quit[0m
2025-04-29 00:13:37,596 INFO werkzeug MainThread :  * Restarting with stat
2025-04-29 00:13:40,198 INFO werkzeug Thread-4 (process_request_thread) : 127.0.0.1 - - [29/Apr/2025 00:13:40] "GET /api/auth/status HTTP/1.1" 200 -
2025-04-29 00:13:40,199 INFO werkzeug Thread-3 (process_request_thread) : 127.0.0.1 - - [29/Apr/2025 00:13:40] "GET /api/auth/status HTTP/1.1" 200 -
2025-04-29 00:13:40,885 INFO app MainThread : --- Logging configured (INFO to console, DEBUG to file) ---
2025-04-29 00:13:40,898 INFO app MainThread : Loaded configuration for environment: dev
2025-04-29 00:13:40,903 INFO app.database_manager MainThread : Initializing Database Manager
2025-04-29 00:13:40,928 INFO app.database_manager MainThread : Database Manager initialized successfully
2025-04-29 00:13:40,929 INFO app.services.api_manager MainThread : Initializing API Manager with all services
2025-04-29 00:13:40,930 INFO app.services.openai_service MainThread : Initializing OpenAIService with app context...
2025-04-29 00:13:40,930 INFO app.services.openai_service MainThread : Resolved OpenAI model: gpt-4.1-mini (Config: gpt-4.1-mini, Env: None, Default: gpt-4.1-mini)
2025-04-29 00:13:40,931 INFO app.services.openai_service MainThread : Resolved feedback model: gpt-4.1-mini (Config: None, Env: None, Default: gpt-4.1-mini)
2025-04-29 00:13:40,931 INFO app.services.openai_service MainThread : Operating system: Windows 10 (10.0.26100)
2025-04-29 00:13:40,936 INFO app.services.openai_service MainThread : Hostname: CasonsPC, Primary IP (gethostbyname): 10.0.0.150
2025-04-29 00:13:40,937 INFO app.services.openai_service MainThread : All IPs for hostname (getaddrinfo): ['2604:3d08:ea96:700::b1cc', 'fe80::20d1:846a:12b1:1b1a', '2604:3d08:ea96:700:48ea:452c:6b57:7bd2', '10.0.0.150', '2604:3d08:ea96:700:6b3e:d2ca:7404:71a8']
2025-04-29 00:13:40,937 INFO app.services.openai_service MainThread : Proxy environment: HTTP_PROXY=None, HTTPS_PROXY=None, NO_PROXY=None
2025-04-29 00:13:40,938 INFO app.services.openai_service MainThread : Python version: 3.11.9
2025-04-29 00:13:40,938 INFO app.services.openai_service MainThread : openai version: 1.7.0
2025-04-29 00:13:40,939 INFO app.services.openai_service MainThread : httpx version: 0.28.1
2025-04-29 00:13:40,939 INFO app.services.openai_service MainThread : certifi path: C:\Users\cason\Downloads\salestraining-ai\.venv\Lib\site-packages\certifi\cacert.pem
2025-04-29 00:13:40,940 INFO app.services.openai_service MainThread : dnspython version: 2.4.2
2025-04-29 00:13:41,459 INFO app.services.openai_service MainThread : Created default httpx.Client instance explicitly with default SSL context.
2025-04-29 00:13:41,463 INFO app.services.openai_service MainThread : OpenAI client created with custom http_client.
2025-04-29 00:13:41,464 INFO app.services.openai_service MainThread : Testing basic connectivity to api.openai.com:443...
2025-04-29 00:13:41,511 INFO app.services.openai_service MainThread : Socket connection to api.openai.com:443 successful
2025-04-29 00:13:41,513 INFO app.services.openai_service MainThread : Testing OpenAI API connection with model: gpt-4.1-mini (attempt 1/5)...
2025-04-29 00:13:42,128 INFO httpx MainThread : HTTP Request: GET https://api.openai.com/v1/models/gpt-4.1-mini "HTTP/1.1 200 OK"
2025-04-29 00:13:42,130 INFO app.services.openai_service MainThread : OpenAI API connection successful for model: gpt-4.1-mini
2025-04-29 00:13:42,131 INFO app.services.openai_service MainThread : OpenAIService initialized with client.
2025-04-29 00:13:42,131 INFO app.services.openai_service MainThread : Testing basic connectivity to api.openai.com:443...
2025-04-29 00:13:42,181 INFO app.services.openai_service MainThread : Socket connection to api.openai.com:443 successful
2025-04-29 00:13:42,182 INFO app.services.openai_service MainThread : Testing OpenAI API connection with model: gpt-4.1-mini (attempt 1/5)...
2025-04-29 00:13:42,542 INFO httpx MainThread : HTTP Request: GET https://api.openai.com/v1/models/gpt-4.1-mini "HTTP/1.1 200 OK"
2025-04-29 00:13:42,545 INFO app.services.openai_service MainThread : OpenAI API connection successful for model: gpt-4.1-mini
2025-04-29 00:13:42,546 INFO app.services.api_manager MainThread : OpenAI service initialized: True
2025-04-29 00:13:42,547 INFO app.services.eleven_labs_service MainThread : ElevenLabsService init_app called. App config type: <class 'flask.config.Config'>
2025-04-29 00:13:42,549 INFO app.services.eleven_labs_service MainThread : API Key from app.config.get('ELEVEN_LABS_API_KEY'): Exists
2025-04-29 00:13:42,550 INFO app.services.eleven_labs_service MainThread : API Key from os.environ.get('ELEVEN_LABS_API_KEY'): Exists
2025-04-29 00:13:42,551 INFO app.services.eleven_labs_service MainThread : API Key from os.environ.get('ELEVENLABS_API_KEY'): Exists
2025-04-29 00:13:42,552 INFO app.services.eleven_labs_service MainThread : ElevenLabsService initialized successfully with API key (length: 51)
2025-04-29 00:13:42,553 INFO app.services.api_manager MainThread : ElevenLabs service initialized: True
2025-04-29 00:13:42,554 INFO app.services.deepgram_service MainThread : Initializing DeepgramService with app context
2025-04-29 00:13:42,556 INFO app.services.deepgram_service MainThread : Deepgram API key format: length=40, has prefix='dg_'=False
2025-04-29 00:13:42,556 INFO app.services.deepgram_service MainThread : Detected possible legacy key format, will try both original and with dg_ prefix
2025-04-29 00:13:42,558 INFO app.services.deepgram_service MainThread : Created alternative API key with dg_ prefix for fallback
2025-04-29 00:13:42,559 INFO app.services.deepgram_service MainThread : DeepgramService initialized successfully
2025-04-29 00:13:42,561 INFO app.services.api_manager MainThread : Deepgram service initialized
2025-04-29 00:13:42,566 INFO app.system_health MainThread : Health check routes registered
2025-04-29 00:13:42,567 INFO app.extensions MainThread : Initializing extensions for app instance (id: 2479080314000)
2025-04-29 00:13:42,567 INFO app.extensions MainThread : Initializing SQLAlchemy...
2025-04-29 00:13:42,570 INFO app.extensions MainThread : SQLAlchemy already registered on this Flask app, skipping initialization
2025-04-29 00:13:42,571 INFO app.extensions MainThread : Initializing Flask-Login...
2025-04-29 00:13:42,572 INFO app.extensions MainThread : Initializing Flask-Mail...
2025-04-29 00:13:42,573 INFO app.extensions MainThread : Initializing Flask-Limiter...
2025-04-29 00:13:42,576 INFO app.extensions MainThread : Initializing OAuth...
2025-04-29 00:13:42,578 INFO app.extensions MainThread : Initializing Flask-Migrate...
2025-04-29 00:13:42,580 INFO app.extensions MainThread : Initializing Flask-Bcrypt...
2025-04-29 00:13:42,581 INFO app.extensions MainThread : Initializing Flask-SocketIO...
2025-04-29 00:13:42,583 INFO app.extensions MainThread : Debug mode detected, enabling detailed socketio logging
2025-04-29 00:13:42,640 INFO engineio.server MainThread : Server initialized for threading.
2025-04-29 00:13:42,643 INFO app.extensions MainThread : Flask-SocketIO initialized successfully
2025-04-29 00:13:42,643 INFO app.extensions MainThread : All extensions initialized successfully
2025-04-29 00:13:42,975 INFO app.services.voice_analysis_service MainThread : Voice Analysis Service initialized.
2025-04-29 00:13:43,039 INFO app.error_handler MainThread : Registering centralized error handlers
2025-04-29 00:13:43,041 WARNING werkzeug MainThread :  * Debugger is active!
2025-04-29 00:13:43,051 INFO werkzeug MainThread :  * Debugger PIN: 735-563-336
2025-04-29 00:13:47,202 CRITICAL app.chat.routes Thread-5 (process_request_thread) : --- CRITICAL: ENTERED api_chat_endpoint ---
2025-04-29 00:13:47,205 INFO app.chat.routes Thread-5 (process_request_thread) : Received request to /api/chat: application/json POST
2025-04-29 00:13:47,209 INFO app.chat.routes Thread-5 (process_request_thread) : Received message: Hey, how's it going?...
2025-04-29 00:13:47,219 ERROR app.chat.routes Thread-5 (process_request_thread) : Error in API chat: --- Deliberate error before inner try block ---
Traceback (most recent call last):
  File "C:\Users\cason\Downloads\salestraining-ai\app\chat\routes.py", line 692, in api_chat_endpoint
    raise ValueError("--- Deliberate error before inner try block ---")
ValueError: --- Deliberate error before inner try block ---
2025-04-29 00:13:47,223 CRITICAL app.chat.routes Thread-5 (process_request_thread) : --- CRITICAL: ENTERED api_chat_endpoint OUTER EXCEPT --- 
2025-04-29 00:13:47,229 INFO werkzeug Thread-5 (process_request_thread) : 127.0.0.1 - - [29/Apr/2025 00:13:47] "[35m[1mPOST /chat/api/chat HTTP/1.1[0m" 500 -
2025-04-29 00:15:50,308 INFO werkzeug MainThread :  * Detected change in 'C:\\Users\\cason\\Downloads\\salestraining-ai\\app\\chat\\routes.py', reloading
2025-04-29 00:15:50,327 INFO werkzeug MainThread :  * Detected change in 'C:\\Users\\cason\\Downloads\\salestraining-ai\\app\\chat\\routes.py', reloading
2025-04-29 00:15:50,942 INFO werkzeug MainThread :  * Restarting with stat
2025-04-29 00:15:53,281 INFO app MainThread : --- Logging configured (INFO to console, DEBUG to file) ---
2025-04-29 00:15:53,282 INFO app MainThread : Loaded configuration for environment: dev
2025-04-29 00:15:53,282 INFO app.database_manager MainThread : Initializing Database Manager
2025-04-29 00:15:53,288 INFO app MainThread : --- Logging configured (INFO to console, DEBUG to file) ---
2025-04-29 00:15:53,289 INFO app MainThread : Loaded configuration for environment: dev
2025-04-29 00:15:53,290 INFO app.database_manager MainThread : Initializing Database Manager
2025-04-29 00:15:53,299 INFO app.database_manager MainThread : Database Manager initialized successfully
2025-04-29 00:15:53,299 INFO app.services.api_manager MainThread : Initializing API Manager with all services
2025-04-29 00:15:53,300 INFO app.services.openai_service MainThread : Initializing OpenAIService with app context...
2025-04-29 00:15:53,300 INFO app.services.openai_service MainThread : Resolved OpenAI model: gpt-4.1-mini (Config: gpt-4.1-mini, Env: None, Default: gpt-4.1-mini)
2025-04-29 00:15:53,301 INFO app.services.openai_service MainThread : Resolved feedback model: gpt-4.1-mini (Config: None, Env: None, Default: gpt-4.1-mini)
2025-04-29 00:15:53,301 INFO app.services.openai_service MainThread : Operating system: Windows 10 (10.0.26100)
2025-04-29 00:15:53,306 INFO app.database_manager MainThread : Database Manager initialized successfully
2025-04-29 00:15:53,306 INFO app.services.api_manager MainThread : Initializing API Manager with all services
2025-04-29 00:15:53,308 INFO app.services.openai_service MainThread : Initializing OpenAIService with app context...
2025-04-29 00:15:53,308 INFO app.services.openai_service MainThread : Hostname: CasonsPC, Primary IP (gethostbyname): 10.0.0.150
2025-04-29 00:15:53,308 INFO app.services.openai_service MainThread : Resolved OpenAI model: gpt-4.1-mini (Config: gpt-4.1-mini, Env: None, Default: gpt-4.1-mini)
2025-04-29 00:15:53,309 INFO app.services.openai_service MainThread : Resolved feedback model: gpt-4.1-mini (Config: None, Env: None, Default: gpt-4.1-mini)
2025-04-29 00:15:53,309 INFO app.services.openai_service MainThread : All IPs for hostname (getaddrinfo): ['2604:3d08:ea96:700:48ea:452c:6b57:7bd2', '2604:3d08:ea96:700:6b3e:d2ca:7404:71a8', 'fe80::20d1:846a:12b1:1b1a', '2604:3d08:ea96:700::b1cc', '10.0.0.150']
2025-04-29 00:15:53,310 INFO app.services.openai_service MainThread : Operating system: Windows 10 (10.0.26100)
2025-04-29 00:15:53,310 INFO app.services.openai_service MainThread : Proxy environment: HTTP_PROXY=None, HTTPS_PROXY=None, NO_PROXY=None
2025-04-29 00:15:53,311 INFO app.services.openai_service MainThread : Python version: 3.11.9
2025-04-29 00:15:53,311 INFO app.services.openai_service MainThread : openai version: 1.7.0
2025-04-29 00:15:53,312 INFO app.services.openai_service MainThread : httpx version: 0.28.1
2025-04-29 00:15:53,312 INFO app.services.openai_service MainThread : certifi path: C:\Users\cason\Downloads\salestraining-ai\.venv\Lib\site-packages\certifi\cacert.pem
2025-04-29 00:15:53,312 INFO app.services.openai_service MainThread : dnspython version: 2.4.2
2025-04-29 00:15:53,316 INFO app.services.openai_service MainThread : Hostname: CasonsPC, Primary IP (gethostbyname): 10.0.0.150
2025-04-29 00:15:53,319 INFO app.services.openai_service MainThread : All IPs for hostname (getaddrinfo): ['2604:3d08:ea96:700:48ea:452c:6b57:7bd2', 'fe80::20d1:846a:12b1:1b1a', '2604:3d08:ea96:700:6b3e:d2ca:7404:71a8', '2604:3d08:ea96:700::b1cc', '10.0.0.150']
2025-04-29 00:15:53,320 INFO app.services.openai_service MainThread : Proxy environment: HTTP_PROXY=None, HTTPS_PROXY=None, NO_PROXY=None
2025-04-29 00:15:53,320 INFO app.services.openai_service MainThread : Python version: 3.11.9
2025-04-29 00:15:53,321 INFO app.services.openai_service MainThread : openai version: 1.7.0
2025-04-29 00:15:53,322 INFO app.services.openai_service MainThread : httpx version: 0.28.1
2025-04-29 00:15:53,322 INFO app.services.openai_service MainThread : certifi path: C:\Users\cason\Downloads\salestraining-ai\.venv\Lib\site-packages\certifi\cacert.pem
2025-04-29 00:15:53,323 INFO app.services.openai_service MainThread : dnspython version: 2.4.2
2025-04-29 00:15:53,791 INFO app.services.openai_service MainThread : Created default httpx.Client instance explicitly with default SSL context.
2025-04-29 00:15:53,792 INFO app.services.openai_service MainThread : OpenAI client created with custom http_client.
2025-04-29 00:15:53,793 INFO app.services.openai_service MainThread : Testing basic connectivity to api.openai.com:443...
2025-04-29 00:15:53,800 INFO app.services.openai_service MainThread : Created default httpx.Client instance explicitly with default SSL context.
2025-04-29 00:15:53,801 INFO app.services.openai_service MainThread : OpenAI client created with custom http_client.
2025-04-29 00:15:53,802 INFO app.services.openai_service MainThread : Testing basic connectivity to api.openai.com:443...
2025-04-29 00:15:53,864 INFO app.services.openai_service MainThread : Socket connection to api.openai.com:443 successful
2025-04-29 00:15:53,865 INFO app.services.openai_service MainThread : Testing OpenAI API connection with model: gpt-4.1-mini (attempt 1/5)...
2025-04-29 00:15:53,883 INFO app.services.openai_service MainThread : Socket connection to api.openai.com:443 successful
2025-04-29 00:15:53,884 INFO app.services.openai_service MainThread : Testing OpenAI API connection with model: gpt-4.1-mini (attempt 1/5)...
2025-04-29 00:15:54,240 INFO httpx MainThread : HTTP Request: GET https://api.openai.com/v1/models/gpt-4.1-mini "HTTP/1.1 200 OK"
2025-04-29 00:15:54,242 INFO app.services.openai_service MainThread : OpenAI API connection successful for model: gpt-4.1-mini
2025-04-29 00:15:54,242 INFO app.services.openai_service MainThread : OpenAIService initialized with client.
2025-04-29 00:15:54,243 INFO app.services.openai_service MainThread : Testing basic connectivity to api.openai.com:443...
2025-04-29 00:15:54,272 INFO app.services.openai_service MainThread : Socket connection to api.openai.com:443 successful
2025-04-29 00:15:54,273 INFO app.services.openai_service MainThread : Testing OpenAI API connection with model: gpt-4.1-mini (attempt 1/5)...
2025-04-29 00:15:54,362 INFO httpx MainThread : HTTP Request: GET https://api.openai.com/v1/models/gpt-4.1-mini "HTTP/1.1 200 OK"
2025-04-29 00:15:54,363 INFO app.services.openai_service MainThread : OpenAI API connection successful for model: gpt-4.1-mini
2025-04-29 00:15:54,364 INFO app.services.openai_service MainThread : OpenAIService initialized with client.
2025-04-29 00:15:54,365 INFO app.services.openai_service MainThread : Testing basic connectivity to api.openai.com:443...
2025-04-29 00:15:54,411 INFO app.services.openai_service MainThread : Socket connection to api.openai.com:443 successful
2025-04-29 00:15:54,412 INFO app.services.openai_service MainThread : Testing OpenAI API connection with model: gpt-4.1-mini (attempt 1/5)...
2025-04-29 00:15:54,653 INFO httpx MainThread : HTTP Request: GET https://api.openai.com/v1/models/gpt-4.1-mini "HTTP/1.1 200 OK"
2025-04-29 00:15:54,655 INFO app.services.openai_service MainThread : OpenAI API connection successful for model: gpt-4.1-mini
2025-04-29 00:15:54,656 INFO app.services.api_manager MainThread : OpenAI service initialized: True
2025-04-29 00:15:54,658 INFO app.services.eleven_labs_service MainThread : ElevenLabsService init_app called. App config type: <class 'flask.config.Config'>
2025-04-29 00:15:54,658 INFO app.services.eleven_labs_service MainThread : API Key from app.config.get('ELEVEN_LABS_API_KEY'): Exists
2025-04-29 00:15:54,659 INFO app.services.eleven_labs_service MainThread : API Key from os.environ.get('ELEVEN_LABS_API_KEY'): Exists
2025-04-29 00:15:54,661 INFO app.services.eleven_labs_service MainThread : API Key from os.environ.get('ELEVENLABS_API_KEY'): Exists
2025-04-29 00:15:54,662 INFO app.services.eleven_labs_service MainThread : ElevenLabsService initialized successfully with API key (length: 51)
2025-04-29 00:15:54,663 INFO app.services.api_manager MainThread : ElevenLabs service initialized: True
2025-04-29 00:15:54,664 INFO app.services.deepgram_service MainThread : Initializing DeepgramService with app context
2025-04-29 00:15:54,665 INFO app.services.deepgram_service MainThread : Deepgram API key format: length=40, has prefix='dg_'=False
2025-04-29 00:15:54,665 INFO app.services.deepgram_service MainThread : Detected possible legacy key format, will try both original and with dg_ prefix
2025-04-29 00:15:54,666 INFO app.services.deepgram_service MainThread : Created alternative API key with dg_ prefix for fallback
2025-04-29 00:15:54,666 INFO app.services.deepgram_service MainThread : DeepgramService initialized successfully
2025-04-29 00:15:54,666 INFO app.services.api_manager MainThread : Deepgram service initialized
2025-04-29 00:15:54,669 INFO app.system_health MainThread : Health check routes registered
2025-04-29 00:15:54,669 INFO app.extensions MainThread : Initializing extensions for app instance (id: 1548597972816)
2025-04-29 00:15:54,670 INFO app.extensions MainThread : Initializing SQLAlchemy...
2025-04-29 00:15:54,670 INFO app.extensions MainThread : SQLAlchemy already registered on this Flask app, skipping initialization
2025-04-29 00:15:54,671 INFO app.extensions MainThread : Initializing Flask-Login...
2025-04-29 00:15:54,671 INFO app.extensions MainThread : Initializing Flask-Mail...
2025-04-29 00:15:54,671 INFO app.extensions MainThread : Initializing Flask-Limiter...
2025-04-29 00:15:54,672 INFO app.extensions MainThread : Initializing OAuth...
2025-04-29 00:15:54,674 INFO app.extensions MainThread : Initializing Flask-Migrate...
2025-04-29 00:15:54,675 INFO app.extensions MainThread : Initializing Flask-Bcrypt...
2025-04-29 00:15:54,676 INFO app.extensions MainThread : Initializing Flask-SocketIO...
2025-04-29 00:15:54,677 INFO app.extensions MainThread : Debug mode detected, enabling detailed socketio logging
2025-04-29 00:15:54,709 INFO engineio.server MainThread : Server initialized for threading.
2025-04-29 00:15:54,712 INFO app.extensions MainThread : Flask-SocketIO initialized successfully
2025-04-29 00:15:54,712 INFO app.extensions MainThread : All extensions initialized successfully
2025-04-29 00:15:54,805 INFO httpx MainThread : HTTP Request: GET https://api.openai.com/v1/models/gpt-4.1-mini "HTTP/1.1 200 OK"
2025-04-29 00:15:54,808 INFO app.services.openai_service MainThread : OpenAI API connection successful for model: gpt-4.1-mini
2025-04-29 00:15:54,808 INFO app.services.api_manager MainThread : OpenAI service initialized: True
2025-04-29 00:15:54,809 INFO app.services.eleven_labs_service MainThread : ElevenLabsService init_app called. App config type: <class 'flask.config.Config'>
2025-04-29 00:15:54,810 INFO app.services.eleven_labs_service MainThread : API Key from app.config.get('ELEVEN_LABS_API_KEY'): Exists
2025-04-29 00:15:54,810 INFO app.services.eleven_labs_service MainThread : API Key from os.environ.get('ELEVEN_LABS_API_KEY'): Exists
2025-04-29 00:15:54,811 INFO app.services.eleven_labs_service MainThread : API Key from os.environ.get('ELEVENLABS_API_KEY'): Exists
2025-04-29 00:15:54,811 INFO app.services.eleven_labs_service MainThread : ElevenLabsService initialized successfully with API key (length: 51)
2025-04-29 00:15:54,812 INFO app.services.api_manager MainThread : ElevenLabs service initialized: True
2025-04-29 00:15:54,812 INFO app.services.deepgram_service MainThread : Initializing DeepgramService with app context
2025-04-29 00:15:54,813 INFO app.services.deepgram_service MainThread : Deepgram API key format: length=40, has prefix='dg_'=False
2025-04-29 00:15:54,813 INFO app.services.deepgram_service MainThread : Detected possible legacy key format, will try both original and with dg_ prefix
2025-04-29 00:15:54,814 INFO app.services.deepgram_service MainThread : Created alternative API key with dg_ prefix for fallback
2025-04-29 00:15:54,814 INFO app.services.deepgram_service MainThread : DeepgramService initialized successfully
2025-04-29 00:15:54,816 INFO app.services.api_manager MainThread : Deepgram service initialized
2025-04-29 00:15:54,817 INFO app.system_health MainThread : Health check routes registered
2025-04-29 00:15:54,817 INFO app.extensions MainThread : Initializing extensions for app instance (id: 2509866061648)
2025-04-29 00:15:54,818 INFO app.extensions MainThread : Initializing SQLAlchemy...
2025-04-29 00:15:54,819 INFO app.extensions MainThread : SQLAlchemy already registered on this Flask app, skipping initialization
2025-04-29 00:15:54,819 INFO app.extensions MainThread : Initializing Flask-Login...
2025-04-29 00:15:54,820 INFO app.extensions MainThread : Initializing Flask-Mail...
2025-04-29 00:15:54,821 INFO app.extensions MainThread : Initializing Flask-Limiter...
2025-04-29 00:15:54,822 INFO app.extensions MainThread : Initializing OAuth...
2025-04-29 00:15:54,824 INFO app.extensions MainThread : Initializing Flask-Migrate...
2025-04-29 00:15:54,824 INFO app.extensions MainThread : Initializing Flask-Bcrypt...
2025-04-29 00:15:54,826 INFO app.extensions MainThread : Initializing Flask-SocketIO...
2025-04-29 00:15:54,826 INFO app.extensions MainThread : Debug mode detected, enabling detailed socketio logging
2025-04-29 00:15:54,863 INFO engineio.server MainThread : Server initialized for threading.
2025-04-29 00:15:54,864 INFO app.extensions MainThread : Flask-SocketIO initialized successfully
2025-04-29 00:15:54,864 INFO app.extensions MainThread : All extensions initialized successfully
2025-04-29 00:15:54,944 INFO app.services.voice_analysis_service MainThread : Voice Analysis Service initialized.
2025-04-29 00:15:54,990 INFO app.error_handler MainThread : Registering centralized error handlers
2025-04-29 00:15:54,991 WARNING werkzeug MainThread :  * Debugger is active!
2025-04-29 00:15:54,998 INFO werkzeug MainThread :  * Debugger PIN: 735-563-336
2025-04-29 00:15:55,054 INFO app.services.voice_analysis_service MainThread : Voice Analysis Service initialized.
2025-04-29 00:15:55,094 INFO app.error_handler MainThread : Registering centralized error handlers
2025-04-29 00:15:55,095 WARNING werkzeug MainThread :  * Debugger is active!
2025-04-29 00:15:55,101 INFO werkzeug MainThread :  * Debugger PIN: 735-563-336
2025-04-29 00:23:25,371 INFO app MainThread : --- Logging configured (INFO to console, DEBUG to file) ---
2025-04-29 00:23:25,373 INFO app MainThread : Loaded configuration for environment: dev
2025-04-29 00:23:25,374 INFO app.database_manager MainThread : Initializing Database Manager
2025-04-29 00:23:25,395 INFO app.database_manager MainThread : Database Manager initialized successfully
2025-04-29 00:23:25,396 INFO app.services.api_manager MainThread : Initializing API Manager with all services
2025-04-29 00:23:25,397 INFO app.services.openai_service MainThread : Initializing OpenAIService with app context...
2025-04-29 00:23:25,397 INFO app.services.openai_service MainThread : Resolved OpenAI model: gpt-4.1-mini (Config: gpt-4.1-mini, Env: None, Default: gpt-4.1-mini)
2025-04-29 00:23:25,398 INFO app.services.openai_service MainThread : Resolved feedback model: gpt-4.1-mini (Config: None, Env: None, Default: gpt-4.1-mini)
2025-04-29 00:23:25,398 INFO app.services.openai_service MainThread : Operating system: Windows 10 (10.0.26100)
2025-04-29 00:23:25,402 INFO app.services.openai_service MainThread : Hostname: CasonsPC, Primary IP (gethostbyname): 10.0.0.150
2025-04-29 00:23:25,403 INFO app.services.openai_service MainThread : All IPs for hostname (getaddrinfo): ['2604:3d08:ea96:700::b1cc', '2604:3d08:ea96:700:6b3e:d2ca:7404:71a8', '2604:3d08:ea96:700:48ea:452c:6b57:7bd2', '10.0.0.150', 'fe80::20d1:846a:12b1:1b1a']
2025-04-29 00:23:25,404 INFO app.services.openai_service MainThread : Proxy environment: HTTP_PROXY=None, HTTPS_PROXY=None, NO_PROXY=None
2025-04-29 00:23:25,404 INFO app.services.openai_service MainThread : Python version: 3.11.9
2025-04-29 00:23:25,404 INFO app.services.openai_service MainThread : openai version: 1.7.0
2025-04-29 00:23:25,405 INFO app.services.openai_service MainThread : httpx version: 0.28.1
2025-04-29 00:23:25,405 INFO app.services.openai_service MainThread : certifi path: C:\Users\cason\Downloads\salestraining-ai\.venv\Lib\site-packages\certifi\cacert.pem
2025-04-29 00:23:25,406 INFO app.services.openai_service MainThread : dnspython version: 2.4.2
2025-04-29 00:23:25,896 INFO app.services.openai_service MainThread : Created default httpx.Client instance explicitly with default SSL context.
2025-04-29 00:23:25,897 INFO app.services.openai_service MainThread : OpenAI client created with custom http_client.
2025-04-29 00:23:25,898 INFO app.services.openai_service MainThread : Testing basic connectivity to api.openai.com:443...
2025-04-29 00:23:25,937 INFO app.services.openai_service MainThread : Socket connection to api.openai.com:443 successful
2025-04-29 00:23:25,937 INFO app.services.openai_service MainThread : Testing OpenAI API connection with model: gpt-4.1-mini (attempt 1/5)...
2025-04-29 00:23:26,443 INFO httpx MainThread : HTTP Request: GET https://api.openai.com/v1/models/gpt-4.1-mini "HTTP/1.1 200 OK"
2025-04-29 00:23:26,445 INFO app.services.openai_service MainThread : OpenAI API connection successful for model: gpt-4.1-mini
2025-04-29 00:23:26,445 INFO app.services.openai_service MainThread : OpenAIService initialized with client.
2025-04-29 00:23:26,446 INFO app.services.openai_service MainThread : Testing basic connectivity to api.openai.com:443...
2025-04-29 00:23:26,470 INFO app.services.openai_service MainThread : Socket connection to api.openai.com:443 successful
2025-04-29 00:23:26,471 INFO app.services.openai_service MainThread : Testing OpenAI API connection with model: gpt-4.1-mini (attempt 1/5)...
2025-04-29 00:23:26,856 INFO httpx MainThread : HTTP Request: GET https://api.openai.com/v1/models/gpt-4.1-mini "HTTP/1.1 200 OK"
2025-04-29 00:23:26,857 INFO app.services.openai_service MainThread : OpenAI API connection successful for model: gpt-4.1-mini
2025-04-29 00:23:26,857 INFO app.services.api_manager MainThread : OpenAI service initialized: True
2025-04-29 00:23:26,858 INFO app.services.eleven_labs_service MainThread : ElevenLabsService init_app called. App config type: <class 'flask.config.Config'>
2025-04-29 00:23:26,858 INFO app.services.eleven_labs_service MainThread : API Key from app.config.get('ELEVEN_LABS_API_KEY'): Exists
2025-04-29 00:23:26,858 INFO app.services.eleven_labs_service MainThread : API Key from os.environ.get('ELEVEN_LABS_API_KEY'): Exists
2025-04-29 00:23:26,859 INFO app.services.eleven_labs_service MainThread : API Key from os.environ.get('ELEVENLABS_API_KEY'): Exists
2025-04-29 00:23:26,859 INFO app.services.eleven_labs_service MainThread : ElevenLabsService initialized successfully with API key (length: 51)
2025-04-29 00:23:26,859 INFO app.services.api_manager MainThread : ElevenLabs service initialized: True
2025-04-29 00:23:26,860 INFO app.services.deepgram_service MainThread : Initializing DeepgramService with app context
2025-04-29 00:23:26,860 INFO app.services.deepgram_service MainThread : Deepgram API key format: length=40, has prefix='dg_'=False
2025-04-29 00:23:26,860 INFO app.services.deepgram_service MainThread : Detected possible legacy key format, will try both original and with dg_ prefix
2025-04-29 00:23:26,860 INFO app.services.deepgram_service MainThread : Created alternative API key with dg_ prefix for fallback
2025-04-29 00:23:26,861 INFO app.services.deepgram_service MainThread : DeepgramService initialized successfully
2025-04-29 00:23:26,861 INFO app.services.api_manager MainThread : Deepgram service initialized
2025-04-29 00:23:26,863 INFO app.system_health MainThread : Health check routes registered
2025-04-29 00:23:26,863 INFO app.extensions MainThread : Initializing extensions for app instance (id: 2114358111568)
2025-04-29 00:23:26,863 INFO app.extensions MainThread : Initializing SQLAlchemy...
2025-04-29 00:23:26,864 INFO app.extensions MainThread : SQLAlchemy already registered on this Flask app, skipping initialization
2025-04-29 00:23:26,864 INFO app.extensions MainThread : Initializing Flask-Login...
2025-04-29 00:23:26,864 INFO app.extensions MainThread : Initializing Flask-Mail...
2025-04-29 00:23:26,865 INFO app.extensions MainThread : Initializing Flask-Limiter...
2025-04-29 00:23:26,866 INFO app.extensions MainThread : Initializing OAuth...
2025-04-29 00:23:26,866 INFO app.extensions MainThread : Initializing Flask-Migrate...
2025-04-29 00:23:26,866 INFO app.extensions MainThread : Initializing Flask-Bcrypt...
2025-04-29 00:23:26,867 INFO app.extensions MainThread : Initializing Flask-SocketIO...
2025-04-29 00:23:26,867 INFO app.extensions MainThread : Debug mode detected, enabling detailed socketio logging
2025-04-29 00:23:26,885 INFO engineio.server MainThread : Server initialized for threading.
2025-04-29 00:23:26,886 INFO app.extensions MainThread : Flask-SocketIO initialized successfully
2025-04-29 00:23:26,886 INFO app.extensions MainThread : All extensions initialized successfully
2025-04-29 00:23:27,087 INFO app.services.voice_analysis_service MainThread : Voice Analysis Service initialized.
2025-04-29 00:23:27,138 INFO app.error_handler MainThread : Registering centralized error handlers
2025-04-29 00:23:27,145 INFO werkzeug MainThread : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-04-29 00:23:27,146 INFO werkzeug MainThread : [33mPress CTRL+C to quit[0m
2025-04-29 00:23:27,147 INFO werkzeug MainThread :  * Restarting with stat
2025-04-29 00:23:29,129 INFO werkzeug Thread-3 (process_request_thread) : 127.0.0.1 - - [29/Apr/2025 00:23:29] "GET /api/auth/status HTTP/1.1" 200 -
2025-04-29 00:23:29,129 INFO werkzeug Thread-4 (process_request_thread) : 127.0.0.1 - - [29/Apr/2025 00:23:29] "GET /api/auth/status HTTP/1.1" 200 -
2025-04-29 00:23:30,299 INFO app MainThread : --- Logging configured (INFO to console, DEBUG to file) ---
2025-04-29 00:23:30,301 INFO app MainThread : Loaded configuration for environment: dev
2025-04-29 00:23:30,301 INFO app.database_manager MainThread : Initializing Database Manager
2025-04-29 00:23:30,322 INFO app.database_manager MainThread : Database Manager initialized successfully
2025-04-29 00:23:30,323 INFO app.services.api_manager MainThread : Initializing API Manager with all services
2025-04-29 00:23:30,324 INFO app.services.openai_service MainThread : Initializing OpenAIService with app context...
2025-04-29 00:23:30,324 INFO app.services.openai_service MainThread : Resolved OpenAI model: gpt-4.1-mini (Config: gpt-4.1-mini, Env: None, Default: gpt-4.1-mini)
2025-04-29 00:23:30,325 INFO app.services.openai_service MainThread : Resolved feedback model: gpt-4.1-mini (Config: None, Env: None, Default: gpt-4.1-mini)
2025-04-29 00:23:30,326 INFO app.services.openai_service MainThread : Operating system: Windows 10 (10.0.26100)
2025-04-29 00:23:30,332 INFO app.services.openai_service MainThread : Hostname: CasonsPC, Primary IP (gethostbyname): 10.0.0.150
2025-04-29 00:23:30,334 INFO app.services.openai_service MainThread : All IPs for hostname (getaddrinfo): ['10.0.0.150', 'fe80::20d1:846a:12b1:1b1a', '2604:3d08:ea96:700:48ea:452c:6b57:7bd2', '2604:3d08:ea96:700::b1cc', '2604:3d08:ea96:700:6b3e:d2ca:7404:71a8']
2025-04-29 00:23:30,334 INFO app.services.openai_service MainThread : Proxy environment: HTTP_PROXY=None, HTTPS_PROXY=None, NO_PROXY=None
2025-04-29 00:23:30,336 INFO app.services.openai_service MainThread : Python version: 3.11.9
2025-04-29 00:23:30,344 INFO app.services.openai_service MainThread : openai version: 1.7.0
2025-04-29 00:23:30,346 INFO app.services.openai_service MainThread : httpx version: 0.28.1
2025-04-29 00:23:30,349 INFO app.services.openai_service MainThread : certifi path: C:\Users\cason\Downloads\salestraining-ai\.venv\Lib\site-packages\certifi\cacert.pem
2025-04-29 00:23:30,350 INFO app.services.openai_service MainThread : dnspython version: 2.4.2
2025-04-29 00:23:31,022 INFO app.services.openai_service MainThread : Created default httpx.Client instance explicitly with default SSL context.
2025-04-29 00:23:31,023 INFO app.services.openai_service MainThread : OpenAI client created with custom http_client.
2025-04-29 00:23:31,024 INFO app.services.openai_service MainThread : Testing basic connectivity to api.openai.com:443...
2025-04-29 00:23:31,062 INFO app.services.openai_service MainThread : Socket connection to api.openai.com:443 successful
2025-04-29 00:23:31,064 INFO app.services.openai_service MainThread : Testing OpenAI API connection with model: gpt-4.1-mini (attempt 1/5)...
2025-04-29 00:23:31,545 INFO httpx MainThread : HTTP Request: GET https://api.openai.com/v1/models/gpt-4.1-mini "HTTP/1.1 200 OK"
2025-04-29 00:23:31,549 INFO app.services.openai_service MainThread : OpenAI API connection successful for model: gpt-4.1-mini
2025-04-29 00:23:31,551 INFO app.services.openai_service MainThread : OpenAIService initialized with client.
2025-04-29 00:23:31,552 INFO app.services.openai_service MainThread : Testing basic connectivity to api.openai.com:443...
2025-04-29 00:23:31,609 INFO app.services.openai_service MainThread : Socket connection to api.openai.com:443 successful
2025-04-29 00:23:31,611 INFO app.services.openai_service MainThread : Testing OpenAI API connection with model: gpt-4.1-mini (attempt 1/5)...
2025-04-29 00:23:31,970 INFO httpx MainThread : HTTP Request: GET https://api.openai.com/v1/models/gpt-4.1-mini "HTTP/1.1 200 OK"
2025-04-29 00:23:31,972 INFO app.services.openai_service MainThread : OpenAI API connection successful for model: gpt-4.1-mini
2025-04-29 00:23:31,972 INFO app.services.api_manager MainThread : OpenAI service initialized: True
2025-04-29 00:23:31,973 INFO app.services.eleven_labs_service MainThread : ElevenLabsService init_app called. App config type: <class 'flask.config.Config'>
2025-04-29 00:23:31,973 INFO app.services.eleven_labs_service MainThread : API Key from app.config.get('ELEVEN_LABS_API_KEY'): Exists
2025-04-29 00:23:31,974 INFO app.services.eleven_labs_service MainThread : API Key from os.environ.get('ELEVEN_LABS_API_KEY'): Exists
2025-04-29 00:23:31,975 INFO app.services.eleven_labs_service MainThread : API Key from os.environ.get('ELEVENLABS_API_KEY'): Exists
2025-04-29 00:23:31,975 INFO app.services.eleven_labs_service MainThread : ElevenLabsService initialized successfully with API key (length: 51)
2025-04-29 00:23:31,976 INFO app.services.api_manager MainThread : ElevenLabs service initialized: True
2025-04-29 00:23:31,976 INFO app.services.deepgram_service MainThread : Initializing DeepgramService with app context
2025-04-29 00:23:31,977 INFO app.services.deepgram_service MainThread : Deepgram API key format: length=40, has prefix='dg_'=False
2025-04-29 00:23:31,978 INFO app.services.deepgram_service MainThread : Detected possible legacy key format, will try both original and with dg_ prefix
2025-04-29 00:23:31,979 INFO app.services.deepgram_service MainThread : Created alternative API key with dg_ prefix for fallback
2025-04-29 00:23:31,979 INFO app.services.deepgram_service MainThread : DeepgramService initialized successfully
2025-04-29 00:23:31,979 INFO app.services.api_manager MainThread : Deepgram service initialized
2025-04-29 00:23:31,981 INFO app.system_health MainThread : Health check routes registered
2025-04-29 00:23:31,982 INFO app.extensions MainThread : Initializing extensions for app instance (id: 2161801767120)
2025-04-29 00:23:31,982 INFO app.extensions MainThread : Initializing SQLAlchemy...
2025-04-29 00:23:31,983 INFO app.extensions MainThread : SQLAlchemy already registered on this Flask app, skipping initialization
2025-04-29 00:23:31,983 INFO app.extensions MainThread : Initializing Flask-Login...
2025-04-29 00:23:31,984 INFO app.extensions MainThread : Initializing Flask-Mail...
2025-04-29 00:23:31,984 INFO app.extensions MainThread : Initializing Flask-Limiter...
2025-04-29 00:23:31,985 INFO app.extensions MainThread : Initializing OAuth...
2025-04-29 00:23:31,985 INFO app.extensions MainThread : Initializing Flask-Migrate...
2025-04-29 00:23:31,986 INFO app.extensions MainThread : Initializing Flask-Bcrypt...
2025-04-29 00:23:31,986 INFO app.extensions MainThread : Initializing Flask-SocketIO...
2025-04-29 00:23:31,987 INFO app.extensions MainThread : Debug mode detected, enabling detailed socketio logging
2025-04-29 00:23:32,015 INFO engineio.server MainThread : Server initialized for threading.
2025-04-29 00:23:32,016 INFO app.extensions MainThread : Flask-SocketIO initialized successfully
2025-04-29 00:23:32,016 INFO app.extensions MainThread : All extensions initialized successfully
2025-04-29 00:23:32,331 INFO app.services.voice_analysis_service MainThread : Voice Analysis Service initialized.
2025-04-29 00:23:32,417 INFO app.error_handler MainThread : Registering centralized error handlers
2025-04-29 00:23:32,420 WARNING werkzeug MainThread :  * Debugger is active!
2025-04-29 00:23:32,432 INFO werkzeug MainThread :  * Debugger PIN: 735-563-336
2025-04-29 00:23:34,425 CRITICAL app.chat.routes Thread-5 (process_request_thread) : --- CRITICAL: ENTERED api_chat_endpoint ---
2025-04-29 00:23:34,430 INFO app.chat.routes Thread-5 (process_request_thread) : Received request to /api/chat: application/json POST
2025-04-29 00:23:34,434 INFO app.chat.routes Thread-5 (process_request_thread) : Received message: Hey, how's it going?...
2025-04-29 00:23:34,476 INFO app.services.conversation_service Thread-5 (process_request_thread) : --- Entering process_user_message for session 9 ---
2025-04-29 00:23:34,489 ERROR app.services.conversation_service Thread-5 (process_request_thread) : Error in process_user_message: 'training_session_id' is an invalid keyword argument for Message
Traceback (most recent call last):
  File "C:\Users\cason\Downloads\salestraining-ai\app\services\conversation_service.py", line 52, in process_user_message
    user_message = Message(
                   ^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\cason\Downloads\salestraining-ai\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 575, in _initialize_instance
    with util.safe_reraise():
  File "C:\Users\cason\Downloads\salestraining-ai\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 147, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\cason\Downloads\salestraining-ai\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 573, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
  File "C:\Users\cason\Downloads\salestraining-ai\.venv\Lib\site-packages\sqlalchemy\orm\decl_base.py", line 2073, in _declarative_constructor
    raise TypeError(
TypeError: 'training_session_id' is an invalid keyword argument for Message
2025-04-29 00:23:34,496 CRITICAL app.services.conversation_service Thread-5 (process_request_thread) : --- CRITICAL: process_user_message caught an exception ---
2025-04-29 00:23:34,497 INFO app.chat.routes Thread-5 (process_request_thread) : Received response from conversation service: I apologize, but I'm experiencing a technical issu...
2025-04-29 00:23:34,502 INFO werkzeug Thread-5 (process_request_thread) : 127.0.0.1 - - [29/Apr/2025 00:23:34] "POST /chat/api/chat HTTP/1.1" 200 -
2025-04-29 00:26:51,218 INFO werkzeug MainThread :  * Detected change in 'C:\\Users\\cason\\Downloads\\salestraining-ai\\app\\chat\\routes.py', reloading
2025-04-29 00:26:51,222 INFO werkzeug MainThread :  * Detected change in 'C:\\Users\\cason\\Downloads\\salestraining-ai\\app\\chat\\routes.py', reloading
2025-04-29 00:26:51,804 INFO werkzeug MainThread :  * Restarting with stat
2025-04-29 00:26:54,142 INFO app MainThread : --- Logging configured (INFO to console, DEBUG to file) ---
2025-04-29 00:26:54,142 INFO app MainThread : --- Logging configured (INFO to console, DEBUG to file) ---
2025-04-29 00:26:54,143 INFO app MainThread : Loaded configuration for environment: dev
2025-04-29 00:26:54,143 INFO app MainThread : Loaded configuration for environment: dev
2025-04-29 00:26:54,143 INFO app.database_manager MainThread : Initializing Database Manager
2025-04-29 00:26:54,143 INFO app.database_manager MainThread : Initializing Database Manager
2025-04-29 00:26:54,161 INFO app.database_manager MainThread : Database Manager initialized successfully
2025-04-29 00:26:54,162 INFO app.services.api_manager MainThread : Initializing API Manager with all services
2025-04-29 00:26:54,162 INFO app.services.api_manager MainThread : Initializing API Manager with all services
2025-04-29 00:26:54,163 INFO app.services.openai_service MainThread : Initializing OpenAIService with app context...
2025-04-29 00:26:54,163 INFO app.services.openai_service MainThread : Initializing OpenAIService with app context...
2025-04-29 00:26:54,163 INFO app.services.openai_service MainThread : Resolved OpenAI model: gpt-4.1-mini (Config: gpt-4.1-mini, Env: None, Default: gpt-4.1-mini)
2025-04-29 00:26:54,164 INFO app.services.openai_service MainThread : Resolved OpenAI model: gpt-4.1-mini (Config: gpt-4.1-mini, Env: None, Default: gpt-4.1-mini)
2025-04-29 00:26:54,164 INFO app.services.openai_service MainThread : Resolved feedback model: gpt-4.1-mini (Config: None, Env: None, Default: gpt-4.1-mini)
2025-04-29 00:26:54,164 INFO app.services.openai_service MainThread : Resolved feedback model: gpt-4.1-mini (Config: None, Env: None, Default: gpt-4.1-mini)
2025-04-29 00:26:54,164 INFO app.services.openai_service MainThread : Operating system: Windows 10 (10.0.26100)
2025-04-29 00:26:54,164 INFO app.services.openai_service MainThread : Operating system: Windows 10 (10.0.26100)
2025-04-29 00:26:54,169 INFO app.services.openai_service MainThread : Hostname: CasonsPC, Primary IP (gethostbyname): 10.0.0.150
2025-04-29 00:26:54,169 INFO app.services.openai_service MainThread : Hostname: CasonsPC, Primary IP (gethostbyname): 10.0.0.150
2025-04-29 00:26:54,171 INFO app.services.openai_service MainThread : All IPs for hostname (getaddrinfo): ['2604:3d08:ea96:700::b1cc', 'fe80::20d1:846a:12b1:1b1a', '2604:3d08:ea96:700:48ea:452c:6b57:7bd2', '10.0.0.150', '2604:3d08:ea96:700:6b3e:d2ca:7404:71a8']
2025-04-29 00:26:54,171 INFO app.services.openai_service MainThread : All IPs for hostname (getaddrinfo): ['fe80::20d1:846a:12b1:1b1a', '10.0.0.150', '2604:3d08:ea96:700:48ea:452c:6b57:7bd2', '2604:3d08:ea96:700:6b3e:d2ca:7404:71a8', '2604:3d08:ea96:700::b1cc']
2025-04-29 00:26:54,171 INFO app.services.openai_service MainThread : Proxy environment: HTTP_PROXY=None, HTTPS_PROXY=None, NO_PROXY=None
2025-04-29 00:26:54,171 INFO app.services.openai_service MainThread : Proxy environment: HTTP_PROXY=None, HTTPS_PROXY=None, NO_PROXY=None
2025-04-29 00:26:54,172 INFO app.services.openai_service MainThread : Python version: 3.11.9
2025-04-29 00:26:54,172 INFO app.services.openai_service MainThread : Python version: 3.11.9
2025-04-29 00:26:54,172 INFO app.services.openai_service MainThread : openai version: 1.7.0
2025-04-29 00:26:54,172 INFO app.services.openai_service MainThread : openai version: 1.7.0
2025-04-29 00:26:54,172 INFO app.services.openai_service MainThread : httpx version: 0.28.1
2025-04-29 00:26:54,172 INFO app.services.openai_service MainThread : httpx version: 0.28.1
2025-04-29 00:26:54,173 INFO app.services.openai_service MainThread : certifi path: C:\Users\cason\Downloads\salestraining-ai\.venv\Lib\site-packages\certifi\cacert.pem
2025-04-29 00:26:54,173 INFO app.services.openai_service MainThread : certifi path: C:\Users\cason\Downloads\salestraining-ai\.venv\Lib\site-packages\certifi\cacert.pem
2025-04-29 00:26:54,173 INFO app.services.openai_service MainThread : dnspython version: 2.4.2
2025-04-29 00:26:54,173 INFO app.services.openai_service MainThread : dnspython version: 2.4.2
2025-04-29 00:26:54,641 INFO app.services.openai_service MainThread : Created default httpx.Client instance explicitly with default SSL context.
2025-04-29 00:26:54,642 INFO app.services.openai_service MainThread : OpenAI client created with custom http_client.
2025-04-29 00:26:54,642 INFO app.services.openai_service MainThread : Testing basic connectivity to api.openai.com:443...
2025-04-29 00:26:54,646 INFO app.services.openai_service MainThread : Created default httpx.Client instance explicitly with default SSL context.
2025-04-29 00:26:54,647 INFO app.services.openai_service MainThread : OpenAI client created with custom http_client.
2025-04-29 00:26:54,647 INFO app.services.openai_service MainThread : Testing basic connectivity to api.openai.com:443...
2025-04-29 00:26:54,710 INFO app.services.openai_service MainThread : Socket connection to api.openai.com:443 successful
2025-04-29 00:26:54,710 INFO app.services.openai_service MainThread : Socket connection to api.openai.com:443 successful
2025-04-29 00:26:54,710 INFO app.services.openai_service MainThread : Testing OpenAI API connection with model: gpt-4.1-mini (attempt 1/5)...
2025-04-29 00:26:54,711 INFO app.services.openai_service MainThread : Testing OpenAI API connection with model: gpt-4.1-mini (attempt 1/5)...
2025-04-29 00:26:55,223 INFO httpx MainThread : HTTP Request: GET https://api.openai.com/v1/models/gpt-4.1-mini "HTTP/1.1 200 OK"
2025-04-29 00:26:55,226 INFO app.services.openai_service MainThread : OpenAI API connection successful for model: gpt-4.1-mini
2025-04-29 00:26:55,227 INFO app.services.openai_service MainThread : OpenAIService initialized with client.
2025-04-29 00:26:55,228 INFO app.services.openai_service MainThread : Testing basic connectivity to api.openai.com:443...
2025-04-29 00:26:55,267 INFO httpx MainThread : HTTP Request: GET https://api.openai.com/v1/models/gpt-4.1-mini "HTTP/1.1 200 OK"
2025-04-29 00:26:55,271 INFO app.services.openai_service MainThread : OpenAI API connection successful for model: gpt-4.1-mini
2025-04-29 00:26:55,272 INFO app.services.openai_service MainThread : OpenAIService initialized with client.
2025-04-29 00:26:55,274 INFO app.services.openai_service MainThread : Testing basic connectivity to api.openai.com:443...
2025-04-29 00:26:55,277 INFO app.services.openai_service MainThread : Socket connection to api.openai.com:443 successful
2025-04-29 00:26:55,279 INFO app.services.openai_service MainThread : Testing OpenAI API connection with model: gpt-4.1-mini (attempt 1/5)...
2025-04-29 00:26:55,324 INFO app.services.openai_service MainThread : Socket connection to api.openai.com:443 successful
2025-04-29 00:26:55,326 INFO app.services.openai_service MainThread : Testing OpenAI API connection with model: gpt-4.1-mini (attempt 1/5)...
2025-04-29 00:26:55,734 INFO httpx MainThread : HTTP Request: GET https://api.openai.com/v1/models/gpt-4.1-mini "HTTP/1.1 200 OK"
2025-04-29 00:26:55,735 INFO app.services.openai_service MainThread : OpenAI API connection successful for model: gpt-4.1-mini
2025-04-29 00:26:55,736 INFO app.services.api_manager MainThread : OpenAI service initialized: True
2025-04-29 00:26:55,737 INFO app.services.eleven_labs_service MainThread : ElevenLabsService init_app called. App config type: <class 'flask.config.Config'>
2025-04-29 00:26:55,737 INFO app.services.eleven_labs_service MainThread : API Key from app.config.get('ELEVEN_LABS_API_KEY'): Exists
2025-04-29 00:26:55,738 INFO app.services.eleven_labs_service MainThread : API Key from os.environ.get('ELEVEN_LABS_API_KEY'): Exists
2025-04-29 00:26:55,739 INFO app.services.eleven_labs_service MainThread : API Key from os.environ.get('ELEVENLABS_API_KEY'): Exists
2025-04-29 00:26:55,740 INFO app.services.eleven_labs_service MainThread : ElevenLabsService initialized successfully with API key (length: 51)
2025-04-29 00:26:55,740 INFO app.services.api_manager MainThread : ElevenLabs service initialized: True
2025-04-29 00:26:55,741 INFO app.services.deepgram_service MainThread : Initializing DeepgramService with app context
2025-04-29 00:26:55,742 INFO app.services.deepgram_service MainThread : Deepgram API key format: length=40, has prefix='dg_'=False
2025-04-29 00:26:55,743 INFO app.services.deepgram_service MainThread : Detected possible legacy key format, will try both original and with dg_ prefix
2025-04-29 00:26:55,744 INFO app.services.deepgram_service MainThread : Created alternative API key with dg_ prefix for fallback
2025-04-29 00:26:55,745 INFO app.services.deepgram_service MainThread : DeepgramService initialized successfully
2025-04-29 00:26:55,746 INFO app.services.api_manager MainThread : Deepgram service initialized
2025-04-29 00:26:55,748 INFO app.system_health MainThread : Health check routes registered
2025-04-29 00:26:55,748 INFO app.extensions MainThread : Initializing extensions for app instance (id: 1212464838608)
2025-04-29 00:26:55,749 INFO app.extensions MainThread : Initializing SQLAlchemy...
2025-04-29 00:26:55,749 INFO app.extensions MainThread : SQLAlchemy already registered on this Flask app, skipping initialization
2025-04-29 00:26:55,749 INFO app.extensions MainThread : Initializing Flask-Login...
2025-04-29 00:26:55,750 INFO app.extensions MainThread : Initializing Flask-Mail...
2025-04-29 00:26:55,750 INFO app.extensions MainThread : Initializing Flask-Limiter...
2025-04-29 00:26:55,751 INFO app.extensions MainThread : Initializing OAuth...
2025-04-29 00:26:55,752 INFO app.extensions MainThread : Initializing Flask-Migrate...
2025-04-29 00:26:55,754 INFO app.extensions MainThread : Initializing Flask-Bcrypt...
2025-04-29 00:26:55,755 INFO app.extensions MainThread : Initializing Flask-SocketIO...
2025-04-29 00:26:55,755 INFO httpx MainThread : HTTP Request: GET https://api.openai.com/v1/models/gpt-4.1-mini "HTTP/1.1 200 OK"
2025-04-29 00:26:55,756 INFO app.extensions MainThread : Debug mode detected, enabling detailed socketio logging
2025-04-29 00:26:55,761 INFO app.services.openai_service MainThread : OpenAI API connection successful for model: gpt-4.1-mini
2025-04-29 00:26:55,762 INFO app.services.api_manager MainThread : OpenAI service initialized: True
2025-04-29 00:26:55,763 INFO app.services.eleven_labs_service MainThread : ElevenLabsService init_app called. App config type: <class 'flask.config.Config'>
2025-04-29 00:26:55,763 INFO app.services.eleven_labs_service MainThread : API Key from app.config.get('ELEVEN_LABS_API_KEY'): Exists
2025-04-29 00:26:55,764 INFO app.services.eleven_labs_service MainThread : API Key from os.environ.get('ELEVEN_LABS_API_KEY'): Exists
2025-04-29 00:26:55,765 INFO app.services.eleven_labs_service MainThread : API Key from os.environ.get('ELEVENLABS_API_KEY'): Exists
2025-04-29 00:26:55,765 INFO app.services.eleven_labs_service MainThread : ElevenLabsService initialized successfully with API key (length: 51)
2025-04-29 00:26:55,766 INFO app.services.api_manager MainThread : ElevenLabs service initialized: True
2025-04-29 00:26:55,766 INFO app.services.deepgram_service MainThread : Initializing DeepgramService with app context
2025-04-29 00:26:55,767 INFO app.services.deepgram_service MainThread : Deepgram API key format: length=40, has prefix='dg_'=False
2025-04-29 00:26:55,767 INFO app.services.deepgram_service MainThread : Detected possible legacy key format, will try both original and with dg_ prefix
2025-04-29 00:26:55,767 INFO app.services.deepgram_service MainThread : Created alternative API key with dg_ prefix for fallback
2025-04-29 00:26:55,768 INFO app.services.deepgram_service MainThread : DeepgramService initialized successfully
2025-04-29 00:26:55,769 INFO app.services.api_manager MainThread : Deepgram service initialized
2025-04-29 00:26:55,773 INFO app.system_health MainThread : Health check routes registered
2025-04-29 00:26:55,774 INFO app.extensions MainThread : Initializing extensions for app instance (id: 2417076846800)
2025-04-29 00:26:55,775 INFO app.extensions MainThread : Initializing SQLAlchemy...
2025-04-29 00:26:55,775 INFO app.extensions MainThread : SQLAlchemy already registered on this Flask app, skipping initialization
2025-04-29 00:26:55,775 INFO app.extensions MainThread : Initializing Flask-Login...
2025-04-29 00:26:55,776 INFO app.extensions MainThread : Initializing Flask-Mail...
2025-04-29 00:26:55,776 INFO app.extensions MainThread : Initializing Flask-Limiter...
2025-04-29 00:26:55,777 INFO app.extensions MainThread : Initializing OAuth...
2025-04-29 00:26:55,777 INFO app.extensions MainThread : Initializing Flask-Migrate...
2025-04-29 00:26:55,778 INFO app.extensions MainThread : Initializing Flask-Bcrypt...
2025-04-29 00:26:55,778 INFO app.extensions MainThread : Initializing Flask-SocketIO...
2025-04-29 00:26:55,778 INFO app.extensions MainThread : Debug mode detected, enabling detailed socketio logging
2025-04-29 00:26:55,782 INFO engineio.server MainThread : Server initialized for threading.
2025-04-29 00:26:55,783 INFO app.extensions MainThread : Flask-SocketIO initialized successfully
2025-04-29 00:26:55,783 INFO app.extensions MainThread : All extensions initialized successfully
2025-04-29 00:26:55,799 INFO engineio.server MainThread : Server initialized for threading.
2025-04-29 00:26:55,800 INFO app.extensions MainThread : Flask-SocketIO initialized successfully
2025-04-29 00:26:55,802 INFO app.extensions MainThread : All extensions initialized successfully
2025-04-29 00:26:56,001 INFO app.services.voice_analysis_service MainThread : Voice Analysis Service initialized.
2025-04-29 00:26:56,027 INFO app.services.voice_analysis_service MainThread : Voice Analysis Service initialized.
2025-04-29 00:26:56,051 INFO app.error_handler MainThread : Registering centralized error handlers
2025-04-29 00:26:56,052 WARNING werkzeug MainThread :  * Debugger is active!
2025-04-29 00:26:56,058 INFO werkzeug MainThread :  * Debugger PIN: 735-563-336
2025-04-29 00:26:56,065 INFO app.error_handler MainThread : Registering centralized error handlers
2025-04-29 00:26:56,067 WARNING werkzeug MainThread :  * Debugger is active!
2025-04-29 00:26:56,075 INFO werkzeug MainThread :  * Debugger PIN: 735-563-336
2025-04-29 00:33:55,242 INFO werkzeug Thread-3 (process_request_thread) : 127.0.0.1 - - [29/Apr/2025 00:33:55] "GET /api/auth/status HTTP/1.1" 200 -
2025-04-29 00:33:55,258 INFO werkzeug Thread-4 (process_request_thread) : 127.0.0.1 - - [29/Apr/2025 00:33:55] "GET /api/auth/status HTTP/1.1" 200 -
2025-04-29 00:45:06,060 INFO app MainThread : --- Logging configured (INFO to console, DEBUG to file) ---
2025-04-29 00:45:06,062 INFO app MainThread : Loaded configuration for environment: dev
2025-04-29 00:45:06,063 INFO app.database_manager MainThread : Initializing Database Manager
2025-04-29 00:45:06,089 INFO app.database_manager MainThread : Database Manager initialized successfully
2025-04-29 00:45:06,091 INFO app.services.api_manager MainThread : Initializing API Manager with all services
2025-04-29 00:45:06,093 INFO app.services.openai_service MainThread : Initializing OpenAIService with app context...
2025-04-29 00:45:06,094 INFO app.services.openai_service MainThread : Resolved OpenAI model: gpt-4.1-mini (Config: gpt-4.1-mini, Env: None, Default: gpt-4.1-mini)
2025-04-29 00:45:06,096 INFO app.services.openai_service MainThread : Resolved feedback model: gpt-4.1-mini (Config: None, Env: None, Default: gpt-4.1-mini)
2025-04-29 00:45:06,096 INFO app.services.openai_service MainThread : Operating system: Windows 10 (10.0.26100)
2025-04-29 00:45:06,103 INFO app.services.openai_service MainThread : Hostname: CasonsPC, Primary IP (gethostbyname): 10.0.0.150
2025-04-29 00:45:06,105 INFO app.services.openai_service MainThread : All IPs for hostname (getaddrinfo): ['2604:3d08:ea96:700:48ea:452c:6b57:7bd2', '10.0.0.150', '2604:3d08:ea96:700::b1cc', 'fe80::20d1:846a:12b1:1b1a', '2604:3d08:ea96:700:6b3e:d2ca:7404:71a8']
2025-04-29 00:45:06,106 INFO app.services.openai_service MainThread : Proxy environment: HTTP_PROXY=None, HTTPS_PROXY=None, NO_PROXY=None
2025-04-29 00:45:06,108 INFO app.services.openai_service MainThread : Python version: 3.11.9
2025-04-29 00:45:06,109 INFO app.services.openai_service MainThread : openai version: 1.7.0
2025-04-29 00:45:06,111 INFO app.services.openai_service MainThread : httpx version: 0.28.1
2025-04-29 00:45:06,113 INFO app.services.openai_service MainThread : certifi path: C:\Users\cason\Downloads\salestraining-ai\.venv\Lib\site-packages\certifi\cacert.pem
2025-04-29 00:45:06,114 INFO app.services.openai_service MainThread : dnspython version: 2.4.2
2025-04-29 00:45:06,636 INFO app.services.openai_service MainThread : Created default httpx.Client instance explicitly with default SSL context.
2025-04-29 00:45:06,637 INFO app.services.openai_service MainThread : OpenAI client created with custom http_client.
2025-04-29 00:45:06,638 INFO app.services.openai_service MainThread : Testing basic connectivity to api.openai.com:443...
2025-04-29 00:45:06,710 INFO app.services.openai_service MainThread : Socket connection to api.openai.com:443 successful
2025-04-29 00:45:06,711 INFO app.services.openai_service MainThread : Testing OpenAI API connection with model: gpt-4.1-mini (attempt 1/5)...
2025-04-29 00:45:07,292 INFO httpx MainThread : HTTP Request: GET https://api.openai.com/v1/models/gpt-4.1-mini "HTTP/1.1 200 OK"
2025-04-29 00:45:07,294 INFO app.services.openai_service MainThread : OpenAI API connection successful for model: gpt-4.1-mini
2025-04-29 00:45:07,295 INFO app.services.openai_service MainThread : OpenAIService initialized with client.
2025-04-29 00:45:07,296 INFO app.services.openai_service MainThread : Testing basic connectivity to api.openai.com:443...
2025-04-29 00:45:07,344 INFO app.services.openai_service MainThread : Socket connection to api.openai.com:443 successful
2025-04-29 00:45:07,346 INFO app.services.openai_service MainThread : Testing OpenAI API connection with model: gpt-4.1-mini (attempt 1/5)...
2025-04-29 00:45:07,724 INFO httpx MainThread : HTTP Request: GET https://api.openai.com/v1/models/gpt-4.1-mini "HTTP/1.1 200 OK"
2025-04-29 00:45:07,727 INFO app.services.openai_service MainThread : OpenAI API connection successful for model: gpt-4.1-mini
2025-04-29 00:45:07,729 INFO app.services.api_manager MainThread : OpenAI service initialized: True
2025-04-29 00:45:07,730 INFO app.services.eleven_labs_service MainThread : ElevenLabsService init_app called. App config type: <class 'flask.config.Config'>
2025-04-29 00:45:07,731 INFO app.services.eleven_labs_service MainThread : API Key from app.config.get('ELEVEN_LABS_API_KEY'): Exists
2025-04-29 00:45:07,732 INFO app.services.eleven_labs_service MainThread : API Key from os.environ.get('ELEVEN_LABS_API_KEY'): Exists
2025-04-29 00:45:07,733 INFO app.services.eleven_labs_service MainThread : API Key from os.environ.get('ELEVENLABS_API_KEY'): Exists
2025-04-29 00:45:07,734 INFO app.services.eleven_labs_service MainThread : ElevenLabsService initialized successfully with API key (length: 51)
2025-04-29 00:45:07,735 INFO app.services.api_manager MainThread : ElevenLabs service initialized: True
2025-04-29 00:45:07,736 INFO app.services.deepgram_service MainThread : Initializing DeepgramService with app context
2025-04-29 00:45:07,736 INFO app.services.deepgram_service MainThread : Deepgram API key format: length=40, has prefix='dg_'=False
2025-04-29 00:45:07,737 INFO app.services.deepgram_service MainThread : Detected possible legacy key format, will try both original and with dg_ prefix
2025-04-29 00:45:07,738 INFO app.services.deepgram_service MainThread : Created alternative API key with dg_ prefix for fallback
2025-04-29 00:45:07,739 INFO app.services.deepgram_service MainThread : DeepgramService initialized successfully
2025-04-29 00:45:07,740 INFO app.services.api_manager MainThread : Deepgram service initialized
2025-04-29 00:45:07,745 INFO app.system_health MainThread : Health check routes registered
2025-04-29 00:45:07,746 INFO app.extensions MainThread : Initializing extensions for app instance (id: 1469001758416)
2025-04-29 00:45:07,748 INFO app.extensions MainThread : Initializing SQLAlchemy...
2025-04-29 00:45:07,749 INFO app.extensions MainThread : SQLAlchemy already registered on this Flask app, skipping initialization
2025-04-29 00:45:07,750 INFO app.extensions MainThread : Initializing Flask-Login...
2025-04-29 00:45:07,751 INFO app.extensions MainThread : Initializing Flask-Mail...
2025-04-29 00:45:07,752 INFO app.extensions MainThread : Initializing Flask-Limiter...
2025-04-29 00:45:07,754 INFO app.extensions MainThread : Initializing OAuth...
2025-04-29 00:45:07,755 INFO app.extensions MainThread : Initializing Flask-Migrate...
2025-04-29 00:45:07,756 INFO app.extensions MainThread : Initializing Flask-Bcrypt...
2025-04-29 00:45:07,758 INFO app.extensions MainThread : Initializing Flask-SocketIO...
2025-04-29 00:45:07,759 INFO app.extensions MainThread : Debug mode detected, enabling detailed socketio logging
2025-04-29 00:45:07,803 INFO engineio.server MainThread : Server initialized for threading.
2025-04-29 00:45:07,806 INFO app.extensions MainThread : Flask-SocketIO initialized successfully
2025-04-29 00:45:07,807 INFO app.extensions MainThread : All extensions initialized successfully
2025-04-29 00:45:08,148 INFO app.services.voice_analysis_service MainThread : Voice Analysis Service initialized.
2025-04-29 00:45:08,206 INFO app.error_handler MainThread : Registering centralized error handlers
2025-04-29 00:45:08,215 INFO werkzeug MainThread : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-04-29 00:45:08,216 INFO werkzeug MainThread : [33mPress CTRL+C to quit[0m
2025-04-29 00:45:08,216 INFO werkzeug MainThread :  * Restarting with stat
2025-04-29 00:45:11,047 INFO app MainThread : --- Logging configured (INFO to console, DEBUG to file) ---
2025-04-29 00:45:11,048 INFO app MainThread : Loaded configuration for environment: dev
2025-04-29 00:45:11,049 INFO app.database_manager MainThread : Initializing Database Manager
2025-04-29 00:45:11,071 INFO app.database_manager MainThread : Database Manager initialized successfully
2025-04-29 00:45:11,072 INFO app.services.api_manager MainThread : Initializing API Manager with all services
2025-04-29 00:45:11,073 INFO app.services.openai_service MainThread : Initializing OpenAIService with app context...
2025-04-29 00:45:11,074 INFO app.services.openai_service MainThread : Resolved OpenAI model: gpt-4.1-mini (Config: gpt-4.1-mini, Env: None, Default: gpt-4.1-mini)
2025-04-29 00:45:11,075 INFO app.services.openai_service MainThread : Resolved feedback model: gpt-4.1-mini (Config: None, Env: None, Default: gpt-4.1-mini)
2025-04-29 00:45:11,076 INFO app.services.openai_service MainThread : Operating system: Windows 10 (10.0.26100)
2025-04-29 00:45:11,085 INFO app.services.openai_service MainThread : Hostname: CasonsPC, Primary IP (gethostbyname): 10.0.0.150
2025-04-29 00:45:11,088 INFO app.services.openai_service MainThread : All IPs for hostname (getaddrinfo): ['10.0.0.150', '2604:3d08:ea96:700:48ea:452c:6b57:7bd2', '2604:3d08:ea96:700:6b3e:d2ca:7404:71a8', 'fe80::20d1:846a:12b1:1b1a', '2604:3d08:ea96:700::b1cc']
2025-04-29 00:45:11,090 INFO app.services.openai_service MainThread : Proxy environment: HTTP_PROXY=None, HTTPS_PROXY=None, NO_PROXY=None
2025-04-29 00:45:11,091 INFO app.services.openai_service MainThread : Python version: 3.11.9
2025-04-29 00:45:11,092 INFO app.services.openai_service MainThread : openai version: 1.7.0
2025-04-29 00:45:11,093 INFO app.services.openai_service MainThread : httpx version: 0.28.1
2025-04-29 00:45:11,094 INFO app.services.openai_service MainThread : certifi path: C:\Users\cason\Downloads\salestraining-ai\.venv\Lib\site-packages\certifi\cacert.pem
2025-04-29 00:45:11,095 INFO app.services.openai_service MainThread : dnspython version: 2.4.2
2025-04-29 00:45:11,625 INFO app.services.openai_service MainThread : Created default httpx.Client instance explicitly with default SSL context.
2025-04-29 00:45:11,627 INFO app.services.openai_service MainThread : OpenAI client created with custom http_client.
2025-04-29 00:45:11,628 INFO app.services.openai_service MainThread : Testing basic connectivity to api.openai.com:443...
2025-04-29 00:45:11,678 INFO app.services.openai_service MainThread : Socket connection to api.openai.com:443 successful
2025-04-29 00:45:11,679 INFO app.services.openai_service MainThread : Testing OpenAI API connection with model: gpt-4.1-mini (attempt 1/5)...
2025-04-29 00:45:12,309 INFO httpx MainThread : HTTP Request: GET https://api.openai.com/v1/models/gpt-4.1-mini "HTTP/1.1 200 OK"
2025-04-29 00:45:12,312 INFO app.services.openai_service MainThread : OpenAI API connection successful for model: gpt-4.1-mini
2025-04-29 00:45:12,313 INFO app.services.openai_service MainThread : OpenAIService initialized with client.
2025-04-29 00:45:12,314 INFO app.services.openai_service MainThread : Testing basic connectivity to api.openai.com:443...
2025-04-29 00:45:12,361 INFO app.services.openai_service MainThread : Socket connection to api.openai.com:443 successful
2025-04-29 00:45:12,363 INFO app.services.openai_service MainThread : Testing OpenAI API connection with model: gpt-4.1-mini (attempt 1/5)...
2025-04-29 00:45:12,864 INFO httpx MainThread : HTTP Request: GET https://api.openai.com/v1/models/gpt-4.1-mini "HTTP/1.1 200 OK"
2025-04-29 00:45:12,867 INFO app.services.openai_service MainThread : OpenAI API connection successful for model: gpt-4.1-mini
2025-04-29 00:45:12,869 INFO app.services.api_manager MainThread : OpenAI service initialized: True
2025-04-29 00:45:12,870 INFO app.services.eleven_labs_service MainThread : ElevenLabsService init_app called. App config type: <class 'flask.config.Config'>
2025-04-29 00:45:12,871 INFO app.services.eleven_labs_service MainThread : API Key from app.config.get('ELEVEN_LABS_API_KEY'): Exists
2025-04-29 00:45:12,872 INFO app.services.eleven_labs_service MainThread : API Key from os.environ.get('ELEVEN_LABS_API_KEY'): Exists
2025-04-29 00:45:12,873 INFO app.services.eleven_labs_service MainThread : API Key from os.environ.get('ELEVENLABS_API_KEY'): Exists
2025-04-29 00:45:12,874 INFO app.services.eleven_labs_service MainThread : ElevenLabsService initialized successfully with API key (length: 51)
2025-04-29 00:45:12,875 INFO app.services.api_manager MainThread : ElevenLabs service initialized: True
2025-04-29 00:45:12,876 INFO app.services.deepgram_service MainThread : Initializing DeepgramService with app context
2025-04-29 00:45:12,878 INFO app.services.deepgram_service MainThread : Deepgram API key format: length=40, has prefix='dg_'=False
2025-04-29 00:45:12,878 INFO app.services.deepgram_service MainThread : Detected possible legacy key format, will try both original and with dg_ prefix
2025-04-29 00:45:12,880 INFO app.services.deepgram_service MainThread : Created alternative API key with dg_ prefix for fallback
2025-04-29 00:45:12,881 INFO app.services.deepgram_service MainThread : DeepgramService initialized successfully
2025-04-29 00:45:12,882 INFO app.services.api_manager MainThread : Deepgram service initialized
2025-04-29 00:45:12,886 INFO app.system_health MainThread : Health check routes registered
2025-04-29 00:45:12,888 INFO app.extensions MainThread : Initializing extensions for app instance (id: 2369227812368)
2025-04-29 00:45:12,889 INFO app.extensions MainThread : Initializing SQLAlchemy...
2025-04-29 00:45:12,890 INFO app.extensions MainThread : SQLAlchemy already registered on this Flask app, skipping initialization
2025-04-29 00:45:12,891 INFO app.extensions MainThread : Initializing Flask-Login...
2025-04-29 00:45:12,893 INFO app.extensions MainThread : Initializing Flask-Mail...
2025-04-29 00:45:12,894 INFO app.extensions MainThread : Initializing Flask-Limiter...
2025-04-29 00:45:12,897 INFO app.extensions MainThread : Initializing OAuth...
2025-04-29 00:45:12,899 INFO app.extensions MainThread : Initializing Flask-Migrate...
2025-04-29 00:45:12,900 INFO app.extensions MainThread : Initializing Flask-Bcrypt...
2025-04-29 00:45:12,903 INFO app.extensions MainThread : Initializing Flask-SocketIO...
2025-04-29 00:45:12,904 INFO app.extensions MainThread : Debug mode detected, enabling detailed socketio logging
2025-04-29 00:45:12,953 INFO engineio.server MainThread : Server initialized for threading.
2025-04-29 00:45:12,956 INFO app.extensions MainThread : Flask-SocketIO initialized successfully
2025-04-29 00:45:12,957 INFO app.extensions MainThread : All extensions initialized successfully
2025-04-29 00:45:13,241 INFO app.services.voice_analysis_service MainThread : Voice Analysis Service initialized.
2025-04-29 00:45:13,298 INFO app.error_handler MainThread : Registering centralized error handlers
2025-04-29 00:45:13,302 WARNING werkzeug MainThread :  * Debugger is active!
2025-04-29 00:45:13,316 INFO werkzeug MainThread :  * Debugger PIN: 735-563-336
2025-04-29 00:46:01,039 CRITICAL app.chat.routes Thread-5 (process_request_thread) : --- CRITICAL: ENTERED SIMPLIFIED api_chat_endpoint ---
2025-04-29 00:46:01,045 INFO werkzeug Thread-5 (process_request_thread) : 127.0.0.1 - - [29/Apr/2025 00:46:01] "POST /chat/api/chat HTTP/1.1" 200 -
2025-04-29 00:48:46,462 INFO werkzeug MainThread :  * Detected change in 'C:\\Users\\cason\\Downloads\\salestraining-ai\\app\\chat\\routes.py', reloading
2025-04-29 00:48:46,989 INFO werkzeug MainThread :  * Restarting with stat
2025-04-29 00:48:47,698 INFO werkzeug MainThread :  * Detected change in 'C:\\Users\\cason\\Downloads\\salestraining-ai\\app\\chat\\routes.py', reloading
2025-04-29 00:48:50,083 INFO app MainThread : --- Logging configured (INFO to console, DEBUG to file) ---
2025-04-29 00:48:50,084 INFO app MainThread : Loaded configuration for environment: dev
2025-04-29 00:48:50,086 INFO app.database_manager MainThread : Initializing Database Manager
2025-04-29 00:48:50,112 INFO app.database_manager MainThread : Database Manager initialized successfully
2025-04-29 00:48:50,113 INFO app.services.api_manager MainThread : Initializing API Manager with all services
2025-04-29 00:48:50,114 INFO app.services.openai_service MainThread : Initializing OpenAIService with app context...
2025-04-29 00:48:50,116 INFO app.services.openai_service MainThread : Resolved OpenAI model: gpt-4.1-mini (Config: gpt-4.1-mini, Env: None, Default: gpt-4.1-mini)
2025-04-29 00:48:50,117 INFO app.services.openai_service MainThread : Resolved feedback model: gpt-4.1-mini (Config: None, Env: None, Default: gpt-4.1-mini)
2025-04-29 00:48:50,118 INFO app.services.openai_service MainThread : Operating system: Windows 10 (10.0.26100)
2025-04-29 00:48:50,124 INFO app.services.openai_service MainThread : Hostname: CasonsPC, Primary IP (gethostbyname): 10.0.0.150
2025-04-29 00:48:50,125 INFO app.services.openai_service MainThread : All IPs for hostname (getaddrinfo): ['2604:3d08:ea96:700:48ea:452c:6b57:7bd2', 'fe80::20d1:846a:12b1:1b1a', '10.0.0.150', '2604:3d08:ea96:700::b1cc', '2604:3d08:ea96:700:6b3e:d2ca:7404:71a8']
2025-04-29 00:48:50,126 INFO app.services.openai_service MainThread : Proxy environment: HTTP_PROXY=None, HTTPS_PROXY=None, NO_PROXY=None
2025-04-29 00:48:50,128 INFO app.services.openai_service MainThread : Python version: 3.11.9
2025-04-29 00:48:50,128 INFO app.services.openai_service MainThread : openai version: 1.7.0
2025-04-29 00:48:50,129 INFO app.services.openai_service MainThread : httpx version: 0.28.1
2025-04-29 00:48:50,130 INFO app.services.openai_service MainThread : certifi path: C:\Users\cason\Downloads\salestraining-ai\.venv\Lib\site-packages\certifi\cacert.pem
2025-04-29 00:48:50,131 INFO app.services.openai_service MainThread : dnspython version: 2.4.2
2025-04-29 00:48:50,775 INFO app.services.openai_service MainThread : Created default httpx.Client instance explicitly with default SSL context.
2025-04-29 00:48:50,776 INFO app.services.openai_service MainThread : OpenAI client created with custom http_client.
2025-04-29 00:48:50,777 INFO app.services.openai_service MainThread : Testing basic connectivity to api.openai.com:443...
2025-04-29 00:48:50,879 INFO app.services.openai_service MainThread : Socket connection to api.openai.com:443 successful
2025-04-29 00:48:50,881 INFO app.services.openai_service MainThread : Testing OpenAI API connection with model: gpt-4.1-mini (attempt 1/5)...
2025-04-29 00:48:51,314 INFO app MainThread : --- Logging configured (INFO to console, DEBUG to file) ---
2025-04-29 00:48:51,315 INFO app MainThread : Loaded configuration for environment: dev
2025-04-29 00:48:51,317 INFO app.database_manager MainThread : Initializing Database Manager
2025-04-29 00:48:51,340 INFO app.database_manager MainThread : Database Manager initialized successfully
2025-04-29 00:48:51,341 INFO app.services.api_manager MainThread : Initializing API Manager with all services
2025-04-29 00:48:51,342 INFO app.services.openai_service MainThread : Initializing OpenAIService with app context...
2025-04-29 00:48:51,342 INFO app.services.openai_service MainThread : Resolved OpenAI model: gpt-4.1-mini (Config: gpt-4.1-mini, Env: None, Default: gpt-4.1-mini)
2025-04-29 00:48:51,343 INFO app.services.openai_service MainThread : Resolved feedback model: gpt-4.1-mini (Config: None, Env: None, Default: gpt-4.1-mini)
2025-04-29 00:48:51,344 INFO app.services.openai_service MainThread : Operating system: Windows 10 (10.0.26100)
2025-04-29 00:48:51,351 INFO app.services.openai_service MainThread : Hostname: CasonsPC, Primary IP (gethostbyname): 10.0.0.150
2025-04-29 00:48:51,353 INFO app.services.openai_service MainThread : All IPs for hostname (getaddrinfo): ['fe80::20d1:846a:12b1:1b1a', '2604:3d08:ea96:700::b1cc', '10.0.0.150', '2604:3d08:ea96:700:48ea:452c:6b57:7bd2', '2604:3d08:ea96:700:6b3e:d2ca:7404:71a8']
2025-04-29 00:48:51,354 INFO app.services.openai_service MainThread : Proxy environment: HTTP_PROXY=None, HTTPS_PROXY=None, NO_PROXY=None
2025-04-29 00:48:51,355 INFO app.services.openai_service MainThread : Python version: 3.11.9
2025-04-29 00:48:51,356 INFO app.services.openai_service MainThread : openai version: 1.7.0
2025-04-29 00:48:51,357 INFO app.services.openai_service MainThread : httpx version: 0.28.1
2025-04-29 00:48:51,357 INFO app.services.openai_service MainThread : certifi path: C:\Users\cason\Downloads\salestraining-ai\.venv\Lib\site-packages\certifi\cacert.pem
2025-04-29 00:48:51,358 INFO app.services.openai_service MainThread : dnspython version: 2.4.2
2025-04-29 00:48:51,554 INFO httpx MainThread : HTTP Request: GET https://api.openai.com/v1/models/gpt-4.1-mini "HTTP/1.1 200 OK"
2025-04-29 00:48:51,557 INFO app.services.openai_service MainThread : OpenAI API connection successful for model: gpt-4.1-mini
2025-04-29 00:48:51,557 INFO app.services.openai_service MainThread : OpenAIService initialized with client.
2025-04-29 00:48:51,558 INFO app.services.openai_service MainThread : Testing basic connectivity to api.openai.com:443...
2025-04-29 00:48:51,606 INFO app.services.openai_service MainThread : Socket connection to api.openai.com:443 successful
2025-04-29 00:48:51,607 INFO app.services.openai_service MainThread : Testing OpenAI API connection with model: gpt-4.1-mini (attempt 1/5)...
2025-04-29 00:48:51,945 INFO app.services.openai_service MainThread : Created default httpx.Client instance explicitly with default SSL context.
2025-04-29 00:48:51,947 INFO app.services.openai_service MainThread : OpenAI client created with custom http_client.
2025-04-29 00:48:51,949 INFO app.services.openai_service MainThread : Testing basic connectivity to api.openai.com:443...
2025-04-29 00:48:51,963 INFO httpx MainThread : HTTP Request: GET https://api.openai.com/v1/models/gpt-4.1-mini "HTTP/1.1 200 OK"
2025-04-29 00:48:51,965 INFO app.services.openai_service MainThread : OpenAI API connection successful for model: gpt-4.1-mini
2025-04-29 00:48:51,966 INFO app.services.api_manager MainThread : OpenAI service initialized: True
2025-04-29 00:48:51,967 INFO app.services.eleven_labs_service MainThread : ElevenLabsService init_app called. App config type: <class 'flask.config.Config'>
2025-04-29 00:48:51,968 INFO app.services.eleven_labs_service MainThread : API Key from app.config.get('ELEVEN_LABS_API_KEY'): Exists
2025-04-29 00:48:51,969 INFO app.services.eleven_labs_service MainThread : API Key from os.environ.get('ELEVEN_LABS_API_KEY'): Exists
2025-04-29 00:48:51,969 INFO app.services.eleven_labs_service MainThread : API Key from os.environ.get('ELEVENLABS_API_KEY'): Exists
2025-04-29 00:48:51,970 INFO app.services.eleven_labs_service MainThread : ElevenLabsService initialized successfully with API key (length: 51)
2025-04-29 00:48:51,971 INFO app.services.api_manager MainThread : ElevenLabs service initialized: True
2025-04-29 00:48:51,972 INFO app.services.deepgram_service MainThread : Initializing DeepgramService with app context
2025-04-29 00:48:51,973 INFO app.services.deepgram_service MainThread : Deepgram API key format: length=40, has prefix='dg_'=False
2025-04-29 00:48:51,974 INFO app.services.deepgram_service MainThread : Detected possible legacy key format, will try both original and with dg_ prefix
2025-04-29 00:48:51,975 INFO app.services.deepgram_service MainThread : Created alternative API key with dg_ prefix for fallback
2025-04-29 00:48:51,976 INFO app.services.deepgram_service MainThread : DeepgramService initialized successfully
2025-04-29 00:48:51,977 INFO app.services.api_manager MainThread : Deepgram service initialized
2025-04-29 00:48:51,979 INFO app.system_health MainThread : Health check routes registered
2025-04-29 00:48:51,980 INFO app.extensions MainThread : Initializing extensions for app instance (id: 1869473955728)
2025-04-29 00:48:51,981 INFO app.extensions MainThread : Initializing SQLAlchemy...
2025-04-29 00:48:51,982 INFO app.extensions MainThread : SQLAlchemy already registered on this Flask app, skipping initialization
2025-04-29 00:48:51,984 INFO app.extensions MainThread : Initializing Flask-Login...
2025-04-29 00:48:51,984 INFO app.extensions MainThread : Initializing Flask-Mail...
2025-04-29 00:48:51,986 INFO app.extensions MainThread : Initializing Flask-Limiter...
2025-04-29 00:48:51,987 INFO app.extensions MainThread : Initializing OAuth...
2025-04-29 00:48:51,987 INFO app.extensions MainThread : Initializing Flask-Migrate...
2025-04-29 00:48:51,988 INFO app.extensions MainThread : Initializing Flask-Bcrypt...
2025-04-29 00:48:51,989 INFO app.extensions MainThread : Initializing Flask-SocketIO...
2025-04-29 00:48:51,991 INFO app.extensions MainThread : Debug mode detected, enabling detailed socketio logging
2025-04-29 00:48:52,009 INFO app.services.openai_service MainThread : Socket connection to api.openai.com:443 successful
2025-04-29 00:48:52,010 INFO app.services.openai_service MainThread : Testing OpenAI API connection with model: gpt-4.1-mini (attempt 1/5)...
2025-04-29 00:48:52,027 INFO engineio.server MainThread : Server initialized for threading.
2025-04-29 00:48:52,030 INFO app.extensions MainThread : Flask-SocketIO initialized successfully
2025-04-29 00:48:52,031 INFO app.extensions MainThread : All extensions initialized successfully
2025-04-29 00:48:52,284 INFO app.services.voice_analysis_service MainThread : Voice Analysis Service initialized.
2025-04-29 00:48:52,368 INFO app.error_handler MainThread : Registering centralized error handlers
2025-04-29 00:48:52,371 WARNING werkzeug MainThread :  * Debugger is active!
2025-04-29 00:48:52,380 INFO httpx MainThread : HTTP Request: GET https://api.openai.com/v1/models/gpt-4.1-mini "HTTP/1.1 200 OK"
2025-04-29 00:48:52,386 INFO app.services.openai_service MainThread : OpenAI API connection successful for model: gpt-4.1-mini
2025-04-29 00:48:52,388 INFO app.services.openai_service MainThread : OpenAIService initialized with client.
2025-04-29 00:48:52,390 INFO app.services.openai_service MainThread : Testing basic connectivity to api.openai.com:443...
2025-04-29 00:48:52,392 INFO werkzeug MainThread :  * Debugger PIN: 735-563-336
2025-04-29 00:48:52,418 INFO app.services.openai_service MainThread : Socket connection to api.openai.com:443 successful
2025-04-29 00:48:52,420 INFO app.services.openai_service MainThread : Testing OpenAI API connection with model: gpt-4.1-mini (attempt 1/5)...
2025-04-29 00:48:52,855 INFO httpx MainThread : HTTP Request: GET https://api.openai.com/v1/models/gpt-4.1-mini "HTTP/1.1 200 OK"
2025-04-29 00:48:52,857 INFO app.services.openai_service MainThread : OpenAI API connection successful for model: gpt-4.1-mini
2025-04-29 00:48:52,858 INFO app.services.api_manager MainThread : OpenAI service initialized: True
2025-04-29 00:48:52,859 INFO app.services.eleven_labs_service MainThread : ElevenLabsService init_app called. App config type: <class 'flask.config.Config'>
2025-04-29 00:48:52,861 INFO app.services.eleven_labs_service MainThread : API Key from app.config.get('ELEVEN_LABS_API_KEY'): Exists
2025-04-29 00:48:52,862 INFO app.services.eleven_labs_service MainThread : API Key from os.environ.get('ELEVEN_LABS_API_KEY'): Exists
2025-04-29 00:48:52,863 INFO app.services.eleven_labs_service MainThread : API Key from os.environ.get('ELEVENLABS_API_KEY'): Exists
2025-04-29 00:48:52,864 INFO app.services.eleven_labs_service MainThread : ElevenLabsService initialized successfully with API key (length: 51)
2025-04-29 00:48:52,866 INFO app.services.api_manager MainThread : ElevenLabs service initialized: True
2025-04-29 00:48:52,867 INFO app.services.deepgram_service MainThread : Initializing DeepgramService with app context
2025-04-29 00:48:52,868 INFO app.services.deepgram_service MainThread : Deepgram API key format: length=40, has prefix='dg_'=False
2025-04-29 00:48:52,869 INFO app.services.deepgram_service MainThread : Detected possible legacy key format, will try both original and with dg_ prefix
2025-04-29 00:48:52,870 INFO app.services.deepgram_service MainThread : Created alternative API key with dg_ prefix for fallback
2025-04-29 00:48:52,872 INFO app.services.deepgram_service MainThread : DeepgramService initialized successfully
2025-04-29 00:48:52,873 INFO app.services.api_manager MainThread : Deepgram service initialized
2025-04-29 00:48:52,876 INFO app.system_health MainThread : Health check routes registered
2025-04-29 00:48:52,877 INFO app.extensions MainThread : Initializing extensions for app instance (id: 2173557617616)
2025-04-29 00:48:52,878 INFO app.extensions MainThread : Initializing SQLAlchemy...
2025-04-29 00:48:52,879 INFO app.extensions MainThread : SQLAlchemy already registered on this Flask app, skipping initialization
2025-04-29 00:48:52,880 INFO app.extensions MainThread : Initializing Flask-Login...
2025-04-29 00:48:52,881 INFO app.extensions MainThread : Initializing Flask-Mail...
2025-04-29 00:48:52,881 INFO app.extensions MainThread : Initializing Flask-Limiter...
2025-04-29 00:48:52,882 INFO app.extensions MainThread : Initializing OAuth...
2025-04-29 00:48:52,884 INFO app.extensions MainThread : Initializing Flask-Migrate...
2025-04-29 00:48:52,885 INFO app.extensions MainThread : Initializing Flask-Bcrypt...
2025-04-29 00:48:52,886 INFO app.extensions MainThread : Initializing Flask-SocketIO...
2025-04-29 00:48:52,887 INFO app.extensions MainThread : Debug mode detected, enabling detailed socketio logging
2025-04-29 00:48:52,925 INFO engineio.server MainThread : Server initialized for threading.
2025-04-29 00:48:52,926 INFO app.extensions MainThread : Flask-SocketIO initialized successfully
2025-04-29 00:48:52,927 INFO app.extensions MainThread : All extensions initialized successfully
2025-04-29 00:48:53,195 INFO app.services.voice_analysis_service MainThread : Voice Analysis Service initialized.
2025-04-29 00:48:53,254 INFO app.error_handler MainThread : Registering centralized error handlers
2025-04-29 00:48:53,256 WARNING werkzeug MainThread :  * Debugger is active!
2025-04-29 00:48:53,268 INFO werkzeug MainThread :  * Debugger PIN: 735-563-336
2025-04-29 00:50:15,376 INFO app MainThread : --- Logging configured (INFO to console, DEBUG to file) ---
2025-04-29 00:50:15,377 INFO app MainThread : Loaded configuration for environment: dev
2025-04-29 00:50:15,379 INFO app.database_manager MainThread : Initializing Database Manager
2025-04-29 00:50:15,413 INFO app.database_manager MainThread : Database Manager initialized successfully
2025-04-29 00:50:15,415 INFO app.services.api_manager MainThread : Initializing API Manager with all services
2025-04-29 00:50:15,417 INFO app.services.openai_service MainThread : Initializing OpenAIService with app context...
2025-04-29 00:50:15,418 INFO app.services.openai_service MainThread : Resolved OpenAI model: gpt-4.1-mini (Config: gpt-4.1-mini, Env: None, Default: gpt-4.1-mini)
2025-04-29 00:50:15,420 INFO app.services.openai_service MainThread : Resolved feedback model: gpt-4.1-mini (Config: None, Env: None, Default: gpt-4.1-mini)
2025-04-29 00:50:15,422 INFO app.services.openai_service MainThread : Operating system: Windows 10 (10.0.26100)
2025-04-29 00:50:15,434 INFO app.services.openai_service MainThread : Hostname: CasonsPC, Primary IP (gethostbyname): 10.0.0.150
2025-04-29 00:50:15,435 INFO app.services.openai_service MainThread : All IPs for hostname (getaddrinfo): ['2604:3d08:ea96:700::b1cc', '10.0.0.150', '2604:3d08:ea96:700:48ea:452c:6b57:7bd2', 'fe80::20d1:846a:12b1:1b1a', '2604:3d08:ea96:700:6b3e:d2ca:7404:71a8']
2025-04-29 00:50:15,437 INFO app.services.openai_service MainThread : Proxy environment: HTTP_PROXY=None, HTTPS_PROXY=None, NO_PROXY=None
2025-04-29 00:50:15,438 INFO app.services.openai_service MainThread : Python version: 3.11.9
2025-04-29 00:50:15,439 INFO app.services.openai_service MainThread : openai version: 1.7.0
2025-04-29 00:50:15,439 INFO app.services.openai_service MainThread : httpx version: 0.28.1
2025-04-29 00:50:15,440 INFO app.services.openai_service MainThread : certifi path: C:\Users\cason\Downloads\salestraining-ai\.venv\Lib\site-packages\certifi\cacert.pem
2025-04-29 00:50:15,442 INFO app.services.openai_service MainThread : dnspython version: 2.4.2
2025-04-29 00:50:16,080 INFO app.services.openai_service MainThread : Created default httpx.Client instance explicitly with default SSL context.
2025-04-29 00:50:16,083 INFO app.services.openai_service MainThread : OpenAI client created with custom http_client.
2025-04-29 00:50:16,084 INFO app.services.openai_service MainThread : Testing basic connectivity to api.openai.com:443...
2025-04-29 00:50:16,155 INFO app.services.openai_service MainThread : Socket connection to api.openai.com:443 successful
2025-04-29 00:50:16,157 INFO app.services.openai_service MainThread : Testing OpenAI API connection with model: gpt-4.1-mini (attempt 1/5)...
2025-04-29 00:50:16,804 INFO httpx MainThread : HTTP Request: GET https://api.openai.com/v1/models/gpt-4.1-mini "HTTP/1.1 200 OK"
2025-04-29 00:50:16,809 INFO app.services.openai_service MainThread : OpenAI API connection successful for model: gpt-4.1-mini
2025-04-29 00:50:16,811 INFO app.services.openai_service MainThread : OpenAIService initialized with client.
2025-04-29 00:50:16,812 INFO app.services.openai_service MainThread : Testing basic connectivity to api.openai.com:443...
2025-04-29 00:50:16,849 INFO app.services.openai_service MainThread : Socket connection to api.openai.com:443 successful
2025-04-29 00:50:16,851 INFO app.services.openai_service MainThread : Testing OpenAI API connection with model: gpt-4.1-mini (attempt 1/5)...
2025-04-29 00:50:17,065 INFO httpx MainThread : HTTP Request: GET https://api.openai.com/v1/models/gpt-4.1-mini "HTTP/1.1 200 OK"
2025-04-29 00:50:17,067 INFO app.services.openai_service MainThread : OpenAI API connection successful for model: gpt-4.1-mini
2025-04-29 00:50:17,068 INFO app.services.api_manager MainThread : OpenAI service initialized: True
2025-04-29 00:50:17,070 INFO app.services.eleven_labs_service MainThread : ElevenLabsService init_app called. App config type: <class 'flask.config.Config'>
2025-04-29 00:50:17,070 INFO app.services.eleven_labs_service MainThread : API Key from app.config.get('ELEVEN_LABS_API_KEY'): Exists
2025-04-29 00:50:17,073 INFO app.services.eleven_labs_service MainThread : API Key from os.environ.get('ELEVEN_LABS_API_KEY'): Exists
2025-04-29 00:50:17,075 INFO app.services.eleven_labs_service MainThread : API Key from os.environ.get('ELEVENLABS_API_KEY'): Exists
2025-04-29 00:50:17,076 INFO app.services.eleven_labs_service MainThread : ElevenLabsService initialized successfully with API key (length: 51)
2025-04-29 00:50:17,078 INFO app.services.api_manager MainThread : ElevenLabs service initialized: True
2025-04-29 00:50:17,079 INFO app.services.deepgram_service MainThread : Initializing DeepgramService with app context
2025-04-29 00:50:17,080 INFO app.services.deepgram_service MainThread : Deepgram API key format: length=40, has prefix='dg_'=False
2025-04-29 00:50:17,082 INFO app.services.deepgram_service MainThread : Detected possible legacy key format, will try both original and with dg_ prefix
2025-04-29 00:50:17,084 INFO app.services.deepgram_service MainThread : Created alternative API key with dg_ prefix for fallback
2025-04-29 00:50:17,085 INFO app.services.deepgram_service MainThread : DeepgramService initialized successfully
2025-04-29 00:50:17,086 INFO app.services.api_manager MainThread : Deepgram service initialized
2025-04-29 00:50:17,091 INFO app.system_health MainThread : Health check routes registered
2025-04-29 00:50:17,093 INFO app.extensions MainThread : Initializing extensions for app instance (id: 2304342170128)
2025-04-29 00:50:17,095 INFO app.extensions MainThread : Initializing SQLAlchemy...
2025-04-29 00:50:17,096 INFO app.extensions MainThread : SQLAlchemy already registered on this Flask app, skipping initialization
2025-04-29 00:50:17,097 INFO app.extensions MainThread : Initializing Flask-Login...
2025-04-29 00:50:17,100 INFO app.extensions MainThread : Initializing Flask-Mail...
2025-04-29 00:50:17,101 INFO app.extensions MainThread : Initializing Flask-Limiter...
2025-04-29 00:50:17,104 INFO app.extensions MainThread : Initializing OAuth...
2025-04-29 00:50:17,106 INFO app.extensions MainThread : Initializing Flask-Migrate...
2025-04-29 00:50:17,109 INFO app.extensions MainThread : Initializing Flask-Bcrypt...
2025-04-29 00:50:17,112 INFO app.extensions MainThread : Initializing Flask-SocketIO...
2025-04-29 00:50:17,114 INFO app.extensions MainThread : Debug mode detected, enabling detailed socketio logging
2025-04-29 00:50:17,182 INFO engineio.server MainThread : Server initialized for threading.
2025-04-29 00:50:17,185 INFO app.extensions MainThread : Flask-SocketIO initialized successfully
2025-04-29 00:50:17,186 INFO app.extensions MainThread : All extensions initialized successfully
2025-04-29 00:50:17,705 INFO app.services.voice_analysis_service MainThread : Voice Analysis Service initialized.
2025-04-29 00:50:17,850 INFO app.error_handler MainThread : Registering centralized error handlers
2025-04-29 00:50:17,874 INFO werkzeug MainThread : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-04-29 00:50:17,878 INFO werkzeug MainThread : [33mPress CTRL+C to quit[0m
2025-04-29 00:50:17,881 INFO werkzeug MainThread :  * Restarting with stat
2025-04-29 00:50:21,982 INFO werkzeug Thread-4 (process_request_thread) : 127.0.0.1 - - [29/Apr/2025 00:50:21] "GET /api/auth/status HTTP/1.1" 200 -
2025-04-29 00:50:21,983 INFO werkzeug Thread-3 (process_request_thread) : 127.0.0.1 - - [29/Apr/2025 00:50:21] "GET /api/auth/status HTTP/1.1" 200 -
2025-04-29 00:50:22,262 INFO app MainThread : --- Logging configured (INFO to console, DEBUG to file) ---
2025-04-29 00:50:22,263 INFO app MainThread : Loaded configuration for environment: dev
2025-04-29 00:50:22,264 INFO app.database_manager MainThread : Initializing Database Manager
2025-04-29 00:50:22,287 INFO app.database_manager MainThread : Database Manager initialized successfully
2025-04-29 00:50:22,288 INFO app.services.api_manager MainThread : Initializing API Manager with all services
2025-04-29 00:50:22,289 INFO app.services.openai_service MainThread : Initializing OpenAIService with app context...
2025-04-29 00:50:22,290 INFO app.services.openai_service MainThread : Resolved OpenAI model: gpt-4.1-mini (Config: gpt-4.1-mini, Env: None, Default: gpt-4.1-mini)
2025-04-29 00:50:22,290 INFO app.services.openai_service MainThread : Resolved feedback model: gpt-4.1-mini (Config: None, Env: None, Default: gpt-4.1-mini)
2025-04-29 00:50:22,291 INFO app.services.openai_service MainThread : Operating system: Windows 10 (10.0.26100)
2025-04-29 00:50:22,297 INFO app.services.openai_service MainThread : Hostname: CasonsPC, Primary IP (gethostbyname): 10.0.0.150
2025-04-29 00:50:22,298 INFO app.services.openai_service MainThread : All IPs for hostname (getaddrinfo): ['2604:3d08:ea96:700:48ea:452c:6b57:7bd2', 'fe80::20d1:846a:12b1:1b1a', '10.0.0.150', '2604:3d08:ea96:700:6b3e:d2ca:7404:71a8', '2604:3d08:ea96:700::b1cc']
2025-04-29 00:50:22,299 INFO app.services.openai_service MainThread : Proxy environment: HTTP_PROXY=None, HTTPS_PROXY=None, NO_PROXY=None
2025-04-29 00:50:22,300 INFO app.services.openai_service MainThread : Python version: 3.11.9
2025-04-29 00:50:22,301 INFO app.services.openai_service MainThread : openai version: 1.7.0
2025-04-29 00:50:22,301 INFO app.services.openai_service MainThread : httpx version: 0.28.1
2025-04-29 00:50:22,302 INFO app.services.openai_service MainThread : certifi path: C:\Users\cason\Downloads\salestraining-ai\.venv\Lib\site-packages\certifi\cacert.pem
2025-04-29 00:50:22,303 INFO app.services.openai_service MainThread : dnspython version: 2.4.2
2025-04-29 00:50:22,922 INFO app.services.openai_service MainThread : Created default httpx.Client instance explicitly with default SSL context.
2025-04-29 00:50:22,924 INFO app.services.openai_service MainThread : OpenAI client created with custom http_client.
2025-04-29 00:50:22,925 INFO app.services.openai_service MainThread : Testing basic connectivity to api.openai.com:443...
2025-04-29 00:50:22,974 INFO app.services.openai_service MainThread : Socket connection to api.openai.com:443 successful
2025-04-29 00:50:22,975 INFO app.services.openai_service MainThread : Testing OpenAI API connection with model: gpt-4.1-mini (attempt 1/5)...
2025-04-29 00:50:23,619 INFO httpx MainThread : HTTP Request: GET https://api.openai.com/v1/models/gpt-4.1-mini "HTTP/1.1 200 OK"
2025-04-29 00:50:23,621 INFO app.services.openai_service MainThread : OpenAI API connection successful for model: gpt-4.1-mini
2025-04-29 00:50:23,622 INFO app.services.openai_service MainThread : OpenAIService initialized with client.
2025-04-29 00:50:23,623 INFO app.services.openai_service MainThread : Testing basic connectivity to api.openai.com:443...
2025-04-29 00:50:23,669 INFO app.services.openai_service MainThread : Socket connection to api.openai.com:443 successful
2025-04-29 00:50:23,671 INFO app.services.openai_service MainThread : Testing OpenAI API connection with model: gpt-4.1-mini (attempt 1/5)...
2025-04-29 00:50:24,210 INFO httpx MainThread : HTTP Request: GET https://api.openai.com/v1/models/gpt-4.1-mini "HTTP/1.1 200 OK"
2025-04-29 00:50:24,214 INFO app.services.openai_service MainThread : OpenAI API connection successful for model: gpt-4.1-mini
2025-04-29 00:50:24,215 INFO app.services.api_manager MainThread : OpenAI service initialized: True
2025-04-29 00:50:24,217 INFO app.services.eleven_labs_service MainThread : ElevenLabsService init_app called. App config type: <class 'flask.config.Config'>
2025-04-29 00:50:24,219 INFO app.services.eleven_labs_service MainThread : API Key from app.config.get('ELEVEN_LABS_API_KEY'): Exists
2025-04-29 00:50:24,221 INFO app.services.eleven_labs_service MainThread : API Key from os.environ.get('ELEVEN_LABS_API_KEY'): Exists
2025-04-29 00:50:24,223 INFO app.services.eleven_labs_service MainThread : API Key from os.environ.get('ELEVENLABS_API_KEY'): Exists
2025-04-29 00:50:24,225 INFO app.services.eleven_labs_service MainThread : ElevenLabsService initialized successfully with API key (length: 51)
2025-04-29 00:50:24,226 INFO app.services.api_manager MainThread : ElevenLabs service initialized: True
2025-04-29 00:50:24,229 INFO app.services.deepgram_service MainThread : Initializing DeepgramService with app context
2025-04-29 00:50:24,231 INFO app.services.deepgram_service MainThread : Deepgram API key format: length=40, has prefix='dg_'=False
2025-04-29 00:50:24,233 INFO app.services.deepgram_service MainThread : Detected possible legacy key format, will try both original and with dg_ prefix
2025-04-29 00:50:24,236 INFO app.services.deepgram_service MainThread : Created alternative API key with dg_ prefix for fallback
2025-04-29 00:50:24,237 INFO app.services.deepgram_service MainThread : DeepgramService initialized successfully
2025-04-29 00:50:24,239 INFO app.services.api_manager MainThread : Deepgram service initialized
2025-04-29 00:50:24,248 INFO app.system_health MainThread : Health check routes registered
2025-04-29 00:50:24,251 INFO app.extensions MainThread : Initializing extensions for app instance (id: 2141568136976)
2025-04-29 00:50:24,254 INFO app.extensions MainThread : Initializing SQLAlchemy...
2025-04-29 00:50:24,255 INFO app.extensions MainThread : SQLAlchemy already registered on this Flask app, skipping initialization
2025-04-29 00:50:24,258 INFO app.extensions MainThread : Initializing Flask-Login...
2025-04-29 00:50:24,260 INFO app.extensions MainThread : Initializing Flask-Mail...
2025-04-29 00:50:24,262 INFO app.extensions MainThread : Initializing Flask-Limiter...
2025-04-29 00:50:24,266 INFO app.extensions MainThread : Initializing OAuth...
2025-04-29 00:50:24,268 INFO app.extensions MainThread : Initializing Flask-Migrate...
2025-04-29 00:50:24,270 INFO app.extensions MainThread : Initializing Flask-Bcrypt...
2025-04-29 00:50:24,272 INFO app.extensions MainThread : Initializing Flask-SocketIO...
2025-04-29 00:50:24,274 INFO app.extensions MainThread : Debug mode detected, enabling detailed socketio logging
2025-04-29 00:50:24,324 INFO engineio.server MainThread : Server initialized for threading.
2025-04-29 00:50:24,325 INFO app.extensions MainThread : Flask-SocketIO initialized successfully
2025-04-29 00:50:24,326 INFO app.extensions MainThread : All extensions initialized successfully
2025-04-29 00:50:24,573 INFO app.services.voice_analysis_service MainThread : Voice Analysis Service initialized.
2025-04-29 00:50:24,639 INFO app.error_handler MainThread : Registering centralized error handlers
2025-04-29 00:50:24,642 WARNING werkzeug MainThread :  * Debugger is active!
2025-04-29 00:50:24,654 INFO werkzeug MainThread :  * Debugger PIN: 735-563-336
2025-04-29 00:50:26,814 CRITICAL root Thread-5 (process_request_thread) : --- ROOT LOGGER CRITICAL: ENTERED SIMPLIFIED api_chat_endpoint ---
2025-04-29 00:50:26,818 INFO werkzeug Thread-5 (process_request_thread) : 127.0.0.1 - - [29/Apr/2025 00:50:26] "POST /chat/api/chat HTTP/1.1" 200 -
2025-04-29 00:52:36,014 INFO werkzeug MainThread :  * Detected change in 'C:\\Users\\cason\\Downloads\\salestraining-ai\\app.py', reloading
2025-04-29 00:52:36,534 INFO werkzeug MainThread :  * Restarting with stat
2025-04-29 00:52:36,617 INFO werkzeug MainThread :  * Detected change in 'C:\\Users\\cason\\Downloads\\salestraining-ai\\app.py', reloading
2025-04-29 00:52:39,525 INFO app MainThread : --- Logging configured (INFO to console, DEBUG to file) ---
2025-04-29 00:52:39,526 INFO app MainThread : Loaded configuration for environment: dev
2025-04-29 00:52:39,527 INFO app.database_manager MainThread : Initializing Database Manager
2025-04-29 00:52:39,554 INFO app.database_manager MainThread : Database Manager initialized successfully
2025-04-29 00:52:39,555 INFO app.services.api_manager MainThread : Initializing API Manager with all services
2025-04-29 00:52:39,556 INFO app.services.openai_service MainThread : Initializing OpenAIService with app context...
2025-04-29 00:52:39,557 INFO app.services.openai_service MainThread : Resolved OpenAI model: gpt-4.1-mini (Config: gpt-4.1-mini, Env: None, Default: gpt-4.1-mini)
2025-04-29 00:52:39,558 INFO app.services.openai_service MainThread : Resolved feedback model: gpt-4.1-mini (Config: None, Env: None, Default: gpt-4.1-mini)
2025-04-29 00:52:39,558 INFO app.services.openai_service MainThread : Operating system: Windows 10 (10.0.26100)
2025-04-29 00:52:39,570 INFO app.services.openai_service MainThread : Hostname: CasonsPC, Primary IP (gethostbyname): 10.0.0.150
2025-04-29 00:52:39,574 INFO app.services.openai_service MainThread : All IPs for hostname (getaddrinfo): ['2604:3d08:ea96:700:6b3e:d2ca:7404:71a8', '2604:3d08:ea96:700:48ea:452c:6b57:7bd2', '2604:3d08:ea96:700::b1cc', '10.0.0.150', 'fe80::20d1:846a:12b1:1b1a']
2025-04-29 00:52:39,576 INFO app.services.openai_service MainThread : Proxy environment: HTTP_PROXY=None, HTTPS_PROXY=None, NO_PROXY=None
2025-04-29 00:52:39,578 INFO app.services.openai_service MainThread : Python version: 3.11.9
2025-04-29 00:52:39,580 INFO app.services.openai_service MainThread : openai version: 1.7.0
2025-04-29 00:52:39,581 INFO app.services.openai_service MainThread : httpx version: 0.28.1
2025-04-29 00:52:39,583 INFO app.services.openai_service MainThread : certifi path: C:\Users\cason\Downloads\salestraining-ai\.venv\Lib\site-packages\certifi\cacert.pem
2025-04-29 00:52:39,585 INFO app.services.openai_service MainThread : dnspython version: 2.4.2
2025-04-29 00:52:40,004 INFO app MainThread : --- Logging configured (INFO to console, DEBUG to file) ---
2025-04-29 00:52:40,005 INFO app MainThread : Loaded configuration for environment: dev
2025-04-29 00:52:40,006 INFO app.database_manager MainThread : Initializing Database Manager
2025-04-29 00:52:40,033 INFO app.database_manager MainThread : Database Manager initialized successfully
2025-04-29 00:52:40,034 INFO app.services.api_manager MainThread : Initializing API Manager with all services
2025-04-29 00:52:40,034 INFO app.services.openai_service MainThread : Initializing OpenAIService with app context...
2025-04-29 00:52:40,036 INFO app.services.openai_service MainThread : Resolved OpenAI model: gpt-4.1-mini (Config: gpt-4.1-mini, Env: None, Default: gpt-4.1-mini)
2025-04-29 00:52:40,036 INFO app.services.openai_service MainThread : Resolved feedback model: gpt-4.1-mini (Config: None, Env: None, Default: gpt-4.1-mini)
2025-04-29 00:52:40,037 INFO app.services.openai_service MainThread : Operating system: Windows 10 (10.0.26100)
2025-04-29 00:52:40,042 INFO app.services.openai_service MainThread : Hostname: CasonsPC, Primary IP (gethostbyname): 10.0.0.150
2025-04-29 00:52:40,044 INFO app.services.openai_service MainThread : All IPs for hostname (getaddrinfo): ['2604:3d08:ea96:700::b1cc', '10.0.0.150', '2604:3d08:ea96:700:48ea:452c:6b57:7bd2', 'fe80::20d1:846a:12b1:1b1a', '2604:3d08:ea96:700:6b3e:d2ca:7404:71a8']
2025-04-29 00:52:40,045 INFO app.services.openai_service MainThread : Proxy environment: HTTP_PROXY=None, HTTPS_PROXY=None, NO_PROXY=None
2025-04-29 00:52:40,045 INFO app.services.openai_service MainThread : Python version: 3.11.9
2025-04-29 00:52:40,046 INFO app.services.openai_service MainThread : openai version: 1.7.0
2025-04-29 00:52:40,047 INFO app.services.openai_service MainThread : httpx version: 0.28.1
2025-04-29 00:52:40,047 INFO app.services.openai_service MainThread : certifi path: C:\Users\cason\Downloads\salestraining-ai\.venv\Lib\site-packages\certifi\cacert.pem
2025-04-29 00:52:40,049 INFO app.services.openai_service MainThread : dnspython version: 2.4.2
2025-04-29 00:52:40,251 INFO app.services.openai_service MainThread : Created default httpx.Client instance explicitly with default SSL context.
2025-04-29 00:52:40,253 INFO app.services.openai_service MainThread : OpenAI client created with custom http_client.
2025-04-29 00:52:40,253 INFO app.services.openai_service MainThread : Testing basic connectivity to api.openai.com:443...
2025-04-29 00:52:40,349 INFO app.services.openai_service MainThread : Socket connection to api.openai.com:443 successful
2025-04-29 00:52:40,349 INFO app.services.openai_service MainThread : Testing OpenAI API connection with model: gpt-4.1-mini (attempt 1/5)...
2025-04-29 00:52:40,672 INFO app.services.openai_service MainThread : Created default httpx.Client instance explicitly with default SSL context.
2025-04-29 00:52:40,674 INFO app.services.openai_service MainThread : OpenAI client created with custom http_client.
2025-04-29 00:52:40,676 INFO app.services.openai_service MainThread : Testing basic connectivity to api.openai.com:443...
2025-04-29 00:52:40,718 INFO app.services.openai_service MainThread : Socket connection to api.openai.com:443 successful
2025-04-29 00:52:40,719 INFO app.services.openai_service MainThread : Testing OpenAI API connection with model: gpt-4.1-mini (attempt 1/5)...
2025-04-29 00:52:40,885 INFO httpx MainThread : HTTP Request: GET https://api.openai.com/v1/models/gpt-4.1-mini "HTTP/1.1 200 OK"
2025-04-29 00:52:40,890 INFO app.services.openai_service MainThread : OpenAI API connection successful for model: gpt-4.1-mini
2025-04-29 00:52:40,892 INFO app.services.openai_service MainThread : OpenAIService initialized with client.
2025-04-29 00:52:40,893 INFO app.services.openai_service MainThread : Testing basic connectivity to api.openai.com:443...
2025-04-29 00:52:40,937 INFO app.services.openai_service MainThread : Socket connection to api.openai.com:443 successful
2025-04-29 00:52:40,939 INFO app.services.openai_service MainThread : Testing OpenAI API connection with model: gpt-4.1-mini (attempt 1/5)...
2025-04-29 00:52:41,175 INFO httpx MainThread : HTTP Request: GET https://api.openai.com/v1/models/gpt-4.1-mini "HTTP/1.1 200 OK"
2025-04-29 00:52:41,177 INFO app.services.openai_service MainThread : OpenAI API connection successful for model: gpt-4.1-mini
2025-04-29 00:52:41,180 INFO app.services.api_manager MainThread : OpenAI service initialized: True
2025-04-29 00:52:41,181 INFO app.services.eleven_labs_service MainThread : ElevenLabsService init_app called. App config type: <class 'flask.config.Config'>
2025-04-29 00:52:41,182 INFO app.services.eleven_labs_service MainThread : API Key from app.config.get('ELEVEN_LABS_API_KEY'): Exists
2025-04-29 00:52:41,183 INFO app.services.eleven_labs_service MainThread : API Key from os.environ.get('ELEVEN_LABS_API_KEY'): Exists
2025-04-29 00:52:41,185 INFO app.services.eleven_labs_service MainThread : API Key from os.environ.get('ELEVENLABS_API_KEY'): Exists
2025-04-29 00:52:41,186 INFO app.services.eleven_labs_service MainThread : ElevenLabsService initialized successfully with API key (length: 51)
2025-04-29 00:52:41,188 INFO app.services.api_manager MainThread : ElevenLabs service initialized: True
2025-04-29 00:52:41,189 INFO app.services.deepgram_service MainThread : Initializing DeepgramService with app context
2025-04-29 00:52:41,191 INFO app.services.deepgram_service MainThread : Deepgram API key format: length=40, has prefix='dg_'=False
2025-04-29 00:52:41,193 INFO app.services.deepgram_service MainThread : Detected possible legacy key format, will try both original and with dg_ prefix
2025-04-29 00:52:41,194 INFO app.services.deepgram_service MainThread : Created alternative API key with dg_ prefix for fallback
2025-04-29 00:52:41,196 INFO app.services.deepgram_service MainThread : DeepgramService initialized successfully
2025-04-29 00:52:41,198 INFO app.services.api_manager MainThread : Deepgram service initialized
2025-04-29 00:52:41,202 INFO app.system_health MainThread : Health check routes registered
2025-04-29 00:52:41,204 INFO app.extensions MainThread : Initializing extensions for app instance (id: 1793519850768)
2025-04-29 00:52:41,205 INFO app.extensions MainThread : Initializing SQLAlchemy...
2025-04-29 00:52:41,207 INFO app.extensions MainThread : SQLAlchemy already registered on this Flask app, skipping initialization
2025-04-29 00:52:41,208 INFO app.extensions MainThread : Initializing Flask-Login...
2025-04-29 00:52:41,209 INFO app.extensions MainThread : Initializing Flask-Mail...
2025-04-29 00:52:41,211 INFO app.extensions MainThread : Initializing Flask-Limiter...
2025-04-29 00:52:41,214 INFO app.extensions MainThread : Initializing OAuth...
2025-04-29 00:52:41,216 INFO app.extensions MainThread : Initializing Flask-Migrate...
2025-04-29 00:52:41,218 INFO app.extensions MainThread : Initializing Flask-Bcrypt...
2025-04-29 00:52:41,219 INFO app.extensions MainThread : Initializing Flask-SocketIO...
2025-04-29 00:52:41,221 INFO app.extensions MainThread : Debug mode detected, enabling detailed socketio logging
2025-04-29 00:52:41,243 INFO httpx MainThread : HTTP Request: GET https://api.openai.com/v1/models/gpt-4.1-mini "HTTP/1.1 200 OK"
2025-04-29 00:52:41,247 INFO app.services.openai_service MainThread : OpenAI API connection successful for model: gpt-4.1-mini
2025-04-29 00:52:41,248 INFO app.services.openai_service MainThread : OpenAIService initialized with client.
2025-04-29 00:52:41,250 INFO app.services.openai_service MainThread : Testing basic connectivity to api.openai.com:443...
2025-04-29 00:52:41,276 INFO engineio.server MainThread : Server initialized for threading.
2025-04-29 00:52:41,278 INFO app.extensions MainThread : Flask-SocketIO initialized successfully
2025-04-29 00:52:41,279 INFO app.extensions MainThread : All extensions initialized successfully
2025-04-29 00:52:41,290 INFO app.services.openai_service MainThread : Socket connection to api.openai.com:443 successful
2025-04-29 00:52:41,292 INFO app.services.openai_service MainThread : Testing OpenAI API connection with model: gpt-4.1-mini (attempt 1/5)...
2025-04-29 00:52:41,557 INFO app.services.voice_analysis_service MainThread : Voice Analysis Service initialized.
2025-04-29 00:52:41,615 INFO app.error_handler MainThread : Registering centralized error handlers
2025-04-29 00:52:41,618 WARNING werkzeug MainThread :  * Debugger is active!
2025-04-29 00:52:41,626 INFO werkzeug MainThread :  * Debugger PIN: 735-563-336
2025-04-29 00:52:41,758 INFO httpx MainThread : HTTP Request: GET https://api.openai.com/v1/models/gpt-4.1-mini "HTTP/1.1 200 OK"
2025-04-29 00:52:41,760 INFO app.services.openai_service MainThread : OpenAI API connection successful for model: gpt-4.1-mini
2025-04-29 00:52:41,760 INFO app.services.api_manager MainThread : OpenAI service initialized: True
2025-04-29 00:52:41,761 INFO app.services.eleven_labs_service MainThread : ElevenLabsService init_app called. App config type: <class 'flask.config.Config'>
2025-04-29 00:52:41,762 INFO app.services.eleven_labs_service MainThread : API Key from app.config.get('ELEVEN_LABS_API_KEY'): Exists
2025-04-29 00:52:41,762 INFO app.services.eleven_labs_service MainThread : API Key from os.environ.get('ELEVEN_LABS_API_KEY'): Exists
2025-04-29 00:52:41,763 INFO app.services.eleven_labs_service MainThread : API Key from os.environ.get('ELEVENLABS_API_KEY'): Exists
2025-04-29 00:52:41,764 INFO app.services.eleven_labs_service MainThread : ElevenLabsService initialized successfully with API key (length: 51)
2025-04-29 00:52:41,765 INFO app.services.api_manager MainThread : ElevenLabs service initialized: True
2025-04-29 00:52:41,765 INFO app.services.deepgram_service MainThread : Initializing DeepgramService with app context
2025-04-29 00:52:41,766 INFO app.services.deepgram_service MainThread : Deepgram API key format: length=40, has prefix='dg_'=False
2025-04-29 00:52:41,767 INFO app.services.deepgram_service MainThread : Detected possible legacy key format, will try both original and with dg_ prefix
2025-04-29 00:52:41,768 INFO app.services.deepgram_service MainThread : Created alternative API key with dg_ prefix for fallback
2025-04-29 00:52:41,768 INFO app.services.deepgram_service MainThread : DeepgramService initialized successfully
2025-04-29 00:52:41,769 INFO app.services.api_manager MainThread : Deepgram service initialized
2025-04-29 00:52:41,772 INFO app.system_health MainThread : Health check routes registered
2025-04-29 00:52:41,773 INFO app.extensions MainThread : Initializing extensions for app instance (id: 2002198813072)
2025-04-29 00:52:41,774 INFO app.extensions MainThread : Initializing SQLAlchemy...
2025-04-29 00:52:41,775 INFO app.extensions MainThread : SQLAlchemy already registered on this Flask app, skipping initialization
2025-04-29 00:52:41,775 INFO app.extensions MainThread : Initializing Flask-Login...
2025-04-29 00:52:41,776 INFO app.extensions MainThread : Initializing Flask-Mail...
2025-04-29 00:52:41,777 INFO app.extensions MainThread : Initializing Flask-Limiter...
2025-04-29 00:52:41,780 INFO app.extensions MainThread : Initializing OAuth...
2025-04-29 00:52:41,781 INFO app.extensions MainThread : Initializing Flask-Migrate...
2025-04-29 00:52:41,781 INFO app.extensions MainThread : Initializing Flask-Bcrypt...
2025-04-29 00:52:41,782 INFO app.extensions MainThread : Initializing Flask-SocketIO...
2025-04-29 00:52:41,783 INFO app.extensions MainThread : Debug mode detected, enabling detailed socketio logging
2025-04-29 00:52:41,812 INFO engineio.server MainThread : Server initialized for threading.
2025-04-29 00:52:41,813 INFO app.extensions MainThread : Flask-SocketIO initialized successfully
2025-04-29 00:52:41,814 INFO app.extensions MainThread : All extensions initialized successfully
2025-04-29 00:52:42,059 INFO app.services.voice_analysis_service MainThread : Voice Analysis Service initialized.
2025-04-29 00:52:42,115 INFO app.error_handler MainThread : Registering centralized error handlers
2025-04-29 00:52:42,118 WARNING werkzeug MainThread :  * Debugger is active!
2025-04-29 00:52:42,127 INFO werkzeug MainThread :  * Debugger PIN: 735-563-336
2025-04-29 00:52:55,919 INFO werkzeug MainThread :  * Detected change in 'C:\\Users\\cason\\Downloads\\salestraining-ai\\app\\chat\\routes.py', reloading
2025-04-29 00:52:56,502 INFO werkzeug MainThread :  * Restarting with stat
2025-04-29 00:52:56,602 INFO werkzeug MainThread :  * Detected change in 'C:\\Users\\cason\\Downloads\\salestraining-ai\\app\\chat\\routes.py', reloading
2025-04-29 00:52:59,678 INFO app MainThread : --- Logging configured (INFO to console, DEBUG to file) ---
2025-04-29 00:52:59,679 INFO app MainThread : Loaded configuration for environment: dev
2025-04-29 00:52:59,681 INFO app.database_manager MainThread : Initializing Database Manager
2025-04-29 00:52:59,705 INFO app.database_manager MainThread : Database Manager initialized successfully
2025-04-29 00:52:59,706 INFO app.services.api_manager MainThread : Initializing API Manager with all services
2025-04-29 00:52:59,707 INFO app.services.openai_service MainThread : Initializing OpenAIService with app context...
2025-04-29 00:52:59,708 INFO app.services.openai_service MainThread : Resolved OpenAI model: gpt-4.1-mini (Config: gpt-4.1-mini, Env: None, Default: gpt-4.1-mini)
2025-04-29 00:52:59,708 INFO app.services.openai_service MainThread : Resolved feedback model: gpt-4.1-mini (Config: None, Env: None, Default: gpt-4.1-mini)
2025-04-29 00:52:59,709 INFO app.services.openai_service MainThread : Operating system: Windows 10 (10.0.26100)
2025-04-29 00:52:59,715 INFO app.services.openai_service MainThread : Hostname: CasonsPC, Primary IP (gethostbyname): 10.0.0.150
2025-04-29 00:52:59,716 INFO app.services.openai_service MainThread : All IPs for hostname (getaddrinfo): ['2604:3d08:ea96:700::b1cc', '2604:3d08:ea96:700:6b3e:d2ca:7404:71a8', '10.0.0.150', 'fe80::20d1:846a:12b1:1b1a', '2604:3d08:ea96:700:48ea:452c:6b57:7bd2']
2025-04-29 00:52:59,718 INFO app.services.openai_service MainThread : Proxy environment: HTTP_PROXY=None, HTTPS_PROXY=None, NO_PROXY=None
2025-04-29 00:52:59,718 INFO app.services.openai_service MainThread : Python version: 3.11.9
2025-04-29 00:52:59,719 INFO app.services.openai_service MainThread : openai version: 1.7.0
2025-04-29 00:52:59,720 INFO app.services.openai_service MainThread : httpx version: 0.28.1
2025-04-29 00:52:59,720 INFO app.services.openai_service MainThread : certifi path: C:\Users\cason\Downloads\salestraining-ai\.venv\Lib\site-packages\certifi\cacert.pem
2025-04-29 00:52:59,721 INFO app.services.openai_service MainThread : dnspython version: 2.4.2
2025-04-29 00:53:00,224 INFO app MainThread : --- Logging configured (INFO to console, DEBUG to file) ---
2025-04-29 00:53:00,225 INFO app MainThread : Loaded configuration for environment: dev
2025-04-29 00:53:00,226 INFO app.database_manager MainThread : Initializing Database Manager
2025-04-29 00:53:00,248 INFO app.database_manager MainThread : Database Manager initialized successfully
2025-04-29 00:53:00,249 INFO app.services.api_manager MainThread : Initializing API Manager with all services
2025-04-29 00:53:00,249 INFO app.services.openai_service MainThread : Initializing OpenAIService with app context...
2025-04-29 00:53:00,250 INFO app.services.openai_service MainThread : Resolved OpenAI model: gpt-4.1-mini (Config: gpt-4.1-mini, Env: None, Default: gpt-4.1-mini)
2025-04-29 00:53:00,251 INFO app.services.openai_service MainThread : Resolved feedback model: gpt-4.1-mini (Config: None, Env: None, Default: gpt-4.1-mini)
2025-04-29 00:53:00,252 INFO app.services.openai_service MainThread : Operating system: Windows 10 (10.0.26100)
2025-04-29 00:53:00,257 INFO app.services.openai_service MainThread : Hostname: CasonsPC, Primary IP (gethostbyname): 10.0.0.150
2025-04-29 00:53:00,259 INFO app.services.openai_service MainThread : All IPs for hostname (getaddrinfo): ['2604:3d08:ea96:700:48ea:452c:6b57:7bd2', '2604:3d08:ea96:700:6b3e:d2ca:7404:71a8', '2604:3d08:ea96:700::b1cc', '10.0.0.150', 'fe80::20d1:846a:12b1:1b1a']
2025-04-29 00:53:00,261 INFO app.services.openai_service MainThread : Proxy environment: HTTP_PROXY=None, HTTPS_PROXY=None, NO_PROXY=None
2025-04-29 00:53:00,263 INFO app.services.openai_service MainThread : Python version: 3.11.9
2025-04-29 00:53:00,264 INFO app.services.openai_service MainThread : openai version: 1.7.0
2025-04-29 00:53:00,265 INFO app.services.openai_service MainThread : httpx version: 0.28.1
2025-04-29 00:53:00,265 INFO app.services.openai_service MainThread : certifi path: C:\Users\cason\Downloads\salestraining-ai\.venv\Lib\site-packages\certifi\cacert.pem
2025-04-29 00:53:00,266 INFO app.services.openai_service MainThread : dnspython version: 2.4.2
2025-04-29 00:53:00,507 INFO app.services.openai_service MainThread : Created default httpx.Client instance explicitly with default SSL context.
2025-04-29 00:53:00,509 INFO app.services.openai_service MainThread : OpenAI client created with custom http_client.
2025-04-29 00:53:00,509 INFO app.services.openai_service MainThread : Testing basic connectivity to api.openai.com:443...
2025-04-29 00:53:00,569 INFO app.services.openai_service MainThread : Socket connection to api.openai.com:443 successful
2025-04-29 00:53:00,571 INFO app.services.openai_service MainThread : Testing OpenAI API connection with model: gpt-4.1-mini (attempt 1/5)...
2025-04-29 00:53:01,013 INFO app.services.openai_service MainThread : Created default httpx.Client instance explicitly with default SSL context.
2025-04-29 00:53:01,015 INFO app.services.openai_service MainThread : OpenAI client created with custom http_client.
2025-04-29 00:53:01,015 INFO app.services.openai_service MainThread : Testing basic connectivity to api.openai.com:443...
2025-04-29 00:53:01,063 INFO app.services.openai_service MainThread : Socket connection to api.openai.com:443 successful
2025-04-29 00:53:01,064 INFO app.services.openai_service MainThread : Testing OpenAI API connection with model: gpt-4.1-mini (attempt 1/5)...
2025-04-29 00:53:01,219 INFO httpx MainThread : HTTP Request: GET https://api.openai.com/v1/models/gpt-4.1-mini "HTTP/1.1 200 OK"
2025-04-29 00:53:01,222 INFO app.services.openai_service MainThread : OpenAI API connection successful for model: gpt-4.1-mini
2025-04-29 00:53:01,223 INFO app.services.openai_service MainThread : OpenAIService initialized with client.
2025-04-29 00:53:01,224 INFO app.services.openai_service MainThread : Testing basic connectivity to api.openai.com:443...
2025-04-29 00:53:01,251 INFO app.services.openai_service MainThread : Socket connection to api.openai.com:443 successful
2025-04-29 00:53:01,253 INFO app.services.openai_service MainThread : Testing OpenAI API connection with model: gpt-4.1-mini (attempt 1/5)...
2025-04-29 00:53:01,625 INFO httpx MainThread : HTTP Request: GET https://api.openai.com/v1/models/gpt-4.1-mini "HTTP/1.1 200 OK"
2025-04-29 00:53:01,626 INFO httpx MainThread : HTTP Request: GET https://api.openai.com/v1/models/gpt-4.1-mini "HTTP/1.1 200 OK"
2025-04-29 00:53:01,629 INFO app.services.openai_service MainThread : OpenAI API connection successful for model: gpt-4.1-mini
2025-04-29 00:53:01,630 INFO app.services.api_manager MainThread : OpenAI service initialized: True
2025-04-29 00:53:01,631 INFO app.services.eleven_labs_service MainThread : ElevenLabsService init_app called. App config type: <class 'flask.config.Config'>
2025-04-29 00:53:01,632 INFO app.services.openai_service MainThread : OpenAI API connection successful for model: gpt-4.1-mini
2025-04-29 00:53:01,633 INFO app.services.eleven_labs_service MainThread : API Key from app.config.get('ELEVEN_LABS_API_KEY'): Exists
2025-04-29 00:53:01,633 INFO app.services.openai_service MainThread : OpenAIService initialized with client.
2025-04-29 00:53:01,634 INFO app.services.openai_service MainThread : Testing basic connectivity to api.openai.com:443...
2025-04-29 00:53:01,634 INFO app.services.eleven_labs_service MainThread : API Key from os.environ.get('ELEVEN_LABS_API_KEY'): Exists
2025-04-29 00:53:01,635 INFO app.services.eleven_labs_service MainThread : API Key from os.environ.get('ELEVENLABS_API_KEY'): Exists
2025-04-29 00:53:01,636 INFO app.services.eleven_labs_service MainThread : ElevenLabsService initialized successfully with API key (length: 51)
2025-04-29 00:53:01,637 INFO app.services.api_manager MainThread : ElevenLabs service initialized: True
2025-04-29 00:53:01,639 INFO app.services.deepgram_service MainThread : Initializing DeepgramService with app context
2025-04-29 00:53:01,640 INFO app.services.deepgram_service MainThread : Deepgram API key format: length=40, has prefix='dg_'=False
2025-04-29 00:53:01,641 INFO app.services.deepgram_service MainThread : Detected possible legacy key format, will try both original and with dg_ prefix
2025-04-29 00:53:01,641 INFO app.services.deepgram_service MainThread : Created alternative API key with dg_ prefix for fallback
2025-04-29 00:53:01,642 INFO app.services.deepgram_service MainThread : DeepgramService initialized successfully
2025-04-29 00:53:01,643 INFO app.services.api_manager MainThread : Deepgram service initialized
2025-04-29 00:53:01,646 INFO app.system_health MainThread : Health check routes registered
2025-04-29 00:53:01,647 INFO app.extensions MainThread : Initializing extensions for app instance (id: 2035745673040)
2025-04-29 00:53:01,648 INFO app.extensions MainThread : Initializing SQLAlchemy...
2025-04-29 00:53:01,649 INFO app.extensions MainThread : SQLAlchemy already registered on this Flask app, skipping initialization
2025-04-29 00:53:01,651 INFO app.extensions MainThread : Initializing Flask-Login...
2025-04-29 00:53:01,651 INFO app.extensions MainThread : Initializing Flask-Mail...
2025-04-29 00:53:01,652 INFO app.extensions MainThread : Initializing Flask-Limiter...
2025-04-29 00:53:01,654 INFO app.extensions MainThread : Initializing OAuth...
2025-04-29 00:53:01,655 INFO app.extensions MainThread : Initializing Flask-Migrate...
2025-04-29 00:53:01,656 INFO app.extensions MainThread : Initializing Flask-Bcrypt...
2025-04-29 00:53:01,657 INFO app.extensions MainThread : Initializing Flask-SocketIO...
2025-04-29 00:53:01,658 INFO app.extensions MainThread : Debug mode detected, enabling detailed socketio logging
2025-04-29 00:53:01,682 INFO app.services.openai_service MainThread : Socket connection to api.openai.com:443 successful
2025-04-29 00:53:01,684 INFO app.services.openai_service MainThread : Testing OpenAI API connection with model: gpt-4.1-mini (attempt 1/5)...
2025-04-29 00:53:01,702 INFO engineio.server MainThread : Server initialized for threading.
2025-04-29 00:53:01,705 INFO app.extensions MainThread : Flask-SocketIO initialized successfully
2025-04-29 00:53:01,706 INFO app.extensions MainThread : All extensions initialized successfully
2025-04-29 00:53:02,003 INFO app.services.voice_analysis_service MainThread : Voice Analysis Service initialized.
2025-04-29 00:53:02,080 INFO httpx MainThread : HTTP Request: GET https://api.openai.com/v1/models/gpt-4.1-mini "HTTP/1.1 200 OK"
2025-04-29 00:53:02,083 INFO app.services.openai_service MainThread : OpenAI API connection successful for model: gpt-4.1-mini
2025-04-29 00:53:02,083 INFO app.services.api_manager MainThread : OpenAI service initialized: True
2025-04-29 00:53:02,084 INFO app.error_handler MainThread : Registering centralized error handlers
2025-04-29 00:53:02,084 INFO app.services.eleven_labs_service MainThread : ElevenLabsService init_app called. App config type: <class 'flask.config.Config'>
2025-04-29 00:53:02,085 INFO app.services.eleven_labs_service MainThread : API Key from app.config.get('ELEVEN_LABS_API_KEY'): Exists
2025-04-29 00:53:02,086 INFO app.services.eleven_labs_service MainThread : API Key from os.environ.get('ELEVEN_LABS_API_KEY'): Exists
2025-04-29 00:53:02,087 INFO app.services.eleven_labs_service MainThread : API Key from os.environ.get('ELEVENLABS_API_KEY'): Exists
2025-04-29 00:53:02,087 INFO app.services.eleven_labs_service MainThread : ElevenLabsService initialized successfully with API key (length: 51)
2025-04-29 00:53:02,087 WARNING werkzeug MainThread :  * Debugger is active!
2025-04-29 00:53:02,089 INFO app.services.api_manager MainThread : ElevenLabs service initialized: True
2025-04-29 00:53:02,090 INFO app.services.deepgram_service MainThread : Initializing DeepgramService with app context
2025-04-29 00:53:02,091 INFO app.services.deepgram_service MainThread : Deepgram API key format: length=40, has prefix='dg_'=False
2025-04-29 00:53:02,092 INFO app.services.deepgram_service MainThread : Detected possible legacy key format, will try both original and with dg_ prefix
2025-04-29 00:53:02,093 INFO app.services.deepgram_service MainThread : Created alternative API key with dg_ prefix for fallback
2025-04-29 00:53:02,095 INFO app.services.deepgram_service MainThread : DeepgramService initialized successfully
2025-04-29 00:53:02,097 INFO app.services.api_manager MainThread : Deepgram service initialized
2025-04-29 00:53:02,102 INFO app.system_health MainThread : Health check routes registered
2025-04-29 00:53:02,104 INFO app.extensions MainThread : Initializing extensions for app instance (id: 2214293927696)
2025-04-29 00:53:02,105 INFO app.extensions MainThread : Initializing SQLAlchemy...
2025-04-29 00:53:02,106 INFO app.extensions MainThread : SQLAlchemy already registered on this Flask app, skipping initialization
2025-04-29 00:53:02,107 INFO app.extensions MainThread : Initializing Flask-Login...
2025-04-29 00:53:02,108 INFO app.extensions MainThread : Initializing Flask-Mail...
2025-04-29 00:53:02,108 INFO app.extensions MainThread : Initializing Flask-Limiter...
2025-04-29 00:53:02,110 INFO app.extensions MainThread : Initializing OAuth...
2025-04-29 00:53:02,111 INFO app.extensions MainThread : Initializing Flask-Migrate...
2025-04-29 00:53:02,110 INFO werkzeug MainThread :  * Debugger PIN: 735-563-336
2025-04-29 00:53:02,112 INFO app.extensions MainThread : Initializing Flask-Bcrypt...
2025-04-29 00:53:02,113 INFO app.extensions MainThread : Initializing Flask-SocketIO...
2025-04-29 00:53:02,114 INFO app.extensions MainThread : Debug mode detected, enabling detailed socketio logging
2025-04-29 00:53:02,166 INFO engineio.server MainThread : Server initialized for threading.
2025-04-29 00:53:02,167 INFO app.extensions MainThread : Flask-SocketIO initialized successfully
2025-04-29 00:53:02,168 INFO app.extensions MainThread : All extensions initialized successfully
2025-04-29 00:53:02,461 INFO app.services.voice_analysis_service MainThread : Voice Analysis Service initialized.
2025-04-29 00:53:02,520 INFO app.error_handler MainThread : Registering centralized error handlers
2025-04-29 00:53:02,523 WARNING werkzeug MainThread :  * Debugger is active!
2025-04-29 00:53:02,535 INFO werkzeug MainThread :  * Debugger PIN: 735-563-336
2025-04-29 00:55:14,749 INFO app MainThread : --- Logging configured (INFO to console, DEBUG to file) ---
2025-04-29 00:55:14,751 INFO app MainThread : Loaded configuration for environment: dev
2025-04-29 00:55:14,753 INFO app.database_manager MainThread : Initializing Database Manager
2025-04-29 00:55:14,781 INFO app.database_manager MainThread : Database Manager initialized successfully
2025-04-29 00:55:14,782 INFO app.services.api_manager MainThread : Initializing API Manager with all services
2025-04-29 00:55:14,783 INFO app.services.openai_service MainThread : Initializing OpenAIService with app context...
2025-04-29 00:55:14,784 INFO app.services.openai_service MainThread : Resolved OpenAI model: gpt-4.1-mini (Config: gpt-4.1-mini, Env: None, Default: gpt-4.1-mini)
2025-04-29 00:55:14,787 INFO app.services.openai_service MainThread : Resolved feedback model: gpt-4.1-mini (Config: None, Env: None, Default: gpt-4.1-mini)
2025-04-29 00:55:14,788 INFO app.services.openai_service MainThread : Operating system: Windows 10 (10.0.26100)
2025-04-29 00:55:14,797 INFO app.services.openai_service MainThread : Hostname: CasonsPC, Primary IP (gethostbyname): 10.0.0.150
2025-04-29 00:55:14,799 INFO app.services.openai_service MainThread : All IPs for hostname (getaddrinfo): ['2604:3d08:ea96:700::b1cc', '2604:3d08:ea96:700:48ea:452c:6b57:7bd2', '10.0.0.150', 'fe80::20d1:846a:12b1:1b1a', '2604:3d08:ea96:700:6b3e:d2ca:7404:71a8']
2025-04-29 00:55:14,799 INFO app.services.openai_service MainThread : Proxy environment: HTTP_PROXY=None, HTTPS_PROXY=None, NO_PROXY=None
2025-04-29 00:55:14,800 INFO app.services.openai_service MainThread : Python version: 3.11.9
2025-04-29 00:55:14,802 INFO app.services.openai_service MainThread : openai version: 1.7.0
2025-04-29 00:55:14,803 INFO app.services.openai_service MainThread : httpx version: 0.28.1
2025-04-29 00:55:14,805 INFO app.services.openai_service MainThread : certifi path: C:\Users\cason\Downloads\salestraining-ai\.venv\Lib\site-packages\certifi\cacert.pem
2025-04-29 00:55:14,806 INFO app.services.openai_service MainThread : dnspython version: 2.4.2
2025-04-29 00:55:15,441 INFO app.services.openai_service MainThread : Created default httpx.Client instance explicitly with default SSL context.
2025-04-29 00:55:15,442 INFO app.services.openai_service MainThread : OpenAI client created with custom http_client.
2025-04-29 00:55:15,443 INFO app.services.openai_service MainThread : Testing basic connectivity to api.openai.com:443...
2025-04-29 00:55:15,530 INFO app.services.openai_service MainThread : Socket connection to api.openai.com:443 successful
2025-04-29 00:55:15,532 INFO app.services.openai_service MainThread : Testing OpenAI API connection with model: gpt-4.1-mini (attempt 1/5)...
2025-04-29 00:55:16,182 INFO httpx MainThread : HTTP Request: GET https://api.openai.com/v1/models/gpt-4.1-mini "HTTP/1.1 200 OK"
2025-04-29 00:55:16,185 INFO app.services.openai_service MainThread : OpenAI API connection successful for model: gpt-4.1-mini
2025-04-29 00:55:16,188 INFO app.services.openai_service MainThread : OpenAIService initialized with client.
2025-04-29 00:55:16,188 INFO app.services.openai_service MainThread : Testing basic connectivity to api.openai.com:443...
2025-04-29 00:55:16,212 INFO app.services.openai_service MainThread : Socket connection to api.openai.com:443 successful
2025-04-29 00:55:16,213 INFO app.services.openai_service MainThread : Testing OpenAI API connection with model: gpt-4.1-mini (attempt 1/5)...
2025-04-29 00:55:16,697 INFO httpx MainThread : HTTP Request: GET https://api.openai.com/v1/models/gpt-4.1-mini "HTTP/1.1 200 OK"
2025-04-29 00:55:16,699 INFO app.services.openai_service MainThread : OpenAI API connection successful for model: gpt-4.1-mini
2025-04-29 00:55:16,702 INFO app.services.api_manager MainThread : OpenAI service initialized: True
2025-04-29 00:55:16,703 INFO app.services.eleven_labs_service MainThread : ElevenLabsService init_app called. App config type: <class 'flask.config.Config'>
2025-04-29 00:55:16,704 INFO app.services.eleven_labs_service MainThread : API Key from app.config.get('ELEVEN_LABS_API_KEY'): Exists
2025-04-29 00:55:16,705 INFO app.services.eleven_labs_service MainThread : API Key from os.environ.get('ELEVEN_LABS_API_KEY'): Exists
2025-04-29 00:55:16,706 INFO app.services.eleven_labs_service MainThread : API Key from os.environ.get('ELEVENLABS_API_KEY'): Exists
2025-04-29 00:55:16,707 INFO app.services.eleven_labs_service MainThread : ElevenLabsService initialized successfully with API key (length: 51)
2025-04-29 00:55:16,708 INFO app.services.api_manager MainThread : ElevenLabs service initialized: True
2025-04-29 00:55:16,709 INFO app.services.deepgram_service MainThread : Initializing DeepgramService with app context
2025-04-29 00:55:16,710 INFO app.services.deepgram_service MainThread : Deepgram API key format: length=40, has prefix='dg_'=False
2025-04-29 00:55:16,712 INFO app.services.deepgram_service MainThread : Detected possible legacy key format, will try both original and with dg_ prefix
2025-04-29 00:55:16,713 INFO app.services.deepgram_service MainThread : Created alternative API key with dg_ prefix for fallback
2025-04-29 00:55:16,714 INFO app.services.deepgram_service MainThread : DeepgramService initialized successfully
2025-04-29 00:55:16,715 INFO app.services.api_manager MainThread : Deepgram service initialized
2025-04-29 00:55:16,718 INFO app.system_health MainThread : Health check routes registered
2025-04-29 00:55:16,720 INFO app.extensions MainThread : Initializing extensions for app instance (id: 1988814618896)
2025-04-29 00:55:16,722 INFO app.extensions MainThread : Initializing SQLAlchemy...
2025-04-29 00:55:16,723 INFO app.extensions MainThread : SQLAlchemy already registered on this Flask app, skipping initialization
2025-04-29 00:55:16,725 INFO app.extensions MainThread : Initializing Flask-Login...
2025-04-29 00:55:16,726 INFO app.extensions MainThread : Initializing Flask-Mail...
2025-04-29 00:55:16,727 INFO app.extensions MainThread : Initializing Flask-Limiter...
2025-04-29 00:55:16,729 INFO app.extensions MainThread : Initializing OAuth...
2025-04-29 00:55:16,731 INFO app.extensions MainThread : Initializing Flask-Migrate...
2025-04-29 00:55:16,732 INFO app.extensions MainThread : Initializing Flask-Bcrypt...
2025-04-29 00:55:16,733 INFO app.extensions MainThread : Initializing Flask-SocketIO...
2025-04-29 00:55:16,734 INFO app.extensions MainThread : Debug mode detected, enabling detailed socketio logging
2025-04-29 00:55:16,784 INFO engineio.server MainThread : Server initialized for threading.
2025-04-29 00:55:16,786 INFO app.extensions MainThread : Flask-SocketIO initialized successfully
2025-04-29 00:55:16,788 INFO app.extensions MainThread : All extensions initialized successfully
2025-04-29 00:55:17,186 INFO app.services.voice_analysis_service MainThread : Voice Analysis Service initialized.
2025-04-29 00:55:17,257 INFO app.error_handler MainThread : Registering centralized error handlers
2025-04-29 00:55:17,266 INFO werkzeug MainThread : [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-04-29 00:55:17,267 INFO werkzeug MainThread : [33mPress CTRL+C to quit[0m
2025-04-29 00:55:17,268 INFO werkzeug MainThread :  * Restarting with stat
2025-04-29 00:55:20,933 INFO app MainThread : --- Logging configured (INFO to console, DEBUG to file) ---
2025-04-29 00:55:20,935 INFO app MainThread : Loaded configuration for environment: dev
2025-04-29 00:55:20,938 INFO app.database_manager MainThread : Initializing Database Manager
2025-04-29 00:55:20,991 INFO app.database_manager MainThread : Database Manager initialized successfully
2025-04-29 00:55:20,993 INFO app.services.api_manager MainThread : Initializing API Manager with all services
2025-04-29 00:55:20,994 INFO app.services.openai_service MainThread : Initializing OpenAIService with app context...
2025-04-29 00:55:20,996 INFO app.services.openai_service MainThread : Resolved OpenAI model: gpt-4.1-mini (Config: gpt-4.1-mini, Env: None, Default: gpt-4.1-mini)
2025-04-29 00:55:20,998 INFO app.services.openai_service MainThread : Resolved feedback model: gpt-4.1-mini (Config: None, Env: None, Default: gpt-4.1-mini)
2025-04-29 00:55:21,001 INFO app.services.openai_service MainThread : Operating system: Windows 10 (10.0.26100)
2025-04-29 00:55:21,017 INFO app.services.openai_service MainThread : Hostname: CasonsPC, Primary IP (gethostbyname): 10.0.0.150
2025-04-29 00:55:21,020 INFO app.services.openai_service MainThread : All IPs for hostname (getaddrinfo): ['2604:3d08:ea96:700:6b3e:d2ca:7404:71a8', '2604:3d08:ea96:700::b1cc', '2604:3d08:ea96:700:48ea:452c:6b57:7bd2', '10.0.0.150', 'fe80::20d1:846a:12b1:1b1a']
2025-04-29 00:55:21,023 INFO app.services.openai_service MainThread : Proxy environment: HTTP_PROXY=None, HTTPS_PROXY=None, NO_PROXY=None
2025-04-29 00:55:21,024 INFO app.services.openai_service MainThread : Python version: 3.11.9
2025-04-29 00:55:21,027 INFO app.services.openai_service MainThread : openai version: 1.7.0
2025-04-29 00:55:21,029 INFO app.services.openai_service MainThread : httpx version: 0.28.1
2025-04-29 00:55:21,032 INFO app.services.openai_service MainThread : certifi path: C:\Users\cason\Downloads\salestraining-ai\.venv\Lib\site-packages\certifi\cacert.pem
2025-04-29 00:55:21,034 INFO app.services.openai_service MainThread : dnspython version: 2.4.2
2025-04-29 00:55:21,922 INFO app.services.openai_service MainThread : Created default httpx.Client instance explicitly with default SSL context.
2025-04-29 00:55:21,925 INFO app.services.openai_service MainThread : OpenAI client created with custom http_client.
2025-04-29 00:55:21,927 INFO app.services.openai_service MainThread : Testing basic connectivity to api.openai.com:443...
2025-04-29 00:55:21,969 INFO app.services.openai_service MainThread : Socket connection to api.openai.com:443 successful
2025-04-29 00:55:21,971 INFO app.services.openai_service MainThread : Testing OpenAI API connection with model: gpt-4.1-mini (attempt 1/5)...
2025-04-29 00:55:22,515 INFO httpx MainThread : HTTP Request: GET https://api.openai.com/v1/models/gpt-4.1-mini "HTTP/1.1 200 OK"
2025-04-29 00:55:22,519 INFO app.services.openai_service MainThread : OpenAI API connection successful for model: gpt-4.1-mini
2025-04-29 00:55:22,521 INFO app.services.openai_service MainThread : OpenAIService initialized with client.
2025-04-29 00:55:22,522 INFO app.services.openai_service MainThread : Testing basic connectivity to api.openai.com:443...
2025-04-29 00:55:22,574 INFO app.services.openai_service MainThread : Socket connection to api.openai.com:443 successful
2025-04-29 00:55:22,576 INFO app.services.openai_service MainThread : Testing OpenAI API connection with model: gpt-4.1-mini (attempt 1/5)...
2025-04-29 00:55:22,982 INFO httpx MainThread : HTTP Request: GET https://api.openai.com/v1/models/gpt-4.1-mini "HTTP/1.1 200 OK"
2025-04-29 00:55:22,984 INFO app.services.openai_service MainThread : OpenAI API connection successful for model: gpt-4.1-mini
2025-04-29 00:55:22,985 INFO app.services.api_manager MainThread : OpenAI service initialized: True
2025-04-29 00:55:22,986 INFO app.services.eleven_labs_service MainThread : ElevenLabsService init_app called. App config type: <class 'flask.config.Config'>
2025-04-29 00:55:22,986 INFO app.services.eleven_labs_service MainThread : API Key from app.config.get('ELEVEN_LABS_API_KEY'): Exists
2025-04-29 00:55:22,987 INFO app.services.eleven_labs_service MainThread : API Key from os.environ.get('ELEVEN_LABS_API_KEY'): Exists
2025-04-29 00:55:22,988 INFO app.services.eleven_labs_service MainThread : API Key from os.environ.get('ELEVENLABS_API_KEY'): Exists
2025-04-29 00:55:22,988 INFO app.services.eleven_labs_service MainThread : ElevenLabsService initialized successfully with API key (length: 51)
2025-04-29 00:55:22,989 INFO app.services.api_manager MainThread : ElevenLabs service initialized: True
2025-04-29 00:55:22,990 INFO app.services.deepgram_service MainThread : Initializing DeepgramService with app context
2025-04-29 00:55:22,990 INFO app.services.deepgram_service MainThread : Deepgram API key format: length=40, has prefix='dg_'=False
2025-04-29 00:55:22,991 INFO app.services.deepgram_service MainThread : Detected possible legacy key format, will try both original and with dg_ prefix
2025-04-29 00:55:22,993 INFO app.services.deepgram_service MainThread : Created alternative API key with dg_ prefix for fallback
2025-04-29 00:55:22,993 INFO app.services.deepgram_service MainThread : DeepgramService initialized successfully
2025-04-29 00:55:22,994 INFO app.services.api_manager MainThread : Deepgram service initialized
2025-04-29 00:55:22,997 INFO app.system_health MainThread : Health check routes registered
2025-04-29 00:55:22,998 INFO app.extensions MainThread : Initializing extensions for app instance (id: 3001102986576)
2025-04-29 00:55:22,998 INFO app.extensions MainThread : Initializing SQLAlchemy...
2025-04-29 00:55:22,999 INFO app.extensions MainThread : SQLAlchemy already registered on this Flask app, skipping initialization
2025-04-29 00:55:23,000 INFO app.extensions MainThread : Initializing Flask-Login...
2025-04-29 00:55:23,000 INFO app.extensions MainThread : Initializing Flask-Mail...
2025-04-29 00:55:23,001 INFO app.extensions MainThread : Initializing Flask-Limiter...
2025-04-29 00:55:23,002 INFO app.extensions MainThread : Initializing OAuth...
2025-04-29 00:55:23,003 INFO app.extensions MainThread : Initializing Flask-Migrate...
2025-04-29 00:55:23,004 INFO app.extensions MainThread : Initializing Flask-Bcrypt...
2025-04-29 00:55:23,004 INFO app.extensions MainThread : Initializing Flask-SocketIO...
2025-04-29 00:55:23,005 INFO app.extensions MainThread : Debug mode detected, enabling detailed socketio logging
2025-04-29 00:55:23,053 INFO engineio.server MainThread : Server initialized for threading.
2025-04-29 00:55:23,054 INFO app.extensions MainThread : Flask-SocketIO initialized successfully
2025-04-29 00:55:23,055 INFO app.extensions MainThread : All extensions initialized successfully
2025-04-29 00:55:23,442 INFO app.services.voice_analysis_service MainThread : Voice Analysis Service initialized.
2025-04-29 00:55:23,536 INFO app.error_handler MainThread : Registering centralized error handlers
2025-04-29 00:55:23,539 WARNING werkzeug MainThread :  * Debugger is active!
2025-04-29 00:55:23,549 INFO werkzeug MainThread :  * Debugger PIN: 735-563-336
2025-04-29 00:55:23,597 INFO werkzeug Thread-4 (process_request_thread) : 127.0.0.1 - - [29/Apr/2025 00:55:23] "GET /api/auth/status HTTP/1.1" 200 -
2025-04-29 00:55:23,597 INFO werkzeug Thread-3 (process_request_thread) : 127.0.0.1 - - [29/Apr/2025 00:55:23] "GET /api/auth/status HTTP/1.1" 200 -
2025-04-29 00:55:57,106 CRITICAL app.chat.routes Thread-5 (process_request_thread) : --- CRITICAL: ENTERED api_chat_endpoint ---
2025-04-29 00:55:57,108 INFO app.chat.routes Thread-5 (process_request_thread) : Received request to /api/chat: application/json POST
2025-04-29 00:55:57,111 INFO app.chat.routes Thread-5 (process_request_thread) : Received message: Hello. How's it going?...
2025-04-29 00:55:57,151 INFO app.services.conversation_service Thread-5 (process_request_thread) : --- Entering process_user_message for session 9 ---
2025-04-29 00:55:57,170 ERROR app.services.conversation_service Thread-5 (process_request_thread) : Error in process_user_message: 'training_session_id' is an invalid keyword argument for Message
Traceback (most recent call last):
  File "C:\Users\cason\Downloads\salestraining-ai\app\services\conversation_service.py", line 52, in process_user_message
    user_message = Message(
                   ^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\cason\Downloads\salestraining-ai\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 575, in _initialize_instance
    with util.safe_reraise():
  File "C:\Users\cason\Downloads\salestraining-ai\.venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 147, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\cason\Downloads\salestraining-ai\.venv\Lib\site-packages\sqlalchemy\orm\state.py", line 573, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
  File "C:\Users\cason\Downloads\salestraining-ai\.venv\Lib\site-packages\sqlalchemy\orm\decl_base.py", line 2073, in _declarative_constructor
    raise TypeError(
TypeError: 'training_session_id' is an invalid keyword argument for Message
2025-04-29 00:55:57,179 CRITICAL app.services.conversation_service Thread-5 (process_request_thread) : --- CRITICAL: process_user_message caught an exception ---
2025-04-29 00:55:57,180 INFO app.chat.routes Thread-5 (process_request_thread) : Received response from conversation service: I apologize, but I'm experiencing a technical issu...
2025-04-29 00:55:57,186 INFO werkzeug Thread-5 (process_request_thread) : 127.0.0.1 - - [29/Apr/2025 00:55:57] "POST /chat/api/chat HTTP/1.1" 200 -
